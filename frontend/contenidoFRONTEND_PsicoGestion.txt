

/.env:
--------------------------------------------------------------------------------
PORT=3001
BROWSER=none

/package.json:
--------------------------------------------------------------------------------
{
  "name": "frontend-psico",
  "version": "1.0.0",
  "private": true,
  "dependencies": {
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "react-router-dom": "^6.22.0",
    "axios": "^1.6.0",
    "react-icons": "^4.12.0",
    "date-fns": "^2.30.0"
  },
  "scripts": {
    "start": "react-scripts start",
    "build": "react-scripts build",
    "test": "react-scripts test",
    "eject": "react-scripts eject",
    "dev": "react-scripts start --no-lazy"
  },
  "devDependencies": {
    "react-scripts": "5.0.1"
  },
  "browserslist": {
    "production": [
      ">0.2%",
      "not dead",
      "not op_mini all"
    ],
    "development": [
      "last 1 chrome version",
      "last 1 firefox version",
      "last 1 safari version"
    ]
  }
}

/src\App.js:
--------------------------------------------------------------------------------
import React from 'react';
import { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';
import { AuthProvider } from './context/AuthContext';
import Login from './components/Auth/Login';
import RoleRouter from './components/Auth/RoleRouter';
import ProtectedRoute from './components/Auth/ProtectedRoute';

// Importa los modales
import ConfirmModal from './components/Common/ConfirmModal';
import NotificationModal from './components/Common/NotificationModal';

// Páginas para Becarios
import BecarioDashboard from './pages/becario/DashboardPage';
import BecarioCitas from './pages/becario/CitasPage';
import BecarioPacientes from './pages/becario/PacientesPage';
import BecarioNotificaciones from './pages/becario/NotificacionesPage';
import BecarioObservaciones from './pages/becario/ObservacionesPage';

// Páginas para Psicólogos
import PsicologoDashboard from './pages/psicologo/DashboardPage';
import PsicologoPacientes from './pages/psicologo/PacientesPage';
import PsicologoCitas from './pages/psicologo/CitasPage';
import PsicologoExpedientes from './pages/psicologo/ExpedientesPage';
import PsicologoSesiones from './pages/psicologo/SesionesPage';
import PsicologoSupervision from './pages/psicologo/SupervisionPage';

// Páginas para Coordinadores
import CoordinadorDashboard from './pages/coordinador/DashboardPage';
import CoordinadorUsuarios from './pages/coordinador/UsuariosPage';
import CoordinadorPacientes from './pages/coordinador/PacientesPage';
import CoordinadorAsignaciones from './pages/coordinador/AsignacionesPage';
import CoordinadorAgenda from './pages/coordinador/AgendaPage';
import CoordinadorReportes from './pages/coordinador/ReportesPage';
import CoordinadorAltas from './pages/coordinador/AltasPage';
import CoordinadorConfiguracion from './pages/coordinador/ConfiguracionPage';

function App() {
  return (
    <Router>
      <AuthProvider>
        {/* Agrega los modales aquí */}
        <ConfirmModal />
        <NotificationModal />
        
        <Routes>
          <Route path="/login" element={<Login />} />
          
          {/* Rutas de Becario */}
          <Route path="/" element={<RoleRouter />}>
            <Route index element={<BecarioDashboard />} />
            
            {/* Becario */}
            <Route path="becario/dashboard" element={<BecarioDashboard />} />
            <Route path="becario/citas" element={<BecarioCitas />} />
            <Route path="becario/pacientes" element={<BecarioPacientes />} />
            <Route path="becario/notificaciones" element={<BecarioNotificaciones />} />
            <Route path="becario/observaciones" element={<BecarioObservaciones />} />
            
            {/* Psicólogo */}
            <Route path="psicologo/dashboard" element={<PsicologoDashboard />} />
            <Route path="psicologo/pacientes" element={<PsicologoPacientes />} />
            <Route path="psicologo/citas" element={<PsicologoCitas />} />
            <Route path="psicologo/expedientes" element={<PsicologoExpedientes />} />
            <Route path="psicologo/sesiones" element={<PsicologoSesiones />} />
            <Route path="psicologo/supervision" element={<PsicologoSupervision />} />
            
            {/* Coordinador */}
            <Route path="coordinador/dashboard" element={<CoordinadorDashboard />} />
            <Route path="coordinador/usuarios" element={<CoordinadorUsuarios />} />
            <Route path="coordinador/pacientes" element={<CoordinadorPacientes />} />
            <Route path="coordinador/asignaciones" element={<CoordinadorAsignaciones />} />
            <Route path="coordinador/agenda" element={<CoordinadorAgenda />} />
            <Route path="coordinador/reportes" element={<CoordinadorReportes />} />
            <Route path="coordinador/altas" element={<CoordinadorAltas />} />
            <Route path="coordinador/configuracion" element={<CoordinadorConfiguracion />} />
          </Route>
          
          {/* Redirección por defecto */}
          <Route path="*" element={<Navigate to="/" />} />
        </Routes>
      </AuthProvider>
    </Router>
  );
}

export default App;

/src\index.js:
--------------------------------------------------------------------------------
import React from 'react';
import ReactDOM from 'react-dom/client';
import './global.css';
import './App.css';

// Importa los estilos de los modales
import './components/Common/ConfirmModal.css';
import './components/Common/NotificationModal.css';

import App from './App';

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);

/src\components\Auth\Login.js:
--------------------------------------------------------------------------------
import React, { useState } from 'react';
import { useNavigate } from 'react-router-dom';
import { useAuth } from '../../context/AuthContext';
import './Login.css';

const Login = () => {
  const [credentials, setCredentials] = useState({
    email: '',
    password: ''
  });
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState('');
  const { login } = useAuth();
  const navigate = useNavigate();

  const handleSubmit = async (e) => {
    e.preventDefault();
    setLoading(true);
    setError('');

    if (!credentials.email || !credentials.password) {
      setError('Por favor ingrese email y contraseña');
      setLoading(false);
      return;
    }

    const result = await login(credentials.email, credentials.password);
    
    console.log('Resultado del login:', result);

    if (result.success) {
      navigate('/dashboard');
    } else {
      setError(result.message);
    }
    
    setLoading(false);
  };

  const handleKeyDown = (e) => {
    if (e.key === 'Enter') {
      handleSubmit(e);
    }
  };

  return (
    <div className="login-page">
      {/* Video de fondo */}
      <video 
        autoPlay 
        loop 
        muted 
        className="background-video"
        onContextMenu={(e) => e.preventDefault()}
      >
        <source src="/images/banner.mp4" type="video/mp4" />
        Tu navegador no soporta videos HTML5.
      </video>

      {/* Contenedor del login */}
      <div className="login-container">
        <div className="login-card">
          <div className="login-header">
            {/* Logo en lugar del texto */}
            <div className="logo-container">
              <img 
                src="/images/logoCESUN2.png" 
                alt="PsicoGestión" 
                className="login-logo"
              />
            </div>
            <p className="login-subtitle">Consultorio Psicológico</p>
          </div>

          <form onSubmit={handleSubmit}>
            <div className="form-group">
              <input
                type="email"
                className="input-field"
                placeholder="Correo electrónico"
                value={credentials.email}
                onChange={(e) => setCredentials({...credentials, email: e.target.value})}
                onKeyDown={handleKeyDown}
                autoFocus
              />
            </div>

            <div className="form-group">
              <div className="password-input-container">
                <input
                  type="password"
                  className="input-field"
                  placeholder="Contraseña"
                  value={credentials.password}
                  onChange={(e) => setCredentials({...credentials, password: e.target.value})}
                  onKeyDown={handleKeyDown}
                  id="password-field"
                  // Añade este atributo para deshabilitar el ícono nativo
                  autoComplete="current-password"
                />
                <button 
                  type="button" 
                  className="password-toggle"
                  onClick={() => {
                    const input = document.getElementById('password-field');
                    const icon = document.querySelector('.password-toggle svg');
                    
                    if (input.type === 'password') {
                      input.type = 'text';
                      // Cambiar al ícono de ojo tachado cuando se muestra la contraseña
                      icon.innerHTML = '<path d="M12 6.5c2.76 0 5 2.24 5 5 0 .51-.1 1-.24 1.46l3.06 3.06c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l2.17 2.17c.47-.14.96-.24 1.47-.24zM2.71 3.16c-.39.39-.39 1.02 0 1.41l1.97 1.97C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.97-.3 4.31-.82l2.72 2.72c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L4.13 3.16c-.39-.39-1.02-.39-1.42 0zM12 16.5c-2.76 0-5-2.24-5-5 0-.77.18-1.5.49-2.14l1.57 1.57c-.03.18-.06.37-.06.57 0 1.66 1.34 3 3 3 .2 0 .38-.03.57-.07L14.14 16c-.64.32-1.37.5-2.14.5zm2.97-5.33c-.15-1.4-1.25-2.49-2.64-2.64l2.64 2.64z"/>';
                    } else {
                      input.type = 'password';
                      // Cambiar al ícono de ojo normal cuando se oculta la contraseña
                      icon.innerHTML = '<path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>';
                    }
                  }}
                >
                  <svg 
                    width="20" 
                    height="20" 
                    viewBox="0 0 24 24" 
                    fill="currentColor"
                  >
                    <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                  </svg>
                </button>
              </div>
            </div>

            {error && (
              <div className="error-message">
                {error}
              </div>
            )}

            <button
              type="submit"
              className="btn-primary-login w-100"
              disabled={loading}
            >
              {loading ? 'Iniciando sesión...' : 'Iniciar Sesión'}
            </button>

            <div className="login-footer">

            </div>
          </form>

          <div className="app-info">
            <p>Versión 1.0.0</p>
            <p>Sistema de Gestión de Consultorio Psicológico</p>
          </div>
        </div>
      </div>
    </div>
  );
};

export default Login;

/src\components\Auth\PrivateRoute.js:
--------------------------------------------------------------------------------
import React from 'react';
import { Navigate } from 'react-router-dom';
import { useAuth } from '../../context/AuthContext';

const PrivateRoute = ({ children }) => {
  const { user, loading } = useAuth();

  if (loading) {
    return (
      <div className="global-loader">
        <div className="global-loader-content">
          <div className="global-loader-spinner"></div>
          <div className="global-loader-text">Cargando...</div>
        </div>
      </div>
    );
  }

  if (!user) {
    return <Navigate to="/login" />;
  }

  return children;
};

export default PrivateRoute;

/src\components\Auth\ProtectedRoute.js:
--------------------------------------------------------------------------------
// src/components/Auth/ProtectedRoute.js
import React from 'react';
import { Navigate } from 'react-router-dom';
import { useAuth } from '../../context/AuthContext';

const ProtectedRoute = ({ children, allowedRoles }) => {
  const { user, loading } = useAuth();

  if (loading) {
    return (
      <div className="global-loader">
        <div className="global-loader-content">
          <div className="global-loader-spinner"></div>
          <div className="global-loader-text">Cargando...</div>
        </div>
      </div>
    );
  }

  if (!user) {
    return <Navigate to="/login" />;
  }

  // Verificar si el usuario tiene un rol permitido
  if (!allowedRoles.includes(user.rol)) {
    // Redirigir al dashboard correspondiente según el rol
    switch (user.rol) {
      case 'becario':
        return <Navigate to="/becario/dashboard" replace />;
      case 'psicologo':
        return <Navigate to="/psicologo/dashboard" replace />;
      case 'coordinador':
        return <Navigate to="/coordinador/dashboard" replace />;
      default:
        return <Navigate to="/login" />;
    }
  }

  return children;
};

export default ProtectedRoute;

/src\components\Auth\RoleRouter.js:
--------------------------------------------------------------------------------
import React from 'react';
import { Navigate, useLocation } from 'react-router-dom';
import { useAuth } from '../../context/AuthContext';
import BecarioLayout from '../Layout/BecarioLayout';
import PsicologoLayout from '../Layout/PsicologoLayout';
import CoordinadorLayout from '../Layout/CoordinadorLayout';

const RoleRouter = ({ children }) => {
  const { user, loading } = useAuth();
  const location = useLocation();

  if (loading) {
    return (
      <div className="global-loader">
        <div className="global-loader-content">
          <div className="global-loader-spinner"></div>
          <div className="global-loader-text">Verificando rol...</div>
        </div>
      </div>
    );
  }

  if (!user) {
    return <Navigate to="/login" />;
  }

  // Verificar si la ruta actual corresponde al rol del usuario
  const path = location.pathname;
  
  if (user.rol === 'becario' && !path.startsWith('/becario')) {
    return <Navigate to="/becario/dashboard" replace />;
  }
  
  if (user.rol === 'psicologo' && !path.startsWith('/psicologo')) {
    return <Navigate to="/psicologo/dashboard" replace />;
  }
  
  if (user.rol === 'coordinador' && !path.startsWith('/coordinador')) {
    return <Navigate to="/coordinador/dashboard" replace />;
  }

  // Determinar layout basado en el rol del usuario
  switch (user.rol) {
    case 'becario':
      return <BecarioLayout>{children}</BecarioLayout>;
    case 'psicologo':
      return <PsicologoLayout>{children}</PsicologoLayout>;
    case 'coordinador':
      return <CoordinadorLayout>{children}</CoordinadorLayout>;
    default:
      return <Navigate to="/login" />;
  }
};

export default RoleRouter;

/src\components\Common\ConfirmModal.jsx:
--------------------------------------------------------------------------------
import React, { useState, useEffect } from 'react'
import './ConfirmModal.css'

let showConfirmFunc = null

const ConfirmModal = () => {
  const [visible, setVisible] = useState(false)
  const [message, setMessage] = useState('')
  const [type, setType] = useState('warning') // 'warning', 'danger', 'info'
  const [callback, setCallback] = useState(null)

  const show = (msg, confirmCallback, msgType = 'warning') => {
    setMessage(msg)
    setType(msgType)
    setCallback(() => confirmCallback)
    setVisible(true)
  }

  const handleConfirm = () => {
    if (callback) callback(true)
    hide()
  }

  const handleCancel = () => {
    if (callback) callback(false)
    hide()
  }

  const hide = () => {
    setVisible(false)
    setMessage('')
    setCallback(null)
  }

  const handleKeyDown = (e) => {
    if (e.key === 'Enter') {
      handleConfirm()
    } else if (e.key === 'Escape') {
      handleCancel()
    }
  }

  const handleOverlayClick = (e) => {
    if (e.target.classList.contains('confirm-overlay')) {
      handleCancel()
    }
  }

  // Exponer la función show al objeto global
  useEffect(() => {
    showConfirmFunc = show
    
    return () => {
      showConfirmFunc = null
    }
  }, [])

  useEffect(() => {
    if (visible) {
      document.addEventListener('keydown', handleKeyDown)
    }
    return () => {
      document.removeEventListener('keydown', handleKeyDown)
    }
  }, [visible])

  if (!visible) return null

  const getButtonTexts = () => {
    switch (type) {
      case 'danger': return { confirm: 'Sí', cancel: 'Cancelar' }
      case 'info': return { confirm: 'Sí', cancel: 'No' }
      default: return { confirm: 'Sí', cancel: 'Cancelar' }
    }
  }

  const buttonTexts = getButtonTexts()

  return (
    <div 
      className="confirm-overlay" 
      onClick={handleOverlayClick}
    >
      <div className={`modal-confirm modal-confirm-${type}`}>
        <div className="confirm-message">
          {message}
        </div>
        <div className="confirm-buttons-container">
          <button 
            className={`modal-button confirm-button-cancel confirm-button-${type}-cancel`}
            onClick={handleCancel}
          >
            {buttonTexts.cancel}
          </button>
          <button 
            className={`modal-button confirm-button-confirm confirm-button-${type}`}
            onClick={handleConfirm}
            autoFocus
          >
            {buttonTexts.confirm}
          </button>
        </div>
      </div>
    </div>
  )
}

// Función global para mostrar confirmaciones
export const showConfirm = (message, type = 'warning') => {
  return new Promise((resolve) => {
    if (showConfirmFunc) {
      showConfirmFunc(message, resolve, type)
    } else {
      console.error('ConfirmModal no está montado')
      // Fallback al confirm nativo si no está disponible
      const result = window.confirm(message)
      resolve(result)
    }
  })
}

export default ConfirmModal

/src\components\Common\NotificationModal.jsx:
--------------------------------------------------------------------------------
import React, { useState, useEffect } from 'react'
import './NotificationModal.css'

let showNotificationFunc = null

const NotificationModal = () => {
  const [visible, setVisible] = useState(false)
  const [message, setMessage] = useState('')
  const [type, setType] = useState('info') // 'info', 'success', 'error', 'warning'

  const show = (msg, msgType = 'info') => {
    setMessage(msg)
    setType(msgType)
    setVisible(true)
  }

  const hide = () => {
    setVisible(false)
  }

  const handleKeyDown = (e) => {
    if (e.key === 'Enter' || e.key === 'Escape') {
      hide()
    }
  }

  const handleOverlayClick = (e) => {
    if (e.target.classList.contains('notification-overlay')) {
      hide()
    }
  }

  // Exponer la función show al objeto global
  useEffect(() => {
    showNotificationFunc = show
    
    return () => {
      showNotificationFunc = null
    }
  }, [])

  useEffect(() => {
    if (visible) {
      document.addEventListener('keydown', handleKeyDown)
    }
    return () => {
      document.removeEventListener('keydown', handleKeyDown)
    }
  }, [visible])

  if (!visible) return null

  return (
    <div 
      className="notification-overlay" 
      onClick={handleOverlayClick}
    >
      <div className={`modal-notification modal-notification-${type}`}>
        <div className="notification-message">
          {message}
        </div>
        <button 
          className={`modal-button notification-close-button notification-button-${type}`}
          onClick={hide}
          autoFocus
        >
          Aceptar
        </button>
      </div>
    </div>
  )
}

// Función global para mostrar notificaciones
export const showNotification = (message, type = 'info') => {
  if (showNotificationFunc) {
    showNotificationFunc(message, type)
  } else {
    console.error('NotificationModal no está montado')
    // Fallback al alert si no está disponible

  }
}

export default NotificationModal

/src\components\Layout\BecarioLayout.js:
--------------------------------------------------------------------------------
import React, { useState, useEffect } from 'react';
import { Outlet, NavLink, useNavigate } from 'react-router-dom';
import { useAuth } from '../../context/AuthContext';
import { 
  FiMenu, FiChevronLeft, FiHome, FiUsers, FiCalendar, FiBell,FiSun, FiMoon,
  FiFileText, FiLogOut, FiClock
} from 'react-icons/fi';

const BecarioLayout = () => {
  const [sidebarOpen, setSidebarOpen] = useState(true);
  const { user, logout } = useAuth();
  const [darkMode, setDarkMode] = useState(false);
  const navigate = useNavigate();
  const [notificaciones, setNotificaciones] = useState([]);

  useEffect(() => {
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme === 'dark') {
        setDarkMode(true);
        document.documentElement.setAttribute('data-theme', 'dark');
      } else {
        setDarkMode(false);
        document.documentElement.setAttribute('data-theme', 'light');
      }
    }, []);
  
    const toggleDarkMode = () => {
      const newDarkMode = !darkMode;
      setDarkMode(newDarkMode);
      
      if (newDarkMode) {
        document.documentElement.setAttribute('data-theme', 'dark');
        localStorage.setItem('theme', 'dark');
      } else {
        document.documentElement.setAttribute('data-theme', 'light');
        localStorage.setItem('theme', 'light');
      }
    };

  const handleLogout = () => {
    logout();
    navigate('/login');
  };

  const fetchNotificaciones = async () => {
    try {
      const token = localStorage.getItem('token');
      const response = await fetch('http://localhost:3000/api/notificaciones/mis-notificaciones', {
        headers: {
          'Authorization': `Bearer ${token}`
        }
      });
      
      if (response.ok) {
        const data = await response.json();
        setNotificaciones(data.data || []);
      }
    } catch (error) {
      console.error('Error al obtener notificaciones:', error);
    }
  };

  useEffect(() => {
    fetchNotificaciones();
    // Actualizar cada 30 segundos
    const interval = setInterval(fetchNotificaciones, 30000);
    return () => clearInterval(interval);
  }, []);

  const navItems = [
    { path: '/becario/dashboard', icon: <FiHome />, label: 'Inicio', permiso: 'ver_panel_becario' },
    { path: '/becario/citas', icon: <FiCalendar />, label: 'Mis Citas', permiso: 'gestionar_citas_asignadas' },
    { path: '/becario/pacientes', icon: <FiUsers />, label: 'Mis Pacientes', permiso: 'ver_pacientes_asignados' },
    { path: '/becario/notificaciones', icon: <FiBell />, label: 'Notificaciones', permiso: 'ver_notificaciones' },
    { path: '/becario/observaciones', icon: <FiFileText />, label: 'Observaciones', permiso: 'registrar_observaciones' },
  ];

  return (
    <div className="main-container">
      {/* Top Header */}
      <header className="top-header">
        <div className="flex-row align-center">
          <button 
            className="control-btn"
            onClick={() => setSidebarOpen(!sidebarOpen)}
          >
            {sidebarOpen ? <FiChevronLeft size={24} /> : <FiMenu size={24} />}
          </button>
          <img 
                src="/images/logoCESUN2wide.png" 
                alt="PsicoGestión" 
                className="dashboard-logo"
              />
          <h2 className="app-name">- Becario</h2>
        </div>
        
        <div className="flex-row align-center gap-20">
          <div className="notificaciones-dropdown">
            <button className="btn-header">
              <FiBell />
              {notificaciones.filter(n => !n.leida).length > 0 && (
                <span className="badge-notificacion">
                  {notificaciones.filter(n => !n.leida).length}
                </span>
              )}
            </button>
          </div>

          {/* Toggle Switch Dark Mode */}
          <div className="toggle-container">
            <input 
              type="checkbox" 
              id="dark-mode-toggle" 
              className="toggle-checkbox"
              checked={darkMode}
              onChange={toggleDarkMode}
            />
            <label 
              htmlFor="dark-mode-toggle" 
              className="toggle-label"
              title={darkMode ? "Modo oscuro activado" : "Modo claro activado"}
            >
              <div className="toggle-ball">
                {darkMode ? <FiMoon size={14} /> : <FiSun size={14} />}
              </div>
              <div className="toggle-icons">
                <FiSun className="sun-icon" size={14} />
                <FiMoon className="moon-icon" size={14} />
              </div>
            </label>
          </div>
          
          <div className="user-info">
            <span className="user-email">{user?.email}</span>
            <span className="user-rol">Becario</span>
          </div>
          
          <button 
            className="btn-header"
            onClick={handleLogout}
            title="Cerrar sesión"
          >
            <FiLogOut />
            <span>Salir</span>
          </button>
        </div>
      </header>

      <div className="content-wrapper">
        {/* Sidebar */}
        <aside className={`sidebar ${sidebarOpen ? 'open' : 'closed'}`}>
          <nav className="sidebar-nav">
            {navItems.map((item) => (
              <NavLink
                key={item.path}
                to={item.path}
                className={({ isActive }) => 
                  `sidebar-nav-item ${isActive ? 'active' : ''}`
                }
              >
                {item.icon}
                {sidebarOpen && <span>{item.label}</span>}
              </NavLink>
            ))}
          </nav>
          
          {/* Info del día */}
          {sidebarOpen && (
            <div className="sidebar-info">
              <div className="sidebar-info-item">
                <FiClock />
                <span>{new Date().toLocaleDateString('es-ES', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}</span>
              </div>
              <div className="sidebar-info-item">
                <FiUsers />
                <span>Pacientes asignados: Cargando...</span>
              </div>
            </div>
          )}
        </aside>

        {/* Main Content */}
        <main className="main-content">
          <div className="content-area">
            <Outlet />
          </div>
        </main>
      </div>

      {/* Bottom Status Bar */}
      <footer className="status-bar">
        <div className="status-info">
          <span>Sesión: {user?.email}</span>
          <span>Rol: Becario</span>
          <span>Última conexión: {new Date().toLocaleTimeString()}</span>
        </div>
      </footer>
    </div>
  );
};

export default BecarioLayout;

/src\components\Layout\CoordinadorLayout.js:
--------------------------------------------------------------------------------
import React, { useState, useEffect } from 'react';
import { Outlet, NavLink, useNavigate } from 'react-router-dom';
import { useAuth } from '../../context/AuthContext';
import { 
  FiMenu, FiChevronLeft, FiHome, FiUsers, FiCalendar, FiBarChart2,
  FiUserPlus, FiFileText, FiSettings, FiLogOut, FiClock,FiSun, FiMoon,
  FiTrendingUp, FiUserCheck
} from 'react-icons/fi';

const CoordinadorLayout = () => {
  const [sidebarOpen, setSidebarOpen] = useState(true);
  const [darkMode, setDarkMode] = useState(false);
  const { user, logout } = useAuth();
  const navigate = useNavigate();

  // Inicializar el tema desde localStorage
  useEffect(() => {
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'dark') {
      setDarkMode(true);
      document.documentElement.setAttribute('data-theme', 'dark');
    } else {
      setDarkMode(false);
      document.documentElement.setAttribute('data-theme', 'light');
    }
  }, []);

  const toggleDarkMode = () => {
    const newDarkMode = !darkMode;
    setDarkMode(newDarkMode);
    
    if (newDarkMode) {
      document.documentElement.setAttribute('data-theme', 'dark');
      localStorage.setItem('theme', 'dark');
    } else {
      document.documentElement.setAttribute('data-theme', 'light');
      localStorage.setItem('theme', 'light');
    }
  };

  const handleLogout = () => {
    logout();
    navigate('/login');
  };

  const navItems = [
    { path: '/coordinador/dashboard', icon: <FiHome />, label: 'Panel Coordinación', permiso: 'ver_panel_coordinacion' },
    { path: '/coordinador/usuarios', icon: <FiUserPlus />, label: 'Gestión Usuarios', permiso: 'gestionar_usuarios' },
    { path: '/coordinador/pacientes', icon: <FiUsers />, label: 'Gestión Pacientes', permiso: 'gestionar_pacientes' },
    { path: '/coordinador/asignaciones', icon: <FiUserCheck />, label: 'Asignaciones', permiso: 'gestionar_asignaciones' },
    { path: '/coordinador/agenda', icon: <FiCalendar />, label: 'Agenda Global', permiso: 'ver_agenda_global' },
    { path: '/coordinador/reportes', icon: <FiBarChart2 />, label: 'Reportes', permiso: 'generar_reportes' },
    { path: '/coordinador/altas', icon: <FiTrendingUp />, label: 'Seguimiento Altas', permiso: 'gestionar_altas' },
    { path: '/coordinador/configuracion', icon: <FiSettings />, label: 'Configuración', permiso: 'ver_panel_coordinacion' },
  ];

  return (
    <div className="main-container">
      <header className="top-header">
        <div className="flex-row align-center">
          <button 
            className="control-btn"
            onClick={() => setSidebarOpen(!sidebarOpen)}
          >
            {sidebarOpen ? <FiChevronLeft size={24} /> : <FiMenu size={24} />}
          </button>
              <img 
                src="/images/logoCESUN2wide.png" 
                alt="PsicoGestión" 
                className="dashboard-logo"
              />
          <h2 className="app-name">- Coordinación</h2>
        </div>

        <div className="flex-row align-center gap-20">
          {/* Toggle Switch Dark Mode */}
          <div className="toggle-container">
            <input 
              type="checkbox" 
              id="dark-mode-toggle" 
              className="toggle-checkbox"
              checked={darkMode}
              onChange={toggleDarkMode}
            />
            <label 
              htmlFor="dark-mode-toggle" 
              className="toggle-label"
              title={darkMode ? "Modo oscuro activado" : "Modo claro activado"}
            >
              <div className="toggle-ball">
                {darkMode ? <FiMoon size={14} /> : <FiSun size={14} />}
              </div>
              <div className="toggle-icons">
                <FiSun className="sun-icon" size={14} />
                <FiMoon className="moon-icon" size={14} />
              </div>
            </label>
          </div>
          
          <div className="user-info">
            <span className="user-email">{user?.email}</span>
            <span className="user-rol">Coordinador</span>
            {user?.especialidad && (
              <span className="user-especialidad">• {user.especialidad}</span>
            )}
          </div>
          
          <button 
            className="btn-header"
            onClick={handleLogout}
            title="Cerrar sesión"
          >
            <FiLogOut />
            <span>Salir</span>
          </button>
        </div>
      </header>

      <div className="content-wrapper">
        <aside className={`sidebar ${sidebarOpen ? 'open' : 'closed'}`}>
          <nav className="sidebar-nav">
            {navItems.map((item) => (
              <NavLink
                key={item.path}
                to={item.path}
                className={({ isActive }) => 
                  `sidebar-nav-item ${isActive ? 'active' : ''}`
                }
              >
                {item.icon}
                {sidebarOpen && <span>{item.label}</span>}
              </NavLink>
            ))}
          </nav>
          
          {sidebarOpen && (
            <div className="sidebar-info">
              <div className="sidebar-info-item">
                <FiClock />
                <span>Citas hoy: Cargando...</span>
              </div>
              <div className="sidebar-info-item">
                <FiUsers />
                <span>Becarios activos: Cargando...</span>
              </div>
              <div className="sidebar-info-item">
                <FiBarChart2 />
                <span>Altas este mes: Cargando...</span>
              </div>
            </div>
          )}
        </aside>

        <main className="main-content">
          <div className="content-area">
            <Outlet />
          </div>
        </main>
      </div>

      <footer className="status-bar">
        <div className="status-info">
          <span>Sesión: {user?.email}</span>
          <span>Rol: Coordinador • Sistema completo</span>
          <span>Última actualización: {new Date().toLocaleTimeString()}</span>
        </div>
      </footer>
    </div>
  );
};

export default CoordinadorLayout;

/src\components\Layout\MainLayout.js:
--------------------------------------------------------------------------------
import React, { useState } from 'react';
import { Outlet, NavLink, useNavigate } from 'react-router-dom';
import { useAuth } from '../../context/AuthContext';
import { FiMenu, FiChevronLeft,FiChevronLeft, FiHome, FiUsers, FiCalendar, FiSettings, FiLogOut } from 'react-icons/fi';

const MainLayout = () => {
  const [sidebarOpen, setSidebarOpen] = useState(true);
  const { user, logout } = useAuth();
  const navigate = useNavigate();

  const handleLogout = () => {
    logout();
    navigate('/login');
  };

  const navItems = [
    { path: '/dashboard', icon: <FiHome />, label: 'Dashboard' },
    { path: '/pacientes', icon: <FiUsers />, label: 'Pacientes' },
    { path: '/citas', icon: <FiCalendar />, label: 'Citas' },
    { path: '/configuracion', icon: <FiSettings />, label: 'Configuración' },
  ];

  return (
    <div className="main-container">
      {/* Top Header */}
      <header className="top-header">
        <div className="flex-row align-center">
          <button 
            className="control-btn"
            onClick={() => setSidebarOpen(!sidebarOpen)}
          >
            {sidebarOpen ? <FiChevronLeft size={24} /> : <FiMenu size={24} />}
          </button>
          <img 
                src="/images/logoCESUN2wide.png" 
                alt="PsicoGestión" 
                className="dashboard-logo"
              />
        </div>
        
        <div className="flex-row align-center gap-20">
          <div className="user-info">
            <span className="user-email">{user?.email}</span>
          </div>
          <button 
            className="btn-header"
            onClick={handleLogout}
            title="Cerrar sesión"
          >
            <FiLogOut />
            <span>Salir</span>
          </button>
        </div>
      </header>

      <div className="content-wrapper">
        {/* Sidebar */}
        <aside className={`sidebar ${sidebarOpen ? 'open' : 'closed'}`}>
          <nav className="sidebar-nav">
            {navItems.map((item) => (
              <NavLink
                key={item.path}
                to={item.path}
                className={({ isActive }) => 
                  `sidebar-nav-item ${isActive ? 'active' : ''}`
                }
              >
                {item.icon}
                {sidebarOpen && <span>{item.label}</span>}
              </NavLink>
            ))}
          </nav>
        </aside>

        {/* Main Content */}
        <main className="main-content">
          <div className="content-area">
            <Outlet />
          </div>
        </main>
      </div>

      {/* Bottom Status Bar */}
      <footer className="status-bar">
        <div className="status-info">
          <span>Sesión activa: {user?.email}</span>
          <span>Última conexión: {new Date().toLocaleTimeString()}</span>
        </div>
      </footer>
    </div>
  );
};

export default MainLayout;

/src\components\Layout\PsicologoLayout.js:
--------------------------------------------------------------------------------
import React, { useState, useEffect } from 'react';
import { Outlet, NavLink, useNavigate } from 'react-router-dom';
import { useAuth } from '../../context/AuthContext';
import { 
  FiMenu, FiChevronLeft, FiHome, FiUsers, FiCalendar, FiFileText,
  FiBarChart2, FiUserCheck, FiLogOut, FiClock, FiSun, FiMoon
} from 'react-icons/fi';

const PsicologoLayout = () => {
  const [sidebarOpen, setSidebarOpen] = useState(true);
  const [darkMode, setDarkMode] = useState(false);
  const { user, logout } = useAuth();
  const navigate = useNavigate();

  // Inicializar el tema desde localStorage
  useEffect(() => {
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'dark') {
      setDarkMode(true);
      document.documentElement.setAttribute('data-theme', 'dark');
    } else {
      setDarkMode(false);
      document.documentElement.setAttribute('data-theme', 'light');
    }
  }, []);

  const toggleDarkMode = () => {
    const newDarkMode = !darkMode;
    setDarkMode(newDarkMode);
    
    if (newDarkMode) {
      document.documentElement.setAttribute('data-theme', 'dark');
      localStorage.setItem('theme', 'dark');
    } else {
      document.documentElement.setAttribute('data-theme', 'light');
      localStorage.setItem('theme', 'light');
    }
  };

  const handleLogout = () => {
    logout();
    navigate('/login');
  };

  const navItems = [
    { path: '/psicologo/dashboard', icon: <FiHome />, label: 'Panel Principal', permiso: 'ver_panel_psicologo' },
    { path: '/psicologo/pacientes', icon: <FiUsers />, label: 'Mis Pacientes', permiso: 'ver_mis_pacientes' },
    { path: '/psicologo/citas', icon: <FiCalendar />, label: 'Mis Citas', permiso: 'gestionar_mis_citas' },
    { path: '/psicologo/expedientes', icon: <FiFileText />, label: 'Expedientes', permiso: 'ver_expedientes' },
    { path: '/psicologo/sesiones', icon: <FiBarChart2 />, label: 'Registro Sesiones', permiso: 'registrar_sesiones' },
    { path: '/psicologo/supervision', icon: <FiUserCheck />, label: 'Supervisión', permiso: 'supervisar_becarios' },
  ];

  return (
    <div className="main-container">
      <header className="top-header">
        <div className="flex-row align-center">
          <button 
            className="control-btn"
            onClick={() => setSidebarOpen(!sidebarOpen)}
          >
            {sidebarOpen ? <FiChevronLeft size={24} /> : <FiMenu size={24} />}
          </button>
          <img 
            src="/images/logoCESUN2wide.png" 
            alt="PsicoGestión" 
            className="dashboard-logo"
          />
          <h2 className="app-name">- Psicólogo</h2>
        </div>
        
        <div className="flex-row align-center gap-20">
          {/* Toggle Switch Dark Mode */}
          <div className="toggle-container">
            <input 
              type="checkbox" 
              id="dark-mode-toggle" 
              className="toggle-checkbox"
              checked={darkMode}
              onChange={toggleDarkMode}
            />
            <label 
              htmlFor="dark-mode-toggle" 
              className="toggle-label"
              title={darkMode ? "Modo oscuro activado" : "Modo claro activado"}
            >
              <div className="toggle-ball">
                {darkMode ? <FiMoon size={14} /> : <FiSun size={14} />}
              </div>
              <div className="toggle-icons">
                <FiSun className="sun-icon" size={14} />
                <FiMoon className="moon-icon" size={14} />
              </div>
            </label>
          </div>
          
          <div className="user-info">
            <span className="user-email">{user?.email}</span>
            <span className="user-rol">Psicólogo</span>
            {user?.especialidad && (
              <span className="user-especialidad">• {user.especialidad}</span>
            )}
          </div>
          
          <button 
            className="btn-header"
            onClick={handleLogout}
            title="Cerrar sesión"
          >
            <FiLogOut />
            <span>Salir</span>
          </button>
        </div>
      </header>

      <div className="content-wrapper">
        <aside className={`sidebar ${sidebarOpen ? 'open' : 'closed'}`}>
          <nav className="sidebar-nav">
            {navItems.map((item) => (
              <NavLink
                key={item.path}
                to={item.path}
                className={({ isActive }) => 
                  `sidebar-nav-item ${isActive ? 'active' : ''}`
                }
              >
                {item.icon}
                {sidebarOpen && <span>{item.label}</span>}
              </NavLink>
            ))}
          </nav>
          
          {sidebarOpen && (
            <div className="sidebar-info">
              <div className="sidebar-info-item">
                <FiClock />
                <span>Citas hoy: Cargando...</span>
              </div>
              <div className="sidebar-info-item">
                <FiUsers />
                <span>Pacientes activos: Cargando...</span>
              </div>
            </div>
          )}
        </aside>

        <main className="main-content">
          <div className="content-area">
            <Outlet />
          </div>
        </main>
      </div>

      <footer className="status-bar">
        <div className="status-info">
          <span>Sesión: {user?.email}</span>
          <span>Rol: Psicólogo • Especialidad: {user?.especialidad || 'No especificada'}</span>
          <span>Última actualización: {new Date().toLocaleTimeString()}</span>
        </div>
      </footer>
    </div>
  );
};

export default PsicologoLayout;

/src\context\AuthContext.js:
--------------------------------------------------------------------------------
import React, { createContext, useState, useContext, useEffect } from 'react';
import axios from 'axios';

const AuthContext = createContext({});

export const useAuth = () => useContext(AuthContext);

export const AuthProvider = ({ children }) => {
  const [user, setUser] = useState(null);
  const [loading, setLoading] = useState(true);
  const [token, setToken] = useState(localStorage.getItem('token'));

  useEffect(() => {
    if (token) {
      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;
      fetchUserData();
    } else {
      setLoading(false);
    }
  }, [token]);

  const fetchUserData = async () => {
    try {
      const response = await axios.get('http://localhost:3000/api/auth/me');
      setUser(response.data.user);
    } catch (error) {
      console.error('Error fetching user data:', error);
      // Si el error es 401 (token inválido/vencido), hacer logout
      if (error.response?.status === 401) {
        logout();
      }
    } finally {
      setLoading(false);
    }
  };

  const login = async (email, password) => {
    try {
      const response = await axios.post('http://localhost:3000/api/auth/login', {
        email,
        password
      });
      
      const { token, user } = response.data;
      
      localStorage.setItem('token', token);
      localStorage.setItem('psico_user', JSON.stringify(user));
      
      axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;
      setToken(token);
      setUser(user);
      
      // Redirigir según el rol después del login exitoso
      setTimeout(() => {
        switch (user.rol) {
          case 'becario':
            window.location.href = '/becario/dashboard';
            break;
          case 'psicologo':
            window.location.href = '/psicologo/dashboard';
            break;
          case 'coordinador':
            window.location.href = '/coordinador/dashboard';
            break;
          default:
            window.location.href = '/dashboard';
        }
      }, 100);
      
      return { success: true };
    } catch (error) {
      console.error('Login error:', error);
      return { 
        success: false, 
        message: error.response?.data?.message || 'Error en el inicio de sesión' 
      };
    }
  };

  const logout = () => {
    localStorage.removeItem('token');
    localStorage.removeItem('psico_user');
    delete axios.defaults.headers.common['Authorization'];
    setToken(null);
    setUser(null);
    window.location.href = '/login';
  };

  const updateUser = (updatedUser) => {
    setUser(updatedUser);
    localStorage.setItem('psico_user', JSON.stringify(updatedUser));
  };

  const value = {
    user,
    token,
    login,
    logout,
    updateUser,
    loading
  };

  return (
    <AuthContext.Provider value={value}>
      {children}
    </AuthContext.Provider>
  );
};

/src\pages\becario\CitasPage.js:
--------------------------------------------------------------------------------
import React, { useState, useEffect } from 'react';
import { 
  FiCalendar, FiClock, FiUser, FiPlus, 
  FiChevronLeft, FiChevronRight, FiFilter,
  FiCheckCircle, FiXCircle, FiEdit2
} from 'react-icons/fi';
import { format, addDays, subDays } from 'date-fns';
import { es } from 'date-fns/locale';
import notifications from '../../utils/notifications';
import confirmations from '../../utils/confirmations';

const BecarioCitas = () => {
  const [citas, setCitas] = useState([]);
  const [selectedDate, setSelectedDate] = useState(new Date());
  const [loading, setLoading] = useState(true);
  const [view, setView] = useState('day');
  const [showNuevaCitaModal, setShowNuevaCitaModal] = useState(false);
  const [filterEstado, setFilterEstado] = useState('');

  useEffect(() => {
    fetchCitas();
  }, [selectedDate, filterEstado]);

  const fetchCitas = async () => {
    try {
      setLoading(true);
      const token = localStorage.getItem('token');
      const fecha = format(selectedDate, 'yyyy-MM-dd');
      
      let url = `http://localhost:3000/api/citas/citas-por-fecha?fecha=${fecha}`;
      
      const response = await fetch(url, {
        headers: {
          'Authorization': `Bearer ${token}`,
          'Content-Type': 'application/json'
        }
      });
      
      if (response.ok) {
        const data = await response.json();
        
        // Filtrar por estado si se especifica
        let citasFiltradas = data.data || [];
        if (filterEstado) {
          citasFiltradas = citasFiltradas.filter(cita => cita.estado === filterEstado);
        }
        
        setCitas(citasFiltradas);
      }
    } catch (error) {
      console.error('Error al obtener citas:', error);
    } finally {
      setLoading(false);
    }
  };

  const goToPreviousDay = () => {
    setSelectedDate(prev => subDays(prev, 1));
  };

  const goToNextDay = () => {
    setSelectedDate(prev => addDays(prev, 1));
  };

  const goToToday = () => {
    setSelectedDate(new Date());
  };

  const handleEstadoCita = async (citaId, nuevoEstado) => {
    try {
      const token = localStorage.getItem('token');
      
      const response = await fetch(`http://localhost:3000/api/citas/cita/${citaId}`, {
        method: 'PUT',
        headers: {
          'Authorization': `Bearer ${token}`,
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({ estado: nuevoEstado })
      });
      
      if (response.ok) {
        fetchCitas();
        notifications.success(`Cita ${nuevoEstado === 'completada' ? 'completada' : 'cancelada'} exitosamente`);
      }
    } catch (error) {
      console.error('Error al actualizar cita:', error);
      notifications.error('Error al actualizar la cita');
    }
  };

  const formatDateSpanish = (date) => {
    return format(date, "EEEE d 'de' MMMM, yyyy", { locale: es });
  };

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading-spinner"></div>
        <div className="loading-text">Cargando citas...</div>
      </div>
    );
  }

  return (
    <div className="citas-page">
      <div className="page-header">
        <div>
          <h1>Mis Citas</h1>
          <p>Gestión de citas asignadas</p>
        </div>
        <div className="flex-row gap-10">
          <button 
            className="btn-primary"
            onClick={() => setShowNuevaCitaModal(true)}
          >
            <FiPlus /> Nueva Cita
          </button>
        </div>
      </div>

      <div className="calendar-controls">
        <div className="view-selector">
          <button 
            className={`btn-text ${view === 'day' ? 'active' : ''}`}
            onClick={() => setView('day')}
          >
            Día
          </button>
          <button 
            className={`btn-text ${view === 'week' ? 'active' : ''}`}
            onClick={() => setView('week')}
          >
            Semana
          </button>
        </div>

        <div className="date-navigation">
          <button className="btn-text" onClick={goToPreviousDay}>
            <FiChevronLeft /> Ayer
          </button>
          
          <div className="current-date">
            <h3>{formatDateSpanish(selectedDate)}</h3>
          </div>
          
          <button className="btn-text" onClick={goToNextDay}>
            Mañana <FiChevronRight />
          </button>
        </div>

        <div className="quick-actions">
          <button className="btn-secondary" onClick={goToToday}>
            Hoy
          </button>
          <div className="filter-select">
            <select 
              value={filterEstado} 
              onChange={(e) => setFilterEstado(e.target.value)}
              className="form-select"
              style={{ width: '150px' }}
            >
              <option value="">Todos los estados</option>
              <option value="programada">Programadas</option>
              <option value="confirmada">Confirmadas</option>
              <option value="completada">Completadas</option>
              <option value="cancelada">Canceladas</option>
            </select>
          </div>
        </div>
      </div>

      {/* Lista de Citas */}
      <div className="day-citas-list">
        <h3>Citas para {formatDateSpanish(selectedDate)} ({citas.length})</h3>
        
        {citas.length > 0 ? (
          <div className="citas-cards">
            {citas.map((cita) => (
              <div key={cita.id} className="cita-card">
                <div className="cita-card-header">
                  <div className="cita-time">
                    <FiClock /> {cita.hora} ({cita.duracion || 50} min)
                  </div>
                  <div className={`cita-status badge ${
                    cita.estado === 'confirmada' ? 'badge-success' :
                    cita.estado === 'completada' ? 'badge-primary' :
                    cita.estado === 'programada' ? 'badge-warning' :
                    'badge-danger'
                  }`}>
                    {cita.estado}
                  </div>
                </div>
                
                <div className="cita-card-body">
                  <div className="cita-paciente">
                    <FiUser /> {cita.paciente_nombre || 'Paciente'}
                  </div>
                  
                  <div className="cita-info">
                    <div className="cita-tipo">
                      {cita.tipo_consulta === 'presencial' ? '📋 Presencial' : '💻 Virtual'}
                    </div>
                    
                    {cita.paciente_telefono && (
                      <div className="cita-contacto">
                        📞 {cita.paciente_telefono}
                      </div>
                    )}
                    
                    {cita.psicologo_nombre && (
                      <div className="cita-psicologo">
                        👨‍⚕️ {cita.psicologo_nombre}
                      </div>
                    )}
                    
                    {cita.notas && (
                      <div className="cita-notas">
                        <strong>Notas:</strong> {cita.notas}
                      </div>
                    )}
                  </div>
                </div>
                
                <div className="cita-card-footer">
                  <button className="btn-text">
                    <FiEdit2 /> Editar
                  </button>
                  
                  {cita.estado === 'confirmada' && (
                    <button 
                      className="btn-text text-success"
                      onClick={() => handleEstadoCita(cita.id, 'completada')}
                    >
                      <FiCheckCircle /> Completar
                    </button>
                  )}
                  
                  {(cita.estado === 'programada' || cita.estado === 'confirmada') && (
                    <button 
                      className="btn-text text-danger"
                      onClick={() => handleEstadoCita(cita.id, 'cancelada')}
                    >
                      <FiXCircle /> Cancelar
                    </button>
                  )}
                </div>
              </div>
            ))}
          </div>
        ) : (
          <div className="no-citas">
            <div className="no-citas-icon">📅</div>
            <div>No hay citas programadas para este día</div>
            <button 
              className="btn-text" 
              onClick={() => setShowNuevaCitaModal(true)}
            >
              Agendar nueva cita
            </button>
          </div>
        )}
      </div>

      {/* Modal para nueva cita (simplificado) */}
      {showNuevaCitaModal && (
        <div className="modal-overlay">
          <div className="modal-container">
            <div className="modal-header">
              <h3>Nueva Cita</h3>
              <button className="modal-close" onClick={() => setShowNuevaCitaModal(false)}>×</button>
            </div>
            <div className="modal-content">
              <p>Funcionalidad de nueva cita. Esta función está en desarrollo.</p>
              <p>Por ahora, contacta al coordinador para agendar nuevas citas.</p>
            </div>
            <div className="modal-footer">
              <button className="btn-secondary" onClick={() => setShowNuevaCitaModal(false)}>
                Cerrar
              </button>
            </div>
          </div>
        </div>
      )}
    </div>
  );
};

export default BecarioCitas;

/src\pages\becario\DashboardPage.js:
--------------------------------------------------------------------------------
import React, { useState, useEffect } from 'react';
import { 
  FiCalendar, FiUsers, FiClock, FiBell, 
  FiTrendingUp, FiAlertCircle, FiRefreshCw 
} from 'react-icons/fi';
import { format } from 'date-fns';
import { es } from 'date-fns/locale';
import notifications from '../../utils/notifications';
import confirmations from '../../utils/confirmations';

const BecarioDashboard = () => {
  const [estadisticas, setEstadisticas] = useState({
    citasHoy: 0,
    citasProximas: 0,
    pacientesAsignados: 0,
    observacionesPendientes: 0,
    notificacionesSinLeer: 0,
    citasCompletadas: 0
  });
  const [citasHoy, setCitasHoy] = useState([]);
  const [notificaciones, setNotificaciones] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchDashboardData();
  }, []);

  const fetchDashboardData = async () => {
    try {
      const token = localStorage.getItem('token');
      
      // Obtener estadísticas
      const statsResponse = await fetch('http://localhost:3000/api/roles/my-role-info', {
        headers: { 'Authorization': `Bearer ${token}` }
      });
      
      if (statsResponse.ok) {
        const statsData = await statsResponse.json();
        setEstadisticas(statsData.data.estadisticas || {
          citasHoy: 3,
          pacientesAsignados: 2,
          observacionesPendientes: 1
        });
      }
      
      // Obtener citas de hoy
      const today = format(new Date(), 'yyyy-MM-dd');
      const citasResponse = await fetch(`http://localhost:3000/api/citas/citas-por-fecha?fecha=${today}`, {
        headers: { 'Authorization': `Bearer ${token}` }
      });
      
      if (citasResponse.ok) {
        const citasData = await citasResponse.json();
        setCitasHoy(citasData.data || []);
      }
      
      // Obtener notificaciones
      const notifResponse = await fetch('http://localhost:3000/api/notificaciones/mis-notificaciones', {
        headers: { 'Authorization': `Bearer ${token}` }
      });
      
      if (notifResponse.ok) {
        const notifData = await notifResponse.json();
        setNotificaciones(notifData.data || []);
      }
      
    } catch (error) {
      console.error('Error cargando dashboard:', error);
    } finally {
      setLoading(false);
    }
  };

  const statCards = [
    {
      title: 'Citas Hoy',
      value: estadisticas.citasHoy,
      icon: <FiCalendar />,
      color: 'var(--grnb)',
      change: 'Programadas para hoy'
    },
    {
      title: 'Pacientes Asignados',
      value: estadisticas.pacientesAsignados,
      icon: <FiUsers />,
      color: 'var(--blu)',
      change: 'A tu cargo'
    },
    {
      title: 'Próximas Citas',
      value: estadisticas.citasProximas || 5,
      icon: <FiClock />,
      color: 'var(--yy)',
      change: 'Próximos 7 días'
    },
    {
      title: 'Notificaciones',
      value: estadisticas.notificacionesSinLeer || notificaciones.filter(n => !n.leida).length,
      icon: <FiBell />,
      color: 'var(--rr)',
      change: 'Sin leer'
    },
    {
      title: 'Observaciones Pendientes',
      value: estadisticas.observacionesPendientes,
      icon: <FiTrendingUp />,
      color: 'var(--grnd)',
      change: 'Por registrar'
    },
    {
      title: 'Citas Completadas',
      value: estadisticas.citasCompletadas || 12,
      icon: <FiAlertCircle />,
      color: 'var(--grnl)',
      change: 'Este mes'
    }
  ];

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading-spinner"></div>
        <div className="loading-text">Cargando panel del becario...</div>
      </div>
    );
  }

  return (
    <div className="dashboard-page">
      <div className="page-header">
        <div>
          <h1>Panel del Becario</h1>
          <p>Bienvenido a tu centro de gestión de citas y pacientes</p>
        </div>
        <button className="btn-secondary" onClick={fetchDashboardData}>
          <FiRefreshCw /> Actualizar
        </button>
      </div>

      {/* Stats Grid */}
      <div className="stats-grid">
        {statCards.map((stat, index) => (
          <div key={index} className="stat-card">
            <div className="stat-header">
              <div className="stat-icon" style={{ color: stat.color }}>
                {stat.icon}
              </div>
              <h3>{stat.title}</h3>
            </div>
            <div className="stat-value">{stat.value}</div>
            <div className="stat-change">{stat.change}</div>
          </div>
        ))}
      </div>

      {/* Main Content Grid */}
      <div className="dashboard-content-grid">
        {/* Citas de Hoy */}
        <div className="dashboard-section">
          <div className="section-header">
            <h3>Citas de Hoy</h3>
            <button className="btn-text">Ver Calendario</button>
          </div>
          
          <div className="citas-list">
            {citasHoy.length > 0 ? (
              citasHoy.slice(0, 5).map((cita) => (
                <div key={cita.id} className="cita-item">
                  <div className="cita-info">
                    <div className="cita-paciente">{cita.paciente_nombre}</div>
                    <div className="cita-hora">{cita.hora}</div>
                  </div>
                  <div className={`cita-estado badge ${
                    cita.estado === 'confirmada' ? 'badge-success' :
                    cita.estado === 'programada' ? 'badge-warning' :
                    'badge-danger'
                  }`}>
                    {cita.estado}
                  </div>
                </div>
              ))
            ) : (
              <div className="no-citas">
                <div className="no-citas-icon">📅</div>
                <div>No hay citas programadas para hoy</div>
              </div>
            )}
          </div>
        </div>

        {/* Notificaciones Recientes */}
        <div className="dashboard-section">
          <div className="section-header">
            <h3>Notificaciones Recientes</h3>
            <button className="btn-text">Ver todas</button>
          </div>
          
          <div className="notifications-list">
            {notificaciones.slice(0, 5).map((notif) => (
              <div key={notif.id} className={`notification-item ${!notif.leida ? 'unread' : ''}`}>
                <div>
                  <h4>{notif.titulo}</h4>
                  <p>{notif.mensaje}</p>
                  <small>{new Date(notif.fecha_notificacion).toLocaleTimeString()}</small>
                </div>
                {!notif.leida && <span className="badge badge-info">Nuevo</span>}
              </div>
            ))}
            
            {notificaciones.length === 0 && (
              <div className="no-citas">
                <div className="no-citas-icon">🔔</div>
                <div>No hay notificaciones</div>
              </div>
            )}
          </div>
        </div>

        {/* Pacientes Asignados */}
        <div className="dashboard-section">
          <div className="section-header">
            <h3>Mis Pacientes</h3>
            <button className="btn-text">Ver todos</button>
          </div>
          
          <div className="pacientes-list">
            {[
              { id: 1, nombre: 'Carlos Gómez', ultimaSesion: '2024-01-10' },
              { id: 2, nombre: 'Mariana López', ultimaSesion: '2024-01-09' },
              { id: 3, nombre: 'Ana Martínez', ultimaSesion: '2024-01-08' }
            ].map((paciente) => (
              <div key={paciente.id} className="paciente-item">
                <div className="paciente-info">
                  <div className="paciente-nombre">{paciente.nombre}</div>
                  <div className="paciente-fecha">
                    Última sesión: {new Date(paciente.ultimaSesion).toLocaleDateString()}
                  </div>
                </div>
                <button className="btn-text">Ver</button>
              </div>
            ))}
          </div>
        </div>

        {/* Quick Actions */}
        <div className="dashboard-section">
          <div className="section-header">
            <h3>Acciones Rápidas</h3>
          </div>
          
          <div className="quick-actions">
            <button className="btn-primary w-100 mb-10">
              Ver Mis Citas
            </button>
            <button className="btn-secondary w-100 mb-10">
              Registrar Observación
            </button>
            <button className="btn-warning w-100 mb-10">
              Marcar Cita como Completada
            </button>
            <button className="btn-text w-100">
              Ver Calendario Completo
            </button>
          </div>
        </div>
      </div>
    </div>
  );
};

export default BecarioDashboard;

/src\pages\becario\NotificacionesPage.js:
--------------------------------------------------------------------------------
import React, { useState, useEffect } from 'react';
import { FiBell, FiCheckCircle, FiClock, FiCalendar, FiMessageSquare } from 'react-icons/fi';
import notifications from '../../utils/notifications';
import confirmations from '../../utils/confirmations';

const BecarioNotificaciones = () => {
  const [notificaciones, setNotificaciones] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchNotificaciones();
  }, []);

  const fetchNotificaciones = async () => {
    try {
      // Simulación de datos
      setTimeout(() => {
        setNotificaciones([
          {
            id: 1,
            tipo: 'cita_modificada',
            titulo: 'Cita modificada',
            mensaje: 'La cita con Carlos Gómez ha sido reprogramada para mañana a las 11:00 AM',
            fecha: '2024-01-10 09:30:00',
            leida: false
          },
          {
            id: 2,
            tipo: 'cita_nueva',
            titulo: 'Nueva cita asignada',
            mensaje: 'Tienes una nueva cita con Mariana López para el viernes 12 de enero',
            fecha: '2024-01-09 14:15:00',
            leida: true
          },
          {
            id: 3,
            tipo: 'sistema',
            titulo: 'Recordatorio de observación',
            mensaje: 'Recuerda registrar las observaciones de la sesión con Roberto Sánchez',
            fecha: '2024-01-08 16:45:00',
            leida: false
          },
          {
            id: 4,
            tipo: 'mensaje',
            titulo: 'Mensaje del psicólogo',
            mensaje: 'Por favor, prepara el informe del paciente Carlos Gómez para la supervisión',
            fecha: '2024-01-07 10:20:00',
            leida: true
          }
        ]);
        setLoading(false);
      }, 1000);
    } catch (error) {
      console.error('Error al obtener notificaciones:', error);
      setLoading(false);
    }
  };

  const marcarComoLeida = async (notifId) => {
    setNotificaciones(prev => 
      prev.map(notif => 
        notif.id === notifId ? { ...notif, leida: true } : notif
      )
    );
  };

  const marcarTodasComoLeidas = () => {
    setNotificaciones(prev => 
      prev.map(notif => ({ ...notif, leida: true }))
    );
  };

  const getIconByTipo = (tipo) => {
    switch (tipo) {
      case 'cita_nueva':
      case 'cita_modificada':
        return <FiCalendar />;
      case 'sistema':
        return <FiBell />;
      case 'mensaje':
        return <FiMessageSquare />;
      default:
        return <FiBell />;
    }
  };

  const getColorByTipo = (tipo) => {
    switch (tipo) {
      case 'cita_nueva':
        return 'var(--grnb)';
      case 'cita_modificada':
        return 'var(--yy)';
      case 'sistema':
        return 'var(--blu)';
      case 'mensaje':
        return 'var(--grnd)';
      default:
        return 'var(--gray)';
    }
  };

  const notificacionesNoLeidas = notificaciones.filter(n => !n.leida).length;

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading-spinner"></div>
        <div className="loading-text">Cargando notificaciones...</div>
      </div>
    );
  }

  return (
    <div className="configuracion-page">
      <div className="page-header">
        <div>
          <h1>Notificaciones</h1>
          <p>Mensajes y alertas del sistema</p>
        </div>
        <div className="flex-row gap-10">
          {notificacionesNoLeidas > 0 && (
            <button className="btn-secondary" onClick={marcarTodasComoLeidas}>
              <FiCheckCircle /> Marcar todas como leídas
            </button>
          )}
        </div>
      </div>

      <div className="configuracion-container">
        <div className="config-content">
          <div className="notifications-list">
            {notificaciones.map((notif) => (
              <div 
                key={notif.id} 
                className={`notification-item ${!notif.leida ? 'unread' : ''}`}
                style={{ borderLeftColor: getColorByTipo(notif.tipo) }}
              >
                <div className="notification-icon" style={{ color: getColorByTipo(notif.tipo) }}>
                  {getIconByTipo(notif.tipo)}
                </div>
                
                <div className="notification-content">
                  <div className="notification-header">
                    <h4>{notif.titulo}</h4>
                    <div className="notification-time">
                      <FiClock size={12} />
                      {new Date(notif.fecha).toLocaleDateString()} {new Date(notif.fecha).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}
                    </div>
                  </div>
                  
                  <p>{notif.mensaje}</p>
                  
                  {!notif.leida && (
                    <button 
                      className="btn-text text-small"
                      onClick={() => marcarComoLeida(notif.id)}
                    >
                      <FiCheckCircle /> Marcar como leída
                    </button>
                  )}
                </div>
                
                {!notif.leida && (
                  <span className="badge badge-info">Nuevo</span>
                )}
              </div>
            ))}
            
            {notificaciones.length === 0 && (
              <div className="no-citas">
                <div className="no-citas-icon">🔔</div>
                <div>No hay notificaciones</div>
                <p className="text-small mt-10">Las notificaciones aparecerán aquí cuando tengas nuevas alertas</p>
              </div>
            )}
          </div>
          
          <div className="mt-20">
            <h4>Tipos de notificaciones</h4>
            <div className="grid-4 mt-10">
              <div className="notification-type">
                <div className="notification-type-icon" style={{ color: 'var(--grnb)' }}>
                  <FiCalendar />
                </div>
                <div className="notification-type-info">
                  <strong>Citas</strong>
                  <p>Nuevas citas, modificaciones y recordatorios</p>
                </div>
              </div>
              
              <div className="notification-type">
                <div className="notification-type-icon" style={{ color: 'var(--blu)' }}>
                  <FiBell />
                </div>
                <div className="notification-type-info">
                  <strong>Sistema</strong>
                  <p>Alertas y recordatorios del sistema</p>
                </div>
              </div>
              
              <div className="notification-type">
                <div className="notification-type-icon" style={{ color: 'var(--grnd)' }}>
                  <FiMessageSquare />
                </div>
                <div className="notification-type-info">
                  <strong>Mensajes</strong>
                  <p>Comunicación con psicólogos y coordinadores</p>
                </div>
              </div>
              
              <div className="notification-type">
                <div className="notification-type-icon" style={{ color: 'var(--yy)' }}>
                  <FiCheckCircle />
                </div>
                <div className="notification-type-info">
                  <strong>Tareas</strong>
                  <p>Recordatorios de tareas pendientes</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default BecarioNotificaciones;

/src\pages\becario\ObservacionesPage.js:
--------------------------------------------------------------------------------
import React, { useState, useEffect } from 'react';
import { FiFileText, FiPlus, FiEdit2, FiTrash2, FiCalendar, FiUser, FiSave } from 'react-icons/fi';
import notifications from '../../utils/notifications';
import confirmations from '../../utils/confirmations';


const BecarioObservaciones = () => {
  const [observaciones, setObservaciones] = useState([]);
  const [loading, setLoading] = useState(true);
  const [showForm, setShowForm] = useState(false);
  const [formData, setFormData] = useState({
    paciente_id: '',
    fecha: new Date().toISOString().split('T')[0],
    observaciones: '',
    dificultades: '',
    logros: '',
    preguntas_supervisor: ''
  });
  const [pacientes, setPacientes] = useState([]);

  useEffect(() => {
    fetchData();
  }, []);

  const fetchData = async () => {
    try {
      // Simulación de datos
      setTimeout(() => {
        setPacientes([
          { id: 1, nombre: 'Carlos Gómez' },
          { id: 2, nombre: 'Mariana López' },
          { id: 3, nombre: 'Roberto Sánchez' }
        ]);
        
        setObservaciones([
          {
            id: 1,
            paciente_nombre: 'Carlos Gómez',
            fecha: '2024-01-10',
            observaciones: 'El paciente mostró mejoría en su manejo de la ansiedad durante la sesión.',
            dificultades: 'Aún presenta resistencia para hablar sobre ciertos temas familiares.',
            logros: 'Logró identificar tres técnicas de relajación que le funcionan.',
            preguntas_supervisor: '¿Cómo abordar la resistencia a temas familiares?'
          },
          {
            id: 2,
            paciente_nombre: 'Mariana López',
            fecha: '2024-01-09',
            observaciones: 'La paciente trabajó en estrategias para manejar el estrés laboral.',
            dificultades: 'Dificultad para establecer límites en el trabajo.',
            logros: 'Identificó patrones de pensamiento que generan estrés.',
            preguntas_supervisor: '¿Sugerencias para ejercicios de asertividad?'
          }
        ]);
        
        setLoading(false);
      }, 1000);
    } catch (error) {
      console.error('Error al cargar datos:', error);
      setLoading(false);
    }
  };

  const handleInputChange = (e) => {
    const { name, value } = e.target;
    setFormData({
      ...formData,
      [name]: value
    });
  };

  const handleSubmit = (e) => {
    e.preventDefault();
    
    // En un proyecto real, aquí enviaríamos al backend
    const nuevaObservacion = {
      id: observaciones.length + 1,
      paciente_nombre: pacientes.find(p => p.id == formData.paciente_id)?.nombre || 'Paciente',
      ...formData
    };
    
    setObservaciones([nuevaObservacion, ...observaciones]);
    setShowForm(false);
    setFormData({
      paciente_id: '',
      fecha: new Date().toISOString().split('T')[0],
      observaciones: '',
      dificultades: '',
      logros: '',
      preguntas_supervisor: ''
    });
    
    notifications.success('Observación registrada exitosamente');
  };

  const handleDelete = async (id) => {
    const confirmado = await confirmations.danger('¿Estás seguro de eliminar esta observación?');
    
    if (confirmado) {
      setObservaciones(observaciones.filter(o => o.id !== id));
    }
  };

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading-spinner"></div>
        <div className="loading-text">Cargando observaciones...</div>
      </div>
    );
  }

  return (
    <div className="configuracion-page">
      <div className="page-header">
        <div>
          <h1>Observaciones de Sesiones</h1>
          <p>Registro de observaciones para supervisión</p>
        </div>
        <button 
          className="btn-primary"
          onClick={() => setShowForm(true)}
        >
          <FiPlus /> Nueva Observación
        </button>
      </div>

      {/* Formulario de Nueva Observación */}
      {showForm && (
        <div className="card mb-20">
          <div className="modal-header">
            <h3>Nueva Observación</h3>
            <button className="modal-close" onClick={() => setShowForm(false)}>×</button>
          </div>
          
          <form onSubmit={handleSubmit}>
            <div className="form-grid">
              <div className="form-group">
                <label>Paciente</label>
                <select
                  name="paciente_id"
                  value={formData.paciente_id}
                  onChange={handleInputChange}
                  className="select-field"
                  required
                >
                  <option value="">Seleccionar paciente</option>
                  {pacientes.map(paciente => (
                    <option key={paciente.id} value={paciente.id}>
                      {paciente.nombre}
                    </option>
                  ))}
                </select>
              </div>
              
              <div className="form-group">
                <label>Fecha de sesión</label>
                <input
                  type="date"
                  name="fecha"
                  value={formData.fecha}
                  onChange={handleInputChange}
                  className="input-field"
                  required
                />
              </div>
              
              <div className="form-group" style={{ gridColumn: 'span 2' }}>
                <label>Observaciones generales</label>
                <textarea
                  name="observaciones"
                  value={formData.observaciones}
                  onChange={handleInputChange}
                  className="textarea-field"
                  rows="4"
                  required
                  placeholder="Describe lo observado durante la sesión..."
                />
              </div>
              
              <div className="form-group">
                <label>Dificultades encontradas</label>
                <textarea
                  name="dificultades"
                  value={formData.dificultades}
                  onChange={handleInputChange}
                  className="textarea-field"
                  rows="3"
                  placeholder="Dificultades o resistencias observadas..."
                />
              </div>
              
              <div className="form-group">
                <label>Logros del paciente</label>
                <textarea
                  name="logros"
                  value={formData.logros}
                  onChange={handleInputChange}
                  className="textarea-field"
                  rows="3"
                  placeholder="Avances y logros observados..."
                />
              </div>
              
              <div className="form-group" style={{ gridColumn: 'span 2' }}>
                <label>Preguntas para el supervisor</label>
                <textarea
                  name="preguntas_supervisor"
                  value={formData.preguntas_supervisor}
                  onChange={handleInputChange}
                  className="textarea-field"
                  rows="3"
                  placeholder="Dudas o preguntas para la supervisión..."
                />
              </div>
            </div>
            
            <div className="form-actions">
              <button type="submit" className="btn-primary">
                <FiSave /> Guardar Observación
              </button>
              <button 
                type="button" 
                className="btn-danger"
                onClick={() => setShowForm(false)}
              >
                Cancelar
              </button>
            </div>
          </form>
        </div>
      )}

      {/* Lista de Observaciones */}
      <div className="config-content">
        <h3>Observaciones Registradas</h3>
        
        {observaciones.length > 0 ? (
          <div className="observaciones-list">
            {observaciones.map((obs) => (
              <div key={obs.id} className="accordion">
                <div className="accordion-header">
                  <div className="flex-row align-center gap-10">
                    <FiCalendar />
                    <span>{new Date(obs.fecha).toLocaleDateString()}</span>
                  </div>
                  <div className="flex-row align-center gap-10">
                    <FiUser />
                    <span>{obs.paciente_nombre}</span>
                  </div>
                  <div className="flex-row gap-5">
                    <button className="btn-text">
                      <FiEdit2 />
                    </button>
                    <button 
                      className="btn-text text-danger"
                      onClick={() => handleDelete(obs.id)}
                    >
                      <FiTrash2 />
                    </button>
                  </div>
                </div>
                
                <div className="accordion-content">
                  <div className="grid-2 gap-20">
                    <div>
                      <h4>Observaciones</h4>
                      <p>{obs.observaciones}</p>
                    </div>
                    
                    <div>
                      <h4>Logros</h4>
                      <p>{obs.logros}</p>
                    </div>
                    
                    <div>
                      <h4>Dificultades</h4>
                      <p>{obs.dificultades}</p>
                    </div>
                    
                    <div>
                      <h4>Preguntas para supervisor</h4>
                      <p>{obs.preguntas_supervisor}</p>
                    </div>
                  </div>
                </div>
              </div>
            ))}
          </div>
        ) : (
          <div className="no-citas">
            <div className="no-citas-icon">📝</div>
            <div>No hay observaciones registradas</div>
            <p className="text-small mt-10">
              Las observaciones son importantes para tu supervisión y desarrollo profesional.
            </p>
            <button 
              className="btn-text mt-10"
              onClick={() => setShowForm(true)}
            >
              <FiPlus /> Registrar tu primera observación
            </button>
          </div>
        )}
      </div>
    </div>
  );
};

export default BecarioObservaciones;

/src\pages\becario\PacientesPage.js:
--------------------------------------------------------------------------------
import React, { useState, useEffect } from 'react';
import { FiSearch, FiUser, FiCalendar, FiPhone, FiMail, FiFileText } from 'react-icons/fi';
import notifications from '../../utils/notifications';
import confirmations from '../../utils/confirmations';

const BecarioPacientes = () => {
  const [pacientes, setPacientes] = useState([]);
  const [loading, setLoading] = useState(true);
  const [searchTerm, setSearchTerm] = useState('');
  const [selectedPaciente, setSelectedPaciente] = useState(null);
  const [showDetalles, setShowDetalles] = useState(false);

  useEffect(() => {
    fetchPacientes();
  }, []);

  const fetchPacientes = async () => {
    try {
      const token = localStorage.getItem('token');
      
      // En un proyecto real, esto vendría de un endpoint específico
      // Simulamos datos por ahora
      setTimeout(() => {
        setPacientes([
          {
            id: 1,
            nombre: 'Carlos Gómez',
            edad: 25,
            telefono: '555-1234',
            email: 'carlos@email.com',
            motivo_consulta: 'Ansiedad académica',
            ultima_sesion: '2024-01-10',
            proxima_cita: '2024-01-17',
            sesiones_completadas: 3,
            psicologo: 'Lic. Luis Fernández'
          },
          {
            id: 2,
            nombre: 'Mariana López',
            edad: 28,
            telefono: '555-5678',
            email: 'mariana@email.com',
            motivo_consulta: 'Estrés laboral',
            ultima_sesion: '2024-01-09',
            proxima_cita: '2024-01-16',
            sesiones_completadas: 5,
            psicologo: 'Lic. Luis Fernández'
          },
          {
            id: 3,
            nombre: 'Roberto Sánchez',
            edad: 22,
            telefono: '555-9012',
            email: 'roberto@email.com',
            motivo_consulta: 'Problemas de adaptación',
            ultima_sesion: '2024-01-08',
            proxima_cita: '2024-01-15',
            sesiones_completadas: 2,
            psicologo: 'Lic. Luis Fernández'
          }
        ]);
        setLoading(false);
      }, 1000);
    } catch (error) {
      console.error('Error al obtener pacientes:', error);
      setLoading(false);
    }
  };

  const filteredPacientes = pacientes.filter(paciente =>
    paciente.nombre.toLowerCase().includes(searchTerm.toLowerCase()) ||
    paciente.email.toLowerCase().includes(searchTerm.toLowerCase()) ||
    paciente.motivo_consulta.toLowerCase().includes(searchTerm.toLowerCase())
  );

  const showPacienteDetalles = (paciente) => {
    setSelectedPaciente(paciente);
    setShowDetalles(true);
  };

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading-spinner"></div>
        <div className="loading-text">Cargando pacientes...</div>
      </div>
    );
  }

  return (
    <div className="pacientes-page">
      <div className="page-header">
        <div>
          <h1>Mis Pacientes</h1>
          <p>Pacientes asignados a tu supervisión</p>
        </div>
      </div>

      {/* Search */}
      <div className="search-box" style={{ marginBottom: '20px' }}>
        <FiSearch />
        <input
          type="text"
          className="search-input"
          placeholder="Buscar paciente por nombre, email o motivo de consulta..."
          value={searchTerm}
          onChange={(e) => setSearchTerm(e.target.value)}
        />
      </div>

      {/* Patients Grid */}
      <div className="grid-3">
        {filteredPacientes.map((paciente) => (
          <div key={paciente.id} className="card">
            <div className="flex-row align-center gap-10 mb-10">
              <div className="avatar">
                {paciente.nombre.split(' ').map(n => n[0]).join('')}
              </div>
              <div>
                <h3>{paciente.nombre}</h3>
                <p className="text-small">{paciente.edad} años</p>
              </div>
            </div>

            <div className="flex-col gap-5 mb-10">
              <div className="flex-row align-center gap-5">
                <FiPhone size={14} />
                <span>{paciente.telefono}</span>
              </div>
              <div className="flex-row align-center gap-5">
                <FiMail size={14} />
                <span>{paciente.email}</span>
              </div>
              <div className="flex-row align-center gap-5">
                <FiCalendar size={14} />
                <span>Última: {new Date(paciente.ultima_sesion).toLocaleDateString()}</span>
              </div>
            </div>

            <div className="mb-10">
              <p><strong>Motivo:</strong> {paciente.motivo_consulta}</p>
              <p><strong>Psicólogo:</strong> {paciente.psicologo}</p>
              <p><strong>Sesiones:</strong> {paciente.sesiones_completadas} completadas</p>
            </div>

            <div className="flex-row gap-10">
              <button 
                className="btn-secondary flex-1"
                onClick={() => showPacienteDetalles(paciente)}
              >
                <FiFileText /> Detalles
              </button>
            </div>
          </div>
        ))}
      </div>

      {/* Modal de Detalles */}
      {showDetalles && selectedPaciente && (
        <div className="modal-overlay">
          <div className="modal-container modal-large">
            <div className="modal-header">
              <h3>Detalles del Paciente</h3>
              <button className="modal-close" onClick={() => setShowDetalles(false)}>×</button>
            </div>
            
            <div className="modal-content">
              <div className="grid-2 gap-20">
                <div>
                  <h4>Información Personal</h4>
                  <div className="detail-row">
                    <strong>Nombre:</strong> {selectedPaciente.nombre}
                  </div>
                  <div className="detail-row">
                    <strong>Edad:</strong> {selectedPaciente.edad} años
                  </div>
                  <div className="detail-row">
                    <strong>Teléfono:</strong> {selectedPaciente.telefono}
                  </div>
                  <div className="detail-row">
                    <strong>Email:</strong> {selectedPaciente.email}
                  </div>
                </div>
                
                <div>
                  <h4>Información Clínica</h4>
                  <div className="detail-row">
                    <strong>Motivo de consulta:</strong> {selectedPaciente.motivo_consulta}
                  </div>
                  <div className="detail-row">
                    <strong>Psicólogo asignado:</strong> {selectedPaciente.psicologo}
                  </div>
                  <div className="detail-row">
                    <strong>Sesiones completadas:</strong> {selectedPaciente.sesiones_completadas}
                  </div>
                  <div className="detail-row">
                    <strong>Próxima cita:</strong> {new Date(selectedPaciente.proxima_cita).toLocaleDateString()}
                  </div>
                </div>
              </div>
              
              <div className="mt-20">
                <h4>Historial de Citas Recientes</h4>
                <div className="table-container mt-10">
                  <table className="data-table">
                    <thead>
                      <tr>
                        <th>Fecha</th>
                        <th>Hora</th>
                        <th>Estado</th>
                        <th>Tipo</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>{new Date(selectedPaciente.ultima_sesion).toLocaleDateString()}</td>
                        <td>10:00 AM</td>
                        <td><span className="badge badge-success">Completada</span></td>
                        <td>Presencial</td>
                      </tr>
                      <tr>
                        <td>2024-01-03</td>
                        <td>11:00 AM</td>
                        <td><span className="badge badge-success">Completada</span></td>
                        <td>Virtual</td>
                      </tr>
                      <tr>
                        <td>2023-12-27</td>
                        <td>09:00 AM</td>
                        <td><span className="badge badge-success">Completada</span></td>
                        <td>Presencial</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
            
            <div className="modal-footer">
              <button className="btn-secondary" onClick={() => setShowDetalles(false)}>
                Cerrar
              </button>
              <button className="btn-primary">
                Agendar Cita
              </button>
            </div>
          </div>
        </div>
      )}
    </div>
  );
};

export default BecarioPacientes;

/src\pages\coordinador\AgendaPage.js:
--------------------------------------------------------------------------------
import React, { useState, useEffect } from 'react';
import { 
  FiCalendar, FiClock, FiUsers, FiFilter, 
  FiChevronLeft, FiChevronRight, FiRefreshCw,
  FiUser, FiSearch, FiEye, FiEyeOff
} from 'react-icons/fi';
import { format, addDays, subDays, startOfWeek, endOfWeek, eachDayOfInterval } from 'date-fns';
import { es } from 'date-fns/locale';
import './coordinador.css';
import notifications from '../../utils/notifications';
import confirmations from '../../utils/confirmations';

const CoordinadorAgenda = () => {
  const [citas, setCitas] = useState([]);
  const [selectedDate, setSelectedDate] = useState(new Date());
  const [view, setView] = useState('week');
  const [loading, setLoading] = useState(true);
  const [filterPsicologo, setFilterPsicologo] = useState('');
  const [filterEstado, setFilterEstado] = useState('');
  const [psicologos, setPsicologos] = useState([]);
  const [showDetalles, setShowDetalles] = useState(false);
  const [selectedCita, setSelectedCita] = useState(null);
  const [mostrarTodas, setMostrarTodas] = useState(true);

  useEffect(() => {
    fetchData();
    }, [selectedDate, view]);

  const fetchData = async () => {
    try {
        setLoading(true);
        
        // Primero, definir los psicólogos
        const psicologosData = [
        { id: 1, nombre: 'Lic. Luis Fernández', color: 'var(--grnb)', especialidad: 'Terapia Cognitivo-Conductual' },
        { id: 2, nombre: 'Lic. Laura Gutiérrez', color: 'var(--blu)', especialidad: 'Psicología Clínica' }
        ];
        
        setPsicologos(psicologosData);

        // Generar citas de ejemplo para la semana
        const citasSemana = [];
        const startDate = startOfWeek(selectedDate, { weekStartsOn: 1 });
        const weekDays = eachDayOfInterval({ 
        start: startDate, 
        end: endOfWeek(startDate, { weekStartsOn: 1 }) 
        });
        
        weekDays.forEach((day, dayIndex) => {
        const psicologoId = dayIndex % 2 === 0 ? 1 : 2;
        const psicologo = psicologosData.find(p => p.id === psicologoId);
        
        if (!psicologo) return; // Añadir validación
        
        // Agregar 3-5 citas por día
        const citasCount = 3 + (dayIndex % 3);
        
        for (let i = 0; i < citasCount; i++) {
            const hora = 9 + (i * 2) + (dayIndex % 2);
            citasSemana.push({
            id: `${dayIndex}-${i}`,
            fecha: format(day, 'yyyy-MM-dd'),
            hora: `${hora}:00`,
            duracion: 50,
            paciente_nombre: `Paciente ${dayIndex + 1}${String.fromCharCode(65 + i)}`,
            psicologo_id: psicologoId,
            psicologo_nombre: psicologo.nombre,
            psicologo_color: psicologo.color,
            tipo_consulta: i % 2 === 0 ? 'presencial' : 'virtual',
            estado: i === 0 ? 'confirmada' : i === 1 ? 'programada' : 'completada',
            becario_nombre: i % 2 === 0 ? 'Juan Pérez' : null
            });
        }
        });

        setCitas(citasSemana);
        setLoading(false);
    } catch (error) {
        console.error('Error cargando agenda:', error);
        setLoading(false);
    }
    };

  const filteredCitas = citas.filter(cita => {
    const matchesPsicologo = !filterPsicologo || cita.psicologo_id == filterPsicologo;
    const matchesEstado = !filterEstado || cita.estado === filterEstado;
    return matchesPsicologo && matchesEstado;
    });

  const goToPrevious = () => {
    setSelectedDate(prev => subDays(prev, view === 'day' ? 1 : 7));
  };

  const goToNext = () => {
    setSelectedDate(prev => addDays(prev, view === 'day' ? 1 : 7));
  };

  const goToToday = () => {
    setSelectedDate(new Date());
  };

  const formatDateSpanish = (date) => {
    return format(date, "EEEE d 'de' MMMM, yyyy", { locale: es });
  };

  const getWeekRange = () => {
    const start = startOfWeek(selectedDate, { weekStartsOn: 1 });
    const end = endOfWeek(selectedDate, { weekStartsOn: 1 });
    return `Semana del ${format(start, 'd MMM')} al ${format(end, 'd MMM, yyyy')}`;
  };

  const generateHours = () => {
    const hours = [];
    for (let i = 9; i <= 20; i++) {
      hours.push(`${i}:00`);
    }
    return hours;
  };

  const getCitasPorDiaYHora = (fecha, hora) => {
    try {
        const fechaStr = format(new Date(fecha), 'yyyy-MM-dd');
        const horaNum = hora.split(':')[0];
        
        return filteredCitas.filter(cita => 
        cita.fecha === fechaStr &&
        cita.hora.startsWith(horaNum)
        );
    } catch (error) {
        console.error('Error filtrando citas:', error);
        return [];
    }
    };

  const showCitaDetalles = (cita) => {
    setSelectedCita(cita);
    setShowDetalles(true);
  };

  const weekDays = view === 'week' ? 
    eachDayOfInterval({ 
      start: startOfWeek(selectedDate, { weekStartsOn: 1 }), 
      end: endOfWeek(selectedDate, { weekStartsOn: 1 }) 
    }) : [selectedDate];

  if (loading) {
    return (
        <div className="loading-container">
        <div className="loading-spinner"></div>
        <div className="loading-text">Cargando agenda global...</div>
        </div>
    );
    }

    // También puedes añadir una verificación adicional
    if (!psicologos || psicologos.length === 0) {
    return (
        <div className="empty-state">
        <h3>No hay psicólogos registrados</h3>
        <p>Por favor, registra psicólogos en el sistema primero.</p>
        </div>
    );
    }

  return (
    <div className="citas-page">
      <div className="page-header">
        <div>
          <h1>Agenda Global</h1>
          <p>Vista completa de todas las citas del consultorio</p>
        </div>
        <button className="btn-secondary" onClick={fetchData}>
          <FiRefreshCw /> Actualizar
        </button>
      </div>

      <div className="calendar-controls">
        <div className="view-selector">
          <button 
            className={`btn-text ${view === 'day' ? 'active' : ''}`}
            onClick={() => setView('day')}
          >
            Día
          </button>
          <button 
            className={`btn-text ${view === 'week' ? 'active' : ''}`}
            onClick={() => setView('week')}
          >
            Semana
          </button>
        </div>

        <div className="date-navigation">
          <button className="btn-text" onClick={goToPrevious}>
            <FiChevronLeft /> {view === 'day' ? 'Ayer' : 'Sem. anterior'}
          </button>
          
          <div className="current-date">
            <h3>
              {view === 'day' 
                ? formatDateSpanish(selectedDate)
                : getWeekRange()
              }
            </h3>
            <div className="text-small">
              Total citas: {filteredCitas.length}
            </div>
          </div>
          
          <button className="btn-text" onClick={goToNext}>
            {view === 'day' ? 'Mañana' : 'Próx. semana'} <FiChevronRight />
          </button>
        </div>

        <div className="quick-actions">
          <button className="btn-secondary" onClick={goToToday}>
            Hoy
          </button>
          <button 
            className={`btn-text ${mostrarTodas ? 'text-success' : ''}`}
            onClick={() => setMostrarTodas(!mostrarTodas)}
          >
            {mostrarTodas ? <FiEye /> : <FiEyeOff />}
          </button>
        </div>
      </div>

      {/* Filtros */}
      <div className="filters-container mb-20">
        <div className="grid-3 gap-20">
          <div className="form-group">
            <label>Filtrar por psicólogo</label>
            <select 
              value={filterPsicologo} 
              onChange={(e) => setFilterPsicologo(e.target.value)}
              className="select-field"
            >
              <option value="">Todos los psicólogos</option>
              {psicologos.map(psicologo => (
                <option key={psicologo.id} value={psicologo.id}>
                  {psicologo.nombre}
                </option>
              ))}
            </select>
          </div>
          
          <div className="form-group">
            <label>Filtrar por estado</label>
            <select 
              value={filterEstado} 
              onChange={(e) => setFilterEstado(e.target.value)}
              className="select-field"
            >
              <option value="">Todos los estados</option>
              <option value="programada">Programadas</option>
              <option value="confirmada">Confirmadas</option>
              <option value="completada">Completadas</option>
              <option value="cancelada">Canceladas</option>
            </select>
          </div>
          
          <div className="form-group">
            <label>Filtrar por tipo</label>
            <select className="select-field">
              <option value="">Todos los tipos</option>
              <option value="presencial">Presencial</option>
              <option value="virtual">Virtual</option>
            </select>
          </div>
        </div>
      </div>

      {/* Calendario Semanal */}
      <div className="calendar-week-view" style={{ height: '600px' }}>
        <div className="week-header">
          <div className="time-header"></div>
          {weekDays.map((day) => (
            <div key={day.toISOString()} className="day-header">
              <div className="day-name">
                {format(day, 'EEE', { locale: es })}
              </div>
              <div className="day-number">
                {format(day, 'd')}
              </div>
            </div>
          ))}
        </div>
        
        <div className="week-body">
          <div className="time-column">
            {generateHours().map(hour => (
              <div key={hour} className="time-slot">{hour}</div>
            ))}
          </div>
          
          {weekDays.map((day) => (
            <div key={day.toISOString()} className="day-column">
              {generateHours().map(hour => {
                const citasHora = getCitasPorDiaYHora(day, hour);
                
                return (
                  <div key={hour} className="hour-cell">
                    {citasHora.slice(0, mostrarTodas ? citasHora.length : 1).map((cita, index) => (
                      <div 
                        key={cita.id}
                        className="week-event"
                        style={{ 
                          backgroundColor: cita.psicologo_color,
                          opacity: 0.8,
                          height: `${100 / (mostrarTodas ? Math.max(citasHora.length, 1) : 1)}%`,
                          top: `${(index / (mostrarTodas ? citasHora.length : 1)) * 100}%`
                        }}
                        onClick={() => showCitaDetalles(cita)}
                        title={`${cita.hora} - ${cita.paciente_nombre} (${cita.psicologo_nombre})`}
                      >
                        <div className="week-event-time">{cita.hora}</div>
                        <div className="week-event-patient">{cita.paciente_nombre}</div>
                        <div className="week-event-psicologo">
                          {cita.psicologo_nombre.split(' ')[1]}
                        </div>
                      </div>
                    ))}
                    {citasHora.length > 1 && !mostrarTodas && (
                      <div className="week-event-more">
                        +{citasHora.length - 1} más
                      </div>
                    )}
                  </div>
                );
              })}
            </div>
          ))}
        </div>
      </div>

      {/* Resumen por Psicólogo */}
      <div className="grid-3 mt-20">
        {psicologos.map(psicologo => {
          const citasPsicologo = filteredCitas.filter(c => c.psicologo_id === psicologo.id);
          const citasHoy = citasPsicologo.filter(c => c.fecha === format(new Date(), 'yyyy-MM-dd')).length;
          
          return (
            <div key={psicologo.id} className="card">
              <div className="flex-row align-center gap-10 mb-10">
                <div 
                  className="avatar" 
                  style={{ background: psicologo.color }}
                >
                  {psicologo.nombre.split(' ').map(n => n[0]).join('')}
                </div>
                <div>
                  <h4>{psicologo.nombre}</h4>
                  <p className="text-small">{psicologo.especialidad || 'Psicólogo'}</p>
                </div>
              </div>
              
              <div className="grid-2 gap-10">
                <div>
                  <div className="text-small">Citas totales</div>
                  <div className="font-bold">{citasPsicologo.length}</div>
                </div>
                <div>
                  <div className="text-small">Citas hoy</div>
                  <div className="font-bold">{citasHoy}</div>
                </div>
                <div>
                  <div className="text-small">Confirmadas</div>
                  <div className="font-bold">{citasPsicologo.filter(c => c.estado === 'confirmada').length}</div>
                </div>
                <div>
                  <div className="text-small">Con becario</div>
                  <div className="font-bold">{citasPsicologo.filter(c => c.becario_nombre).length}</div>
                </div>
              </div>
            </div>
          );
        })}
        
        <div className="card">
          <h4>Acciones Rápidas</h4>
          <div className="flex-col gap-10 mt-10">
            <button className="btn-primary w-100">
              Ver Reporte Semanal
            </button>
            <button className="btn-secondary w-100">
              Exportar Agenda
            </button>
            <button className="btn-warning w-100">
              Revisar Conflictos
            </button>
          </div>
        </div>
      </div>

      {/* Modal de Detalles */}
      {showDetalles && selectedCita && (
        <div className="modal-overlay">
          <div className="modal-container">
            <div className="modal-header">
              <h3>Detalles de Cita</h3>
              <button className="modal-close" onClick={() => setShowDetalles(false)}>×</button>
            </div>
            
            <div className="modal-content">
              <div className="detail-row">
                <strong>Paciente:</strong>
                <span>{selectedCita.paciente_nombre}</span>
              </div>
              
              <div className="detail-row">
                <strong>Fecha y hora:</strong>
                <span>{selectedCita.fecha} {selectedCita.hora}</span>
              </div>
              
              <div className="detail-row">
                <strong>Psicólogo:</strong>
                <span>{selectedCita.psicologo_nombre}</span>
              </div>
              
              <div className="detail-row">
                <strong>Tipo:</strong>
                <span>{selectedCita.tipo_consulta === 'presencial' ? 'Presencial' : 'Virtual'}</span>
              </div>
              
              <div className="detail-row">
                <strong>Estado:</strong>
                <span className={`badge ${
                  selectedCita.estado === 'confirmada' ? 'badge-success' :
                  selectedCita.estado === 'completada' ? 'badge-primary' :
                  selectedCita.estado === 'programada' ? 'badge-warning' :
                  'badge-danger'
                }`}>
                  {selectedCita.estado}
                </span>
              </div>
              
              {selectedCita.becario_nombre && (
                <div className="detail-row">
                  <strong>Becario asignado:</strong>
                  <span>{selectedCita.becario_nombre}</span>
                </div>
              )}
              
              <div className="detail-row">
                <strong>Duración:</strong>
                <span>{selectedCita.duracion} minutos</span>
              </div>
            </div>
            
            <div className="modal-footer">
              <button className="btn-secondary" onClick={() => setShowDetalles(false)}>
                Cerrar
              </button>
              <button className="btn-primary">
                Ver Expediente
              </button>
            </div>
          </div>
        </div>
      )}
    </div>
  );
};

export default CoordinadorAgenda;

/src\pages\coordinador\AltasPage.js:
--------------------------------------------------------------------------------
import React, { useState, useEffect } from 'react';
import { 
  FiTrendingUp, FiCheckCircle, FiXCircle, FiFilter,
  FiSearch, FiCalendar, FiUser, FiFileText, FiDownload
} from 'react-icons/fi';
import './coordinador.css';
import notifications from '../../utils/notifications';
import confirmations from '../../utils/confirmations';

const CoordinadorAltas = () => {
  const [altas, setAltas] = useState([]);
  const [candidatosAlta, setCandidatosAlta] = useState([]);
  const [loading, setLoading] = useState(true);
  const [filtroEstado, setFiltroEstado] = useState('');
  const [filtroMes, setFiltroMes] = useState('');
  const [showModal, setShowModal] = useState(false);
  const [selectedPaciente, setSelectedPaciente] = useState(null);
  const [estadisticas, setEstadisticas] = useState({});

  useEffect(() => {
    fetchAltas();
    generarEstadisticas();
  }, []);

  const fetchAltas = async () => {
    try {
      setLoading(true);
      
      // Simulación de datos
      setTimeout(() => {
        setAltas([
          {
            id: 1,
            paciente_nombre: 'Ana Rodríguez',
            edad: 32,
            motivo_consulta: 'Depresión',
            fecha_ingreso: '2023-06-10',
            fecha_alta: '2024-01-05',
            tipo_alta: 'terapeutica',
            sesiones_totales: 20,
            psicologo: 'Lic. Luis Fernández',
            becario: 'Juan Pérez',
            evaluacion_final: 'Excelente progreso, alta recomendada',
            satisfaccion: 5
          },
          {
            id: 2,
            paciente_nombre: 'Carlos Martínez',
            edad: 28,
            motivo_consulta: 'Ansiedad generalizada',
            fecha_ingreso: '2023-08-15',
            fecha_alta: '2023-12-20',
            tipo_alta: 'terapeutica',
            sesiones_totales: 15,
            psicologo: 'Lic. Luis Fernández',
            becario: 'Sofía Ramírez',
            evaluacion_final: 'Buen manejo de técnicas de relajación',
            satisfaccion: 4
          },
          {
            id: 3,
            paciente_nombre: 'María González',
            edad: 45,
            motivo_consulta: 'Duelo complicado',
            fecha_ingreso: '2023-09-01',
            fecha_alta: '2024-01-15',
            tipo_alta: 'abandono',
            sesiones_totales: 8,
            psicologo: 'Lic. Laura Gutiérrez',
            becario: null,
            evaluacion_final: 'Paciente dejó de asistir sin aviso',
            satisfaccion: 3
          },
          {
            id: 4,
            paciente_nombre: 'Roberto Sánchez',
            edad: 22,
            motivo_consulta: 'Problemas de adaptación',
            fecha_ingreso: '2023-11-05',
            fecha_alta: '2024-01-10',
            tipo_alta: 'traslado',
            sesiones_totales: 5,
            psicologo: 'Lic. Luis Fernández',
            becario: 'Pedro Hernández',
            evaluacion_final: 'Trasladado a otro especialista',
            satisfaccion: 4
          }
        ]);

        setCandidatosAlta([
          {
            id: 1,
            paciente_nombre: 'Carlos Gómez',
            edad: 25,
            motivo_consulta: 'Ansiedad académica',
            fecha_ingreso: '2023-10-15',
            sesiones_completadas: 8,
            progreso: 85,
            psicologo: 'Lic. Luis Fernández',
            becario: 'Juan Pérez',
            recomendacion: 'Posible alta en 2-3 sesiones más'
          },
          {
            id: 2,
            paciente_nombre: 'Mariana López',
            edad: 28,
            motivo_consulta: 'Estrés laboral',
            fecha_ingreso: '2023-09-20',
            sesiones_completadas: 12,
            progreso: 90,
            psicologo: 'Lic. Luis Fernández',
            becario: 'Sofía Ramírez',
            recomendacion: 'Evaluar alta en próxima sesión'
          }
        ]);

        setLoading(false);
      }, 1000);
    } catch (error) {
      console.error('Error cargando altas:', error);
      setLoading(false);
    }
  };

  const generarEstadisticas = () => {
    const altasTerapeuticas = altas.filter(a => a.tipo_alta === 'terapeutica').length;
    const abandonos = altas.filter(a => a.tipo_alta === 'abandono').length;
    const traslados = altas.filter(a => a.tipo_alta === 'traslado').length;
    const satisfaccionPromedio = altas.length > 0 
      ? altas.reduce((sum, a) => sum + (a.satisfaccion || 0), 0) / altas.length 
      : 0;
    const sesionesPromedio = altas.length > 0
      ? altas.reduce((sum, a) => sum + a.sesiones_totales, 0) / altas.length
      : 0;

    setEstadisticas({
      altasTerapeuticas,
      abandonos,
      traslados,
      satisfaccionPromedio: satisfaccionPromedio.toFixed(1),
      sesionesPromedio: sesionesPromedio.toFixed(1),
      tasaExito: altasTerapeuticas > 0 ? Math.round((altasTerapeuticas / (altasTerapeuticas + abandonos)) * 100) : 0
    });
  };

  const filteredAltas = altas.filter(alta => {
    const matchesEstado = !filtroEstado || alta.tipo_alta === filtroEstado;
    const matchesMes = !filtroMes || new Date(alta.fecha_alta).getMonth() === parseInt(filtroMes);
    return matchesEstado && matchesMes;
  });

  const procesarAlta = async (pacienteId, decision) => {
    try {
      if (decision === 'aprobar') {
        // Para aprobar - usar warning (amarillo) o info (azul)
        const confirmado = await confirmations.warning('¿Estás seguro de aprobar el alta terapéutica de este paciente?');
        
        if (confirmado) {
          notifications.success('Alta aprobada exitosamente');
          setCandidatosAlta(candidatosAlta.filter(p => p.id !== pacienteId));
        }
      } else {
        // Para rechazar - usar danger (rojo)
        const confirmado = await confirmations.danger('¿Estás seguro de rechazar el alta de este paciente?');
        
        if (confirmado) {
          notifications.error('Alta rechazada. Se notificará al psicólogo.');
        }
      }
    } catch (error) {
      console.error('Error en el proceso de alta:', error);
      notifications.error('Ocurrió un error al procesar la solicitud');
    }
  };

  const getTipoAltaLabel = (tipo) => {
    switch (tipo) {
      case 'terapeutica':
        return { text: 'Alta Terapéutica', color: 'success', icon: '✅' };
      case 'abandono':
        return { text: 'Abandono', color: 'danger', icon: '❌' };
      case 'traslado':
        return { text: 'Traslado', color: 'warning', icon: '🔄' };
      default:
        return { text: tipo, color: 'info', icon: '📋' };
    }
  };

  const exportarReporteAltas = () => {
    notifications.success('Generando reporte de altas...');
    // En una implementación real, aquí se generaría el archivo de exportación
  };

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading-spinner"></div>
        <div className="loading-text">Cargando seguimiento de altas...</div>
      </div>
    );
  }

  return (
    <div className="configuracion-page">
      <div className="page-header">
        <div>
          <h1>Seguimiento de Altas</h1>
          <p>Gestión y seguimiento de altas terapéuticas</p>
        </div>
        <button className="btn-secondary" onClick={exportarReporteAltas}>
          <FiDownload /> Exportar Reporte
        </button>
      </div>

      {/* Estadísticas de Altas */}
      <div className="grid-4 mb-30">
        <div className="card">
          <h4>Altas Terapéuticas</h4>
          <div className="stat-value">{estadisticas.altasTerapeuticas || 0}</div>
          <div className="text-small">éxito terapéutico</div>
        </div>
        
        <div className="card">
          <h4>Tasa de Éxito</h4>
          <div className="stat-value">{estadisticas.tasaExito || 0}%</div>
          <div className="text-small">de tratamientos exitosos</div>
        </div>
        
        <div className="card">
          <h4>Sesión Promedio</h4>
          <div className="stat-value">{estadisticas.sesionesPromedio || 0}</div>
          <div className="text-small">sesiones por paciente</div>
        </div>
        
        <div className="card">
          <h4>Satisfacción</h4>
          <div className="stat-value">{estadisticas.satisfaccionPromedio || 0}/5</div>
          <div className="text-small">puntuación promedio</div>
        </div>
      </div>

      {/* Candidatos a Alta */}
      <div className="dashboard-section mb-30">
        <div className="section-header">
          <h3>Candidatos a Alta ({candidatosAlta.length})</h3>
          <button className="btn-text">Ver todos</button>
        </div>
        
        {candidatosAlta.length > 0 ? (
          <div className="grid-2">
            {candidatosAlta.map((paciente) => (
              <div key={paciente.id} className="card">
                <div className="flex-row align-center justify-between mb-15">
                  <div className="flex-row align-center gap-10">
                    <div className="avatar">
                      {paciente.paciente_nombre.split(' ').map(n => n[0]).join('')}
                    </div>
                    <div>
                      <h4>{paciente.paciente_nombre}</h4>
                      <p className="text-small">{paciente.edad} años • {paciente.motivo_consulta}</p>
                    </div>
                  </div>
                  <div className="text-right">
                    <div className="font-bold">{paciente.progreso}%</div>
                    <div className="text-small">progreso</div>
                  </div>
                </div>
                
                <div className="mb-15">
                  <div className="card-progress-label">
                    <span>Sesión {paciente.sesiones_completadas}</span>
                    <span>{paciente.progreso}%</span>
                  </div>
                  <div className="progress-container">
                    <div 
                      className="progress-bar"
                      style={{ width: `${paciente.progreso}%` }}
                    ></div>
                  </div>
                </div>
                
                <div className="grid-2 gap-10 mb-15">
                  <div>
                    <div className="text-small">Psicólogo</div>
                    <div className="font-bold">{paciente.psicologo}</div>
                  </div>
                  <div>
                    <div className="text-small">Becario</div>
                    <div className="font-bold">{paciente.becario || 'No asignado'}</div>
                  </div>
                </div>
                
                <div className="mb-15">
                  <div className="text-small">Recomendación</div>
                  <div className="font-bold text-success">{paciente.recomendacion}</div>
                </div>
                
                <div className="flex-row gap-10">
                  <button 
                    className="btn-primary flex-1"
                    onClick={() => procesarAlta(paciente.id, 'aprobar')}
                  >
                    <FiCheckCircle /> Aprobar Alta
                  </button>
                  <button 
                    className="btn-danger flex-1"
                    onClick={() => procesarAlta(paciente.id, 'rechazar')}
                  >
                    <FiXCircle /> Rechazar
                  </button>
                </div>
              </div>
            ))}
          </div>
        ) : (
          <div className="no-citas">
            <div className="no-citas-icon">✅</div>
            <div>No hay candidatos a alta pendientes</div>
            <p className="text-small mt-10">Los psicólogos propondrán pacientes para alta cuando estén listos</p>
          </div>
        )}
      </div>

      {/* Historial de Altas */}
      <div className="dashboard-section">
        <div className="section-header">
          <h3>Historial de Altas</h3>
          <div className="flex-row gap-10">
            <select 
              value={filtroEstado} 
              onChange={(e) => setFiltroEstado(e.target.value)}
              className="select-field"
              style={{ width: '150px' }}
            >
              <option value="">Todos los tipos</option>
              <option value="terapeutica">Altas Terapéuticas</option>
              <option value="abandono">Abandonos</option>
              <option value="traslado">Traslados</option>
            </select>
            
            <select 
              value={filtroMes} 
              onChange={(e) => setFiltroMes(e.target.value)}
              className="select-field"
              style={{ width: '150px' }}
            >
              <option value="">Todos los meses</option>
              <option value="0">Enero</option>
              <option value="1">Febrero</option>
              <option value="2">Marzo</option>
              <option value="3">Abril</option>
              <option value="4">Mayo</option>
              <option value="5">Junio</option>
              <option value="6">Julio</option>
              <option value="7">Agosto</option>
              <option value="8">Septiembre</option>
              <option value="9">Octubre</option>
              <option value="10">Noviembre</option>
              <option value="11">Diciembre</option>
            </select>
          </div>
        </div>
        
        <div className="table-container">
          <table className="data-table">
            <thead>
              <tr>
                <th>Paciente</th>
                <th>Tipo de Alta</th>
                <th>Fechas</th>
                <th>Sesiones</th>
                <th>Equipo</th>
                <th>Satisfacción</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody>
              {filteredAltas.map((alta) => {
                const tipoInfo = getTipoAltaLabel(alta.tipo_alta);
                
                return (
                  <tr key={alta.id}>
                    <td>
                      <div className="flex-row align-center gap-10">
                        <div className="avatar-small">
                          {alta.paciente_nombre.split(' ').map(n => n[0]).join('')}
                        </div>
                        <div>
                          <div className="font-bold">{alta.paciente_nombre}</div>
                          <div className="text-small">{alta.motivo_consulta}</div>
                        </div>
                      </div>
                    </td>
                    <td>
                      <span className={`badge badge-${tipoInfo.color}`}>
                        {tipoInfo.icon} {tipoInfo.text}
                      </span>
                    </td>
                    <td>
                      <div>Ingreso: {new Date(alta.fecha_ingreso).toLocaleDateString()}</div>
                      <div className="text-small">Alta: {new Date(alta.fecha_alta).toLocaleDateString()}</div>
                    </td>
                    <td>
                      <div className="font-bold">{alta.sesiones_totales}</div>
                      <div className="text-small">sesiones</div>
                    </td>
                    <td>
                      <div className="text-small">{alta.psicologo}</div>
                      <div className="text-small">{alta.becario || 'Sin becario'}</div>
                    </td>
                    <td>
                      <div className="flex-row align-center gap-5">
                        {'★'.repeat(alta.satisfaccion)}
                        {'☆'.repeat(5 - alta.satisfaccion)}
                        <span className="ml-5">({alta.satisfaccion}/5)</span>
                      </div>
                    </td>
                    <td>
                      <div className="flex-row gap-5">
                        <button 
                          className="btn-text"
                          onClick={() => {
                            setSelectedPaciente(alta);
                            setShowModal(true);
                          }}
                        >
                          <FiFileText /> Ver
                        </button>
                      </div>
                    </td>
                  </tr>
                );
              })}
            </tbody>
          </table>
        </div>
      </div>

      {/* Análisis de Tendencias */}
      <div className="grid-2 mt-30">
        <div className="card">
          <h4>Tendencias de Altas por Mes</h4>
          <div className="activity-chart" style={{ height: '200px' }}>
            <div className="chart-bars">
              {[65, 80, 45, 90, 75, 60, 85, 70, 95, 50, 65, 80].map((height, index) => (
                <div key={index} className="chart-bar">
                  <div 
                    className="bar-fill"
                    style={{ height: `${height}%` }}
                  ></div>
                  <div className="bar-label">
                    {['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'][index]}
                  </div>
                </div>
              ))}
            </div>
          </div>
        </div>
        
        <div className="card">
          <h4>Distribución por Tipo de Alta</h4>
          <div className="flex-col gap-15 mt-20">
            <div className="flex-row align-center justify-between">
              <div className="flex-row align-center gap-10">
                <div className="badge badge-success">Alta Terapéutica</div>
                <div className="text-small">{estadisticas.altasTerapeuticas} pacientes</div>
              </div>
              <div className="font-bold">
                {altas.length > 0 ? Math.round((estadisticas.altasTerapeuticas / altas.length) * 100) : 0}%
              </div>
            </div>
            
            <div className="flex-row align-center justify-between">
              <div className="flex-row align-center gap-10">
                <div className="badge badge-danger">Abandonos</div>
                <div className="text-small">{estadisticas.abandonos} pacientes</div>
              </div>
              <div className="font-bold">
                {altas.length > 0 ? Math.round((estadisticas.abandonos / altas.length) * 100) : 0}%
              </div>
            </div>
            
            <div className="flex-row align-center justify-between">
              <div className="flex-row align-center gap-10">
                <div className="badge badge-warning">Traslados</div>
                <div className="text-small">{estadisticas.traslados} pacientes</div>
              </div>
              <div className="font-bold">
                {altas.length > 0 ? Math.round((estadisticas.traslados / altas.length) * 100) : 0}%
              </div>
            </div>
          </div>
        </div>
      </div>

      {/* Modal de Detalles de Alta */}
      {showModal && selectedPaciente && (
        <div className="modal-overlay">
          <div className="modal-container modal-large">
            <div className="modal-header">
              <h3>Detalles de Alta</h3>
              <button className="modal-close" onClick={() => setShowModal(false)}>×</button>
            </div>
            
            <div className="modal-content">
              <div className="grid-2 gap-20">
                <div>
                  <h4>Información del Paciente</h4>
                  <div className="detail-row">
                    <strong>Nombre:</strong> {selectedPaciente.paciente_nombre}
                  </div>
                  <div className="detail-row">
                    <strong>Edad:</strong> {selectedPaciente.edad} años
                  </div>
                  <div className="detail-row">
                    <strong>Motivo de consulta:</strong> {selectedPaciente.motivo_consulta}
                  </div>
                  <div className="detail-row">
                    <strong>Fechas:</strong> 
                    <div>
                      Ingreso: {new Date(selectedPaciente.fecha_ingreso).toLocaleDateString()}<br/>
                      Alta: {new Date(selectedPaciente.fecha_alta).toLocaleDateString()}
                    </div>
                  </div>
                </div>
                
                <div>
                  <h4>Información del Tratamiento</h4>
                  <div className="detail-row">
                    <strong>Sesiones totales:</strong> {selectedPaciente.sesiones_totales}
                  </div>
                  <div className="detail-row">
                    <strong>Tipo de alta:</strong>
                    <span className={`badge ${
                      selectedPaciente.tipo_alta === 'terapeutica' ? 'badge-success' :
                      selectedPaciente.tipo_alta === 'abandono' ? 'badge-danger' :
                      'badge-warning'
                    }`}>
                      {getTipoAltaLabel(selectedPaciente.tipo_alta).text}
                    </span>
                  </div>
                  <div className="detail-row">
                    <strong>Psicólogo:</strong> {selectedPaciente.psicologo}
                  </div>
                  <div className="detail-row">
                    <strong>Becario:</strong> {selectedPaciente.becario || 'No asignado'}
                  </div>
                </div>
              </div>
              
              <div className="mt-20">
                <h4>Evaluación Final</h4>
                <div className="card p-15 mt-10">
                  {selectedPaciente.evaluacion_final}
                </div>
              </div>
              
              <div className="mt-20">
                <h4>Satisfacción del Paciente</h4>
                <div className="flex-row align-center gap-10 mt-10">
                  <div className="flex-row">
                    {'★'.repeat(selectedPaciente.satisfaccion)}
                    {'☆'.repeat(5 - selectedPaciente.satisfaccion)}
                  </div>
                  <span className="font-bold">({selectedPaciente.satisfaccion}/5)</span>
                </div>
              </div>
            </div>
            
            <div className="modal-footer">
              <button className="btn-secondary" onClick={() => setShowModal(false)}>
                Cerrar
              </button>
              <button className="btn-primary">
                <FiDownload /> Descargar Informe
              </button>
            </div>
          </div>
        </div>
      )}
    </div>
  );
};

export default CoordinadorAltas;

/src\pages\coordinador\AsignacionesPage.js:
--------------------------------------------------------------------------------
import React, { useState, useEffect } from 'react';
import { 
  FiUsers, FiUserPlus, FiCheckCircle, FiXCircle, 
  FiRefreshCw, FiSearch, FiFilter, FiEdit2
} from 'react-icons/fi';
import './coordinador.css';
import notifications from '../../utils/notifications';
import confirmations from '../../utils/confirmations';

const CoordinadorAsignaciones = () => {
  const [becarios, setBecarios] = useState([]);
  const [psicologos, setPsicologos] = useState([]);
  const [pacientesSinAsignar, setPacientesSinAsignar] = useState([]);
  const [asignaciones, setAsignaciones] = useState([]);
  const [loading, setLoading] = useState(true);
  const [showModal, setShowModal] = useState(false);
  const [selectedBecario, setSelectedBecario] = useState(null);
  const [selectedPaciente, setSelectedPaciente] = useState(null);

  useEffect(() => {
    fetchData();
  }, []);

  const fetchData = async () => {
    try {
      setLoading(true);
      
      // Simulación de datos
      setTimeout(() => {
        setBecarios([
          { id: 1, nombre: 'Juan Pérez', especialidad: 'Practicante', pacientes_asignados: 3, capacidad: 5, activo: true },
          { id: 2, nombre: 'Sofía Ramírez', especialidad: 'Practicante', pacientes_asignados: 2, capacidad: 4, activo: true },
          { id: 3, nombre: 'Pedro Hernández', especialidad: 'Practicante', pacientes_asignados: 1, capacidad: 3, activo: true },
          { id: 4, nombre: 'Nuevo Becario', especialidad: 'Practicante', pacientes_asignados: 0, capacidad: 3, activo: false }
        ]);

        setPsicologos([
          { id: 1, nombre: 'Lic. Luis Fernández', especialidad: 'TCC', pacientes_total: 12 },
          { id: 2, nombre: 'Lic. Laura Gutiérrez', especialidad: 'Terapia Familiar', pacientes_total: 8 }
        ]);

        setPacientesSinAsignar([
          { id: 1, nombre: 'Ana Rodríguez', motivo: 'Depresión', fecha_ingreso: '2024-01-05' },
          { id: 2, nombre: 'Carlos Martínez', motivo: 'Ansiedad social', fecha_ingreso: '2024-01-08' },
          { id: 3, nombre: 'María González', motivo: 'Estrés postraumático', fecha_ingreso: '2024-01-10' }
        ]);

        setAsignaciones([
          { id: 1, paciente: 'Carlos Gómez', becario: 'Juan Pérez', psicologo: 'Lic. Luis Fernández', fecha_asignacion: '2023-10-15', estado: 'activa' },
          { id: 2, paciente: 'Mariana López', becario: 'Sofía Ramírez', psicologo: 'Lic. Luis Fernández', fecha_asignacion: '2023-11-20', estado: 'activa' },
          { id: 3, paciente: 'Roberto Sánchez', becario: 'Pedro Hernández', psicologo: 'Lic. Luis Fernández', fecha_asignacion: '2023-12-05', estado: 'activa' },
          { id: 4, paciente: 'Antonio Silva', becario: 'Juan Pérez', psicologo: 'Lic. Laura Gutiérrez', fecha_asignacion: '2024-01-03', estado: 'finalizada' }
        ]);

        setLoading(false);
      }, 1000);
    } catch (error) {
      console.error('Error cargando asignaciones:', error);
      setLoading(false);
    }
  };

  const handleAsignarPaciente = (pacienteId, becarioId) => {
    // Lógica para asignar paciente
    notifications.success(`Paciente asignado exitosamente al becario`);
    setShowModal(false);
  };

  const handleReasignar = (asignacionId, nuevoBecarioId) => {
    // Lógica para reasignar
    notifications.success(`Paciente reasignado exitosamente`);
  };

  const handleFinalizarAsignacion = async (asignacionId) => {
    try {
      const confirmado = await confirmations.warning('¿Estás seguro de finalizar esta asignación?');
      
      if (confirmado) {
        notifications.success('Asignación finalizada exitosamente');
      }
    } catch (error) {
      console.error('Error al finalizar asignación:', error);
      notifications.error('No se pudo finalizar la asignación');
    }
  };

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading-spinner"></div>
        <div className="loading-text">Cargando asignaciones...</div>
      </div>
    );
  }

  return (
    <div className="configuracion-page">
      <div className="page-header">
        <div>
          <h1>Gestión de Asignaciones</h1>
          <p>Asignación de pacientes a becarios y psicólogos</p>
        </div>
        <button className="btn-secondary" onClick={fetchData}>
          <FiRefreshCw /> Actualizar
        </button>
      </div>

      {/* Estadísticas Rápidas */}
      <div className="grid-3 mb-30">
        <div className="card">
          <h4>Becarios Activos</h4>
          <div className="stat-value">{becarios.filter(b => b.activo).length}</div>
          <div className="text-small">de {becarios.length} total</div>
        </div>
        
        <div className="card">
          <h4>Pacientes Sin Asignar</h4>
          <div className="stat-value">{pacientesSinAsignar.length}</div>
          <div className="text-small">esperando asignación</div>
        </div>
        
        <div className="card">
          <h4>Asignaciones Activas</h4>
          <div className="stat-value">{asignaciones.filter(a => a.estado === 'activa').length}</div>
          <div className="text-small">en curso</div>
        </div>
      </div>

      {/* Becarios Disponibles */}
      <div className="dashboard-section mb-20">
        <div className="section-header">
          <h3>Becarios Disponibles</h3>
          <button 
            className="btn-primary"
            onClick={() => setShowModal(true)}
          >
            <FiUserPlus /> Asignar Paciente
          </button>
        </div>
        
        <div className="grid-4">
          {becarios.map((becario) => (
            <div key={becario.id} className="card">
              <div className="flex-row align-center justify-between mb-10">
                <div className="flex-row align-center gap-10">
                  <div className="avatar">
                    {becario.nombre.split(' ').map(n => n[0]).join('')}
                  </div>
                  <div>
                    <h4>{becario.nombre}</h4>
                    <p className="text-small">{becario.especialidad}</p>
                  </div>
                </div>
                {becario.activo ? (
                  <span className="badge badge-success">Activo</span>
                ) : (
                  <span className="badge badge-danger">Inactivo</span>
                )}
              </div>
              
              <div className="card-progress">
                <div className="card-progress-label">
                  <span>Capacidad</span>
                  <span>{becario.pacientes_asignados}/{becario.capacidad}</span>
                </div>
                <div className="progress-container">
                  <div 
                    className="progress-bar"
                    style={{ width: `${(becario.pacientes_asignados / becario.capacidad) * 100}%` }}
                  ></div>
                </div>
              </div>
              
              {becario.activo && (
                <button 
                  className="btn-text w-100 mt-10"
                  onClick={() => {
                    setSelectedBecario(becario);
                    setShowModal(true);
                  }}
                >
                  Asignar paciente
                </button>
              )}
            </div>
          ))}
        </div>
      </div>

      {/* Pacientes Sin Asignar */}
      <div className="dashboard-section mb-20">
        <div className="section-header">
          <h3>Pacientes Sin Asignar ({pacientesSinAsignar.length})</h3>
          <button className="btn-text">Ver todos</button>
        </div>
        
        {pacientesSinAsignar.length > 0 ? (
          <div className="table-container">
            <table className="data-table">
              <thead>
                <tr>
                  <th>Paciente</th>
                  <th>Motivo</th>
                  <th>Fecha Ingreso</th>
                  <th>Acciones</th>
                </tr>
              </thead>
              <tbody>
                {pacientesSinAsignar.map((paciente) => (
                  <tr key={paciente.id}>
                    <td>
                      <div className="flex-row align-center gap-10">
                        <div className="avatar-small">
                          {paciente.nombre.split(' ').map(n => n[0]).join('')}
                        </div>
                        <span>{paciente.nombre}</span>
                      </div>
                    </td>
                    <td>
                      <span className="diagnostico-tag">{paciente.motivo}</span>
                    </td>
                    <td>{new Date(paciente.fecha_ingreso).toLocaleDateString()}</td>
                    <td>
                      <div className="flex-row gap-5">
                        <button 
                          className="btn-text"
                          onClick={() => {
                            setSelectedPaciente(paciente);
                            setShowModal(true);
                          }}
                        >
                          Asignar
                        </button>
                      </div>
                    </td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        ) : (
          <div className="no-citas">
            <div className="no-citas-icon">✅</div>
            <div>Todos los pacientes están asignados</div>
          </div>
        )}
      </div>

      {/* Asignaciones Activas */}
      <div className="dashboard-section">
        <div className="section-header">
          <h3>Asignaciones Activas</h3>
          <div className="flex-row gap-10">
            <select className="select-field" style={{ width: '150px' }}>
              <option value="">Todas las asignaciones</option>
              <option value="activa">Activas</option>
              <option value="finalizada">Finalizadas</option>
            </select>
          </div>
        </div>
        
        <div className="table-container">
          <table className="data-table">
            <thead>
              <tr>
                <th>Paciente</th>
                <th>Becario</th>
                <th>Psicólogo Supervisor</th>
                <th>Fecha Asignación</th>
                <th>Estado</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody>
              {asignaciones.map((asignacion) => (
                <tr key={asignacion.id}>
                  <td>{asignacion.paciente}</td>
                  <td>
                    <div className="flex-row align-center gap-10">
                      <div className="avatar-small">
                        {asignacion.becario.split(' ').map(n => n[0]).join('')}
                      </div>
                      <span>{asignacion.becario}</span>
                    </div>
                  </td>
                  <td>{asignacion.psicologo}</td>
                  <td>{new Date(asignacion.fecha_asignacion).toLocaleDateString()}</td>
                  <td>
                    <span className={`badge ${asignacion.estado === 'activa' ? 'badge-success' : 'badge-primary'}`}>
                      {asignacion.estado}
                    </span>
                  </td>
                  <td>
                    <div className="flex-row gap-5">
                      <button 
                        className="btn-text"
                        onClick={() => handleReasignar(asignacion.id, 1)}
                      >
                        <FiEdit2 /> Reasignar
                      </button>
                      {asignacion.estado === 'activa' && (
                        <button 
                          className="btn-text text-danger"
                          onClick={() => handleFinalizarAsignacion(asignacion.id)}
                        >
                          <FiXCircle /> Finalizar
                        </button>
                      )}
                    </div>
                  </td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      </div>

      {/* Modal de Asignación */}
      {showModal && (
        <div className="modal-overlay">
          <div className="modal-container">
            <div className="modal-header">
              <h3>Asignar Paciente</h3>
              <button className="modal-close" onClick={() => setShowModal(false)}>×</button>
            </div>
            
            <div className="modal-content">
              <div className="form-grid">
                <div className="form-group">
                  <label>Seleccionar Paciente</label>
                  <select className="select-field">
                    <option value="">Seleccionar paciente...</option>
                    {pacientesSinAsignar.map(paciente => (
                      <option key={paciente.id} value={paciente.id}>
                        {paciente.nombre} - {paciente.motivo}
                      </option>
                    ))}
                  </select>
                </div>
                
                <div className="form-group">
                  <label>Seleccionar Becario</label>
                  <select className="select-field">
                    <option value="">Seleccionar becario...</option>
                    {becarios.filter(b => b.activo).map(becario => (
                      <option key={becario.id} value={becario.id}>
                        {becario.nombre} ({becario.pacientes_asignados}/{becario.capacidad})
                      </option>
                    ))}
                  </select>
                </div>
                
                <div className="form-group">
                  <label>Psicólogo Supervisor</label>
                  <select className="select-field">
                    <option value="">Seleccionar psicólogo...</option>
                    {psicologos.map(psicologo => (
                      <option key={psicologo.id} value={psicologo.id}>
                        {psicologo.nombre}
                      </option>
                    ))}
                  </select>
                </div>
                
                <div className="form-group" style={{ gridColumn: 'span 2' }}>
                  <label>Notas de Asignación</label>
                  <textarea 
                    className="textarea-field" 
                    placeholder="Observaciones especiales para esta asignación..."
                    rows="3"
                  />
                </div>
              </div>
            </div>
            
            <div className="modal-footer">
              <button className="btn-primary">
                <FiCheckCircle /> Confirmar Asignación
              </button>
              <button className="btn-danger" onClick={() => setShowModal(false)}>
                Cancelar
              </button>
            </div>
          </div>
        </div>
      )}
    </div>
  );
};

export default CoordinadorAsignaciones;

/src\pages\coordinador\ConfiguracionPage.js:
--------------------------------------------------------------------------------
import React, { useState, useEffect } from 'react';
import { 
  FiSettings, FiSave, FiUpload, FiDownload, 
  FiDatabase, FiBell, FiCalendar, FiUsers,
  FiShield, FiGlobe, FiMail, FiLock
} from 'react-icons/fi';
import './coordinador.css';
import notifications from '../../utils/notifications';
import confirmations from '../../utils/confirmations';

const CoordinadorConfiguracion = () => {
  const [activeTab, setActiveTab] = useState('general');
  const [configuraciones, setConfiguraciones] = useState({});
  const [loading, setLoading] = useState(true);
  const [saving, setSaving] = useState(false);
  const [message, setMessage] = useState({ type: '', text: '' });

  const tabs = [
    { id: 'general', label: 'General', icon: <FiSettings /> },
    { id: 'clinica', label: 'Clínica', icon: <FiUsers /> },
    { id: 'citas', label: 'Citas', icon: <FiCalendar /> },
    { id: 'notificaciones', label: 'Notificaciones', icon: <FiBell /> },
    { id: 'seguridad', label: 'Seguridad', icon: <FiShield /> },
    { id: 'avanzada', label: 'Avanzada', icon: <FiDatabase /> }
  ];

  useEffect(() => {
    fetchConfiguraciones();
  }, []);

  const fetchConfiguraciones = async () => {
    try {
      setLoading(true);
      
      // Simulación de datos
      setTimeout(() => {
        setConfiguraciones({
          general: {
            nombreConsultorio: 'PsicoGestión Consultorio',
            direccion: 'Av. Principal 123, Ciudad',
            telefono: '+123 456 7890',
            email: 'contacto@psicogestion.com',
            sitioWeb: 'https://psicogestion.com',
            moneda: 'USD',
            zonaHoraria: 'America/Mexico_City',
            idioma: 'es'
          },
          clinica: {
            duracionSesionDefault: 50,
            sesionesGratuitas: 3,
            edadMinima: 16,
            maxPacientesPsicologo: 15,
            maxPacientesBecario: 5,
            requiereSupervision: true,
            frecuenciaSupervision: 'semanal'
          },
          citas: {
            horarioInicio: '09:00',
            horarioFin: '20:00',
            intervaloCitas: 15,
            antelacionReserva: 30,
            recordatorio24h: true,
            recordatorio1h: true,
            margenCancelacion: 24,
            maxCitasDia: 8
          },
          notificaciones: {
            emailNuevaCita: true,
            emailCancelacion: true,
            emailRecordatorio: true,
            emailReportes: true,
            smsRecordatorio: false,
            notificacionesPush: true,
            emailCoordinador: 'coordinador@psicogestion.com'
          },
          seguridad: {
            requerirVerificacionEmail: true,
            intentosLogin: 3,
            bloqueoTemporal: 30,
            expiracionSesion: 60,
            requerir2FA: false,
            registroIP: true,
            politicasAceptadas: true
          },
          avanzada: {
            backupAutomatico: true,
            frecuenciaBackup: 'diario',
            retencionBackups: 30,
            logsDetallados: true,
            modoMantenimiento: false,
            versionAPI: '1.0.0',
            debugMode: false
          }
        });
        setLoading(false);
      }, 1000);
    } catch (error) {
      console.error('Error cargando configuraciones:', error);
      setLoading(false);
    }
  };

  const handleInputChange = (categoria, campo, valor) => {
    setConfiguraciones(prev => ({
      ...prev,
      [categoria]: {
        ...prev[categoria],
        [campo]: valor
      }
    }));
  };

  const guardarConfiguracion = async (categoria) => {
    try {
      setSaving(true);
      setMessage({ type: '', text: '' });
      
      // Simulación de guardado
      setTimeout(() => {
        setMessage({ 
          type: 'success', 
          text: `Configuración ${categoria} guardada exitosamente` 
        });
        setSaving(false);
        
        setTimeout(() => {
          setMessage({ type: '', text: '' });
        }, 3000);
      }, 1000);
    } catch (error) {
      setMessage({ type: 'error', text: 'Error al guardar la configuración' });
      setSaving(false);
    }
  };

  const exportarConfiguracion = () => {
    const dataStr = JSON.stringify(configuraciones, null, 2);
    const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
    const exportFileDefaultName = `configuracion-psicogestion-${new Date().toISOString().split('T')[0]}.json`;
    
    const linkElement = document.createElement('a');
    linkElement.setAttribute('href', dataUri);
    linkElement.setAttribute('download', exportFileDefaultName);
    linkElement.click();
    
    setMessage({ type: 'success', text: 'Configuración exportada exitosamente' });
    setTimeout(() => setMessage({ type: '', text: '' }), 3000);
  };

  const importarConfiguracion = (event) => {
    const file = event.target.files[0];
    if (!file) return;
    
    const reader = new FileReader();
    reader.onload = (e) => {
      try {
        const config = JSON.parse(e.target.result);
        setConfiguraciones(config);
        setMessage({ type: 'success', text: 'Configuración importada exitosamente' });
        setTimeout(() => setMessage({ type: '', text: '' }), 3000);
      } catch (error) {
        setMessage({ type: 'error', text: 'Error al importar la configuración' });
      }
    };
    reader.readAsText(file);
  };

  const restaurarValoresPredeterminados = async (categoria) => {
    const confirmado = await confirmations.warning('¿Estás seguro de restaurar los valores predeterminados?');
    
    if (confirmado) {
      notifications.success('Valores predeterminados restaurados');
    }
  };

  const toggleModoMantenimiento = async () => {
    const nuevoValor = !configuraciones.avanzada?.modoMantenimiento;
    const confirmado = await confirmations.danger(`¿${nuevoValor ? 'Activar' : 'Desactivar'} modo mantenimiento? Esto afectará a todos los usuarios.`);
    
    if (confirmado) {
      handleInputChange('avanzada', 'modoMantenimiento', nuevoValor);
      notifications.warning(`Modo mantenimiento ${nuevoValor ? 'activado' : 'desactivado'}`);
    }
  };

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading-spinner"></div>
        <div className="loading-text">Cargando configuración...</div>
      </div>
    );
  }

  return (
    <div className="configuracion-page">
      <div className="page-header">
        <div>
          <h1>Configuración del Sistema</h1>
          <p>Configuración avanzada del sistema de gestión</p>
        </div>
        <div className="flex-row gap-10">
          <button className="btn-secondary" onClick={exportarConfiguracion}>
            <FiDownload /> Exportar
          </button>
          <label className="btn-warning" style={{ cursor: 'pointer' }}>
            <FiUpload /> Importar
            <input
              type="file"
              accept=".json"
              onChange={importarConfiguracion}
              style={{ display: 'none' }}
            />
          </label>
        </div>
      </div>

      {message.text && (
        <div className={`alert-message ${message.type}`}>
          {message.text}
        </div>
      )}

      <div className="configuracion-container">
        <div className="config-tabs">
          {tabs.map((tab) => (
            <button
              key={tab.id}
              className={`config-tab ${activeTab === tab.id ? 'active' : ''}`}
              onClick={() => setActiveTab(tab.id)}
            >
              {tab.icon}
              <span>{tab.label}</span>
            </button>
          ))}
        </div>

        <div className="config-content">
          {/* Configuración General */}
          {activeTab === 'general' && (
            <div className="tab-content">
              <div className="section-header">
                <h3>
                  <FiSettings /> Configuración General
                </h3>
                <div className="flex-row gap-10">
                  <button 
                    className="btn-text"
                    onClick={() => restaurarValoresPredeterminados('general')}
                  >
                    Restaurar valores
                  </button>
                  <button 
                    className="btn-primary"
                    onClick={() => guardarConfiguracion('general')}
                    disabled={saving}
                  >
                    <FiSave /> {saving ? 'Guardando...' : 'Guardar'}
                  </button>
                </div>
              </div>
              
              <div className="form-grid">
                <div className="form-group">
                  <label>Nombre del Consultorio</label>
                  <input
                    type="text"
                    value={configuraciones.general?.nombreConsultorio || ''}
                    onChange={(e) => handleInputChange('general', 'nombreConsultorio', e.target.value)}
                    className="input-field"
                    placeholder="Nombre del consultorio"
                  />
                </div>
                
                <div className="form-group">
                  <label>Dirección</label>
                  <input
                    type="text"
                    value={configuraciones.general?.direccion || ''}
                    onChange={(e) => handleInputChange('general', 'direccion', e.target.value)}
                    className="input-field"
                    placeholder="Dirección completa"
                  />
                </div>
                
                <div className="form-group">
                  <label>Teléfono</label>
                  <input
                    type="tel"
                    value={configuraciones.general?.telefono || ''}
                    onChange={(e) => handleInputChange('general', 'telefono', e.target.value)}
                    className="input-field"
                    placeholder="Número de teléfono"
                  />
                </div>
                
                <div className="form-group">
                  <label>Email de contacto</label>
                  <input
                    type="email"
                    value={configuraciones.general?.email || ''}
                    onChange={(e) => handleInputChange('general', 'email', e.target.value)}
                    className="input-field"
                    placeholder="correo@ejemplo.com"
                  />
                </div>
                
                <div className="form-group">
                  <label>Sitio web</label>
                  <input
                    type="url"
                    value={configuraciones.general?.sitioWeb || ''}
                    onChange={(e) => handleInputChange('general', 'sitioWeb', e.target.value)}
                    className="input-field"
                    placeholder="https://ejemplo.com"
                  />
                </div>
                
                <div className="form-group">
                  <label>Moneda</label>
                  <select
                    value={configuraciones.general?.moneda || 'USD'}
                    onChange={(e) => handleInputChange('general', 'moneda', e.target.value)}
                    className="select-field"
                  >
                    <option value="USD">USD ($)</option>
                    <option value="MXN">MXN ($)</option>
                    <option value="EUR">EUR (€)</option>
                  </select>
                </div>
                
                <div className="form-group">
                  <label>Zona horaria</label>
                  <select
                    value={configuraciones.general?.zonaHoraria || 'UTC'}
                    onChange={(e) => handleInputChange('general', 'zonaHoraria', e.target.value)}
                    className="select-field"
                  >
                    <option value="America/Mexico_City">Ciudad de México (UTC-6)</option>
                    <option value="UTC">UTC</option>
                    <option value="America/New_York">Nueva York (UTC-5)</option>
                    <option value="Europe/Madrid">Madrid (UTC+1)</option>
                  </select>
                </div>
                
                <div className="form-group">
                  <label>Idioma del sistema</label>
                  <select
                    value={configuraciones.general?.idioma || 'es'}
                    onChange={(e) => handleInputChange('general', 'idioma', e.target.value)}
                    className="select-field"
                  >
                    <option value="es">Español</option>
                    <option value="en">Inglés</option>
                  </select>
                </div>
              </div>
            </div>
          )}

          {/* Configuración Clínica */}
          {activeTab === 'clinica' && (
            <div className="tab-content">
              <div className="section-header">
                <h3>
                  <FiUsers /> Configuración Clínica
                </h3>
                <div className="flex-row gap-10">
                  <button 
                    className="btn-text"
                    onClick={() => restaurarValoresPredeterminados('clinica')}
                  >
                    Restaurar valores
                  </button>
                  <button 
                    className="btn-primary"
                    onClick={() => guardarConfiguracion('clinica')}
                    disabled={saving}
                  >
                    <FiSave /> {saving ? 'Guardando...' : 'Guardar'}
                  </button>
                </div>
              </div>
              
              <div className="form-grid">
                <div className="form-group">
                  <label>Duración de sesión predeterminada (minutos)</label>
                  <input
                    type="number"
                    value={configuraciones.clinica?.duracionSesionDefault || 50}
                    onChange={(e) => handleInputChange('clinica', 'duracionSesionDefault', parseInt(e.target.value))}
                    className="input-field"
                    min="30"
                    max="120"
                    step="5"
                  />
                </div>
                
                <div className="form-group">
                  <label>Sesiones gratuitas iniciales</label>
                  <input
                    type="number"
                    value={configuraciones.clinica?.sesionesGratuitas || 3}
                    onChange={(e) => handleInputChange('clinica', 'sesionesGratuitas', parseInt(e.target.value))}
                    className="input-field"
                    min="0"
                    max="10"
                  />
                </div>
                
                <div className="form-group">
                  <label>Edad mínima para atención</label>
                  <input
                    type="number"
                    value={configuraciones.clinica?.edadMinima || 16}
                    onChange={(e) => handleInputChange('clinica', 'edadMinima', parseInt(e.target.value))}
                    className="input-field"
                    min="12"
                    max="100"
                  />
                </div>
                
                <div className="form-group">
                  <label>Máx. pacientes por psicólogo</label>
                  <input
                    type="number"
                    value={configuraciones.clinica?.maxPacientesPsicologo || 15}
                    onChange={(e) => handleInputChange('clinica', 'maxPacientesPsicologo', parseInt(e.target.value))}
                    className="input-field"
                    min="5"
                    max="30"
                  />
                </div>
                
                <div className="form-group">
                  <label>Máx. pacientes por becario</label>
                  <input
                    type="number"
                    value={configuraciones.clinica?.maxPacientesBecario || 5}
                    onChange={(e) => handleInputChange('clinica', 'maxPacientesBecario', parseInt(e.target.value))}
                    className="input-field"
                    min="1"
                    max="10"
                  />
                </div>
                
                <div className="form-group">
                  <label>Frecuencia de supervisión</label>
                  <select
                    value={configuraciones.clinica?.frecuenciaSupervision || 'semanal'}
                    onChange={(e) => handleInputChange('clinica', 'frecuenciaSupervision', e.target.value)}
                    className="select-field"
                  >
                    <option value="semanal">Semanal</option>
                    <option value="quincenal">Quincenal</option>
                    <option value="mensual">Mensual</option>
                  </select>
                </div>
                
                <div className="form-group" style={{ gridColumn: 'span 2' }}>
                  <label className="flex-row align-center gap-10">
                    <input
                      type="checkbox"
                      checked={configuraciones.clinica?.requiereSupervision || true}
                      onChange={(e) => handleInputChange('clinica', 'requiereSupervision', e.target.checked)}
                    />
                    <span>Requerir supervisión para becarios</span>
                  </label>
                </div>
              </div>
              
              <div className="security-info mt-30">
                <h4>Notas importantes:</h4>
                <ul>
                  <li>Los cambios en la duración de sesiones afectarán a las citas futuras</li>
                  <li>Los límites de pacientes se aplicarán para nuevas asignaciones</li>
                  <li>La edad mínima debe cumplir con las regulaciones locales</li>
                </ul>
              </div>
            </div>
          )}

          {/* Configuración de Citas */}
          {activeTab === 'citas' && (
            <div className="tab-content">
              <div className="section-header">
                <h3>
                  <FiCalendar /> Configuración de Citas
                </h3>
                <div className="flex-row gap-10">
                  <button 
                    className="btn-text"
                    onClick={() => restaurarValoresPredeterminados('citas')}
                  >
                    Restaurar valores
                  </button>
                  <button 
                    className="btn-primary"
                    onClick={() => guardarConfiguracion('citas')}
                    disabled={saving}
                  >
                    <FiSave /> {saving ? 'Guardando...' : 'Guardar'}
                  </button>
                </div>
              </div>
              
              <div className="form-grid">
                <div className="form-group">
                  <label>Horario de inicio</label>
                  <input
                    type="time"
                    value={configuraciones.citas?.horarioInicio || '09:00'}
                    onChange={(e) => handleInputChange('citas', 'horarioInicio', e.target.value)}
                    className="input-field"
                  />
                </div>
                
                <div className="form-group">
                  <label>Horario de fin</label>
                  <input
                    type="time"
                    value={configuraciones.citas?.horarioFin || '20:00'}
                    onChange={(e) => handleInputChange('citas', 'horarioFin', e.target.value)}
                    className="input-field"
                  />
                </div>
                
                <div className="form-group">
                  <label>Intervalo entre citas (minutos)</label>
                  <select
                    value={configuraciones.citas?.intervaloCitas || 15}
                    onChange={(e) => handleInputChange('citas', 'intervaloCitas', parseInt(e.target.value))}
                    className="select-field"
                  >
                    <option value="15">15 minutos</option>
                    <option value="30">30 minutos</option>
                    <option value="45">45 minutos</option>
                    <option value="60">60 minutos</option>
                  </select>
                </div>
                
                <div className="form-group">
                  <label>Antelación para reserva (días)</label>
                  <input
                    type="number"
                    value={configuraciones.citas?.antelacionReserva || 30}
                    onChange={(e) => handleInputChange('citas', 'antelacionReserva', parseInt(e.target.value))}
                    className="input-field"
                    min="1"
                    max="90"
                  />
                </div>
                
                <div className="form-group">
                  <label>Máximo de citas por día</label>
                  <input
                    type="number"
                    value={configuraciones.citas?.maxCitasDia || 8}
                    onChange={(e) => handleInputChange('citas', 'maxCitasDia', parseInt(e.target.value))}
                    className="input-field"
                    min="1"
                    max="20"
                  />
                </div>
                
                <div className="form-group">
                  <label>Margen para cancelación (horas)</label>
                  <input
                    type="number"
                    value={configuraciones.citas?.margenCancelacion || 24}
                    onChange={(e) => handleInputChange('citas', 'margenCancelacion', parseInt(e.target.value))}
                    className="input-field"
                    min="1"
                    max="72"
                  />
                </div>
                
                <div className="form-group">
                  <label className="flex-row align-center gap-10">
                    <input
                      type="checkbox"
                      checked={configuraciones.citas?.recordatorio24h || true}
                      onChange={(e) => handleInputChange('citas', 'recordatorio24h', e.target.checked)}
                    />
                    <span>Recordatorio 24 horas antes</span>
                  </label>
                </div>
                
                <div className="form-group">
                  <label className="flex-row align-center gap-10">
                    <input
                      type="checkbox"
                      checked={configuraciones.citas?.recordatorio1h || true}
                      onChange={(e) => handleInputChange('citas', 'recordatorio1h', e.target.checked)}
                    />
                    <span>Recordatorio 1 hora antes</span>
                  </label>
                </div>
              </div>
            </div>
          )}

          {/* Configuración de Notificaciones */}
          {activeTab === 'notificaciones' && (
            <div className="tab-content">
              <div className="section-header">
                <h3>
                  <FiBell /> Configuración de Notificaciones
                </h3>
                <div className="flex-row gap-10">
                  <button 
                    className="btn-text"
                    onClick={() => restaurarValoresPredeterminados('notificaciones')}
                  >
                    Restaurar valores
                  </button>
                  <button 
                    className="btn-primary"
                    onClick={() => guardarConfiguracion('notificaciones')}
                    disabled={saving}
                  >
                    <FiSave /> {saving ? 'Guardando...' : 'Guardar'}
                  </button>
                </div>
              </div>
              
              <div className="notifications-list">
                <div className="notification-item">
                  <div>
                    <h4>Notificaciones por Email</h4>
                    <p>Enviar notificaciones por correo electrónico</p>
                  </div>
                  <label className="switch">
                    <input
                      type="checkbox"
                      checked={configuraciones.notificaciones?.emailNuevaCita || true}
                      onChange={(e) => handleInputChange('notificaciones', 'emailNuevaCita', e.target.checked)}
                    />
                    <span className="slider"></span>
                  </label>
                </div>
                
                <div className="notification-item">
                  <div>
                    <h4>Email por cancelación</h4>
                    <p>Enviar email cuando se cancele una cita</p>
                  </div>
                  <label className="switch">
                    <input
                      type="checkbox"
                      checked={configuraciones.notificaciones?.emailCancelacion || true}
                      onChange={(e) => handleInputChange('notificaciones', 'emailCancelacion', e.target.checked)}
                    />
                    <span className="slider"></span>
                  </label>
                </div>
                
                <div className="notification-item">
                  <div>
                    <h4>Email de recordatorio</h4>
                    <p>Enviar recordatorios automáticos de citas</p>
                  </div>
                  <label className="switch">
                    <input
                      type="checkbox"
                      checked={configuraciones.notificaciones?.emailRecordatorio || true}
                      onChange={(e) => handleInputChange('notificaciones', 'emailRecordatorio', e.target.checked)}
                    />
                    <span className="slider"></span>
                  </label>
                </div>
                
                <div className="notification-item">
                  <div>
                    <h4>Email de reportes</h4>
                    <p>Enviar reportes automáticos por email</p>
                  </div>
                  <label className="switch">
                    <input
                      type="checkbox"
                      checked={configuraciones.notificaciones?.emailReportes || true}
                      onChange={(e) => handleInputChange('notificaciones', 'emailReportes', e.target.checked)}
                    />
                    <span className="slider"></span>
                  </label>
                </div>
                
                <div className="notification-item">
                  <div>
                    <h4>SMS de recordatorio</h4>
                    <p>Enviar recordatorios por mensaje de texto</p>
                  </div>
                  <label className="switch">
                    <input
                      type="checkbox"
                      checked={configuraciones.notificaciones?.smsRecordatorio || false}
                      onChange={(e) => handleInputChange('notificaciones', 'smsRecordatorio', e.target.checked)}
                    />
                    <span className="slider"></span>
                  </label>
                </div>
                
                <div className="notification-item">
                  <div>
                    <h4>Notificaciones push</h4>
                    <p>Enviar notificaciones en tiempo real</p>
                  </div>
                  <label className="switch">
                    <input
                      type="checkbox"
                      checked={configuraciones.notificaciones?.notificacionesPush || true}
                      onChange={(e) => handleInputChange('notificaciones', 'notificacionesPush', e.target.checked)}
                    />
                    <span className="slider"></span>
                  </label>
                </div>
                
                <div className="form-group mt-20">
                  <label>Email del coordinador</label>
                  <input
                    type="email"
                    value={configuraciones.notificaciones?.emailCoordinador || ''}
                    onChange={(e) => handleInputChange('notificaciones', 'emailCoordinador', e.target.value)}
                    className="input-field"
                    placeholder="coordinador@ejemplo.com"
                  />
                </div>
              </div>
            </div>
          )}

          {/* Configuración de Seguridad */}
          {activeTab === 'seguridad' && (
            <div className="tab-content">
              <div className="section-header">
                <h3>
                  <FiShield /> Configuración de Seguridad
                </h3>
                <div className="flex-row gap-10">
                  <button 
                    className="btn-text"
                    onClick={() => restaurarValoresPredeterminados('seguridad')}
                  >
                    Restaurar valores
                  </button>
                  <button 
                    className="btn-primary"
                    onClick={() => guardarConfiguracion('seguridad')}
                    disabled={saving}
                  >
                    <FiSave /> {saving ? 'Guardando...' : 'Guardar'}
                  </button>
                </div>
              </div>
              
              <div className="form-grid">
                <div className="form-group">
                  <label>Intentos de login fallidos</label>
                  <input
                    type="number"
                    value={configuraciones.seguridad?.intentosLogin || 3}
                    onChange={(e) => handleInputChange('seguridad', 'intentosLogin', parseInt(e.target.value))}
                    className="input-field"
                    min="1"
                    max="10"
                  />
                </div>
                
                <div className="form-group">
                  <label>Bloqueo temporal (minutos)</label>
                  <input
                    type="number"
                    value={configuraciones.seguridad?.bloqueoTemporal || 30}
                    onChange={(e) => handleInputChange('seguridad', 'bloqueoTemporal', parseInt(e.target.value))}
                    className="input-field"
                    min="5"
                    max="1440"
                  />
                </div>
                
                <div className="form-group">
                  <label>Expiración de sesión (minutos)</label>
                  <input
                    type="number"
                    value={configuraciones.seguridad?.expiracionSesion || 60}
                    onChange={(e) => handleInputChange('seguridad', 'expiracionSesion', parseInt(e.target.value))}
                    className="input-field"
                    min="15"
                    max="480"
                  />
                </div>
                
                <div className="form-group">
                  <label className="flex-row align-center gap-10">
                    <input
                      type="checkbox"
                      checked={configuraciones.seguridad?.requerirVerificacionEmail || true}
                      onChange={(e) => handleInputChange('seguridad', 'requerirVerificacionEmail', e.target.checked)}
                    />
                    <span>Requerir verificación de email</span>
                  </label>
                </div>
                
                <div className="form-group">
                  <label className="flex-row align-center gap-10">
                    <input
                      type="checkbox"
                      checked={configuraciones.seguridad?.requerir2FA || false}
                      onChange={(e) => handleInputChange('seguridad', 'requerir2FA', e.target.checked)}
                    />
                    <span>Requerir autenticación de dos factores</span>
                  </label>
                </div>
                
                <div className="form-group">
                  <label className="flex-row align-center gap-10">
                    <input
                      type="checkbox"
                      checked={configuraciones.seguridad?.registroIP || true}
                      onChange={(e) => handleInputChange('seguridad', 'registroIP', e.target.checked)}
                    />
                    <span>Registrar direcciones IP</span>
                  </label>
                </div>
                
                <div className="form-group">
                  <label className="flex-row align-center gap-10">
                    <input
                      type="checkbox"
                      checked={configuraciones.seguridad?.politicasAceptadas || true}
                      onChange={(e) => handleInputChange('seguridad', 'politicasAceptadas', e.target.checked)}
                    />
                    <span>Requerir aceptación de políticas</span>
                  </label>
                </div>
              </div>
              
              <div className="security-info mt-30">
                <h4>
                  <FiLock /> Recomendaciones de Seguridad
                </h4>
                <ul>
                  <li>Utilice autenticación de dos factores para mayor seguridad</li>
                  <li>Revise regularmente los logs de acceso</li>
                  <li>Actualice las contraseñas periódicamente</li>
                  <li>Limite el acceso según los roles de usuario</li>
                </ul>
              </div>
            </div>
          )}

          {/* Configuración Avanzada */}
          {activeTab === 'avanzada' && (
            <div className="tab-content">
              <div className="section-header">
                <h3>
                  <FiDatabase /> Configuración Avanzada
                </h3>
                <div className="flex-row gap-10">
                  <button 
                    className="btn-text text-danger"
                    onClick={toggleModoMantenimiento}
                  >
                    {configuraciones.avanzada?.modoMantenimiento ? 'Desactivar' : 'Activar'} Mantenimiento
                  </button>
                  <button 
                    className="btn-primary"
                    onClick={() => guardarConfiguracion('avanzada')}
                    disabled={saving}
                  >
                    <FiSave /> {saving ? 'Guardando...' : 'Guardar'}
                  </button>
                </div>
              </div>
              
              <div className="form-grid">
                <div className="form-group">
                  <label>Backup automático</label>
                  <select
                    value={configuraciones.avanzada?.backupAutomatico ? 'si' : 'no'}
                    onChange={(e) => handleInputChange('avanzada', 'backupAutomatico', e.target.value === 'si')}
                    className="select-field"
                  >
                    <option value="si">Sí</option>
                    <option value="no">No</option>
                  </select>
                </div>
                
                <div className="form-group">
                  <label>Frecuencia de backup</label>
                  <select
                    value={configuraciones.avanzada?.frecuenciaBackup || 'diario'}
                    onChange={(e) => handleInputChange('avanzada', 'frecuenciaBackup', e.target.value)}
                    className="select-field"
                  >
                    <option value="diario">Diario</option>
                    <option value="semanal">Semanal</option>
                    <option value="mensual">Mensual</option>
                  </select>
                </div>
                
                <div className="form-group">
                  <label>Retención de backups (días)</label>
                  <input
                    type="number"
                    value={configuraciones.avanzada?.retencionBackups || 30}
                    onChange={(e) => handleInputChange('avanzada', 'retencionBackups', parseInt(e.target.value))}
                    className="input-field"
                    min="7"
                    max="365"
                  />
                </div>
                
                <div className="form-group">
                  <label>Versión de API</label>
                  <input
                    type="text"
                    value={configuraciones.avanzada?.versionAPI || '1.0.0'}
                    onChange={(e) => handleInputChange('avanzada', 'versionAPI', e.target.value)}
                    className="input-field"
                    readOnly
                  />
                </div>
                
                <div className="form-group">
                  <label className="flex-row align-center gap-10">
                    <input
                      type="checkbox"
                      checked={configuraciones.avanzada?.logsDetallados || true}
                      onChange={(e) => handleInputChange('avanzada', 'logsDetallados', e.target.checked)}
                    />
                    <span>Logs detallados</span>
                  </label>
                </div>
                
                <div className="form-group">
                  <label className="flex-row align-center gap-10">
                    <input
                      type="checkbox"
                      checked={configuraciones.avanzada?.debugMode || false}
                      onChange={(e) => handleInputChange('avanzada', 'debugMode', e.target.checked)}
                    />
                    <span>Modo debug</span>
                  </label>
                </div>
                
                <div className="form-group" style={{ gridColumn: 'span 2' }}>
                  <label className="flex-row align-center gap-10">
                    <input
                      type="checkbox"
                      checked={configuraciones.avanzada?.modoMantenimiento || false}
                      onChange={() => {}}
                      disabled
                    />
                    <span style={{ color: configuraciones.avanzada?.modoMantenimiento ? 'var(--yy)' : 'inherit' }}>
                      Modo mantenimiento {configuraciones.avanzada?.modoMantenimiento ? 'ACTIVADO' : 'desactivado'}
                    </span>
                  </label>
                </div>
              </div>
              
              <div className="advanced-actions mt-30">
                <h4>Acciones Avanzadas</h4>
                <div className="grid-2 gap-15 mt-15">
                  <button className="btn-secondary">
                    <FiDatabase /> Limpiar cache
                  </button>
                  <button className="btn-warning">
                    <FiDownload /> Descargar logs
                  </button>
                  <button className="btn-danger">
                    Vaciar logs antiguos
                  </button>
                  <button className="btn-primary">
                    <FiGlobe /> Revisar updates
                  </button>
                </div>
              </div>
              
              <div className="security-info mt-30">
                <h4>⚠️ Advertencias</h4>
                <ul>
                  <li>El modo debug solo debe activarse para desarrollo</li>
                  <li>El modo mantenimiento desconectará a todos los usuarios</li>
                  <li>Los cambios en configuración avanzada pueden afectar el rendimiento</li>
                  <li>Realice backup antes de realizar cambios importantes</li>
                </ul>
              </div>
            </div>
          )}
        </div>
      </div>

      {/* Información del Sistema */}
      <div className="card mt-30">
        <div className="section-header">
          <h3>Información del Sistema</h3>
        </div>
        
        <div className="grid-4">
          <div>
            <div className="text-small">Versión</div>
            <div className="font-bold">1.0.0</div>
          </div>
          <div>
            <div className="text-small">Última actualización</div>
            <div className="font-bold">2024-01-10</div>
          </div>
          <div>
            <div className="text-small">Base de datos</div>
            <div className="font-bold">MySQL 8.0</div>
          </div>
          <div>
            <div className="text-small">Estado</div>
            <div className={`font-bold ${configuraciones.avanzada?.modoMantenimiento ? 'text-warning' : 'text-success'}`}>
              {configuraciones.avanzada?.modoMantenimiento ? 'MANTENIMIENTO' : 'OPERATIVO'}
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

export default CoordinadorConfiguracion;

/src\pages\coordinador\DashboardPage.js:
--------------------------------------------------------------------------------
import React, { useState, useEffect } from 'react';
import { 
  FiUsers, FiCalendar, FiTrendingUp, FiBarChart2,
  FiUserCheck, FiClock, FiAlertCircle, FiRefreshCw,
  FiDollarSign, FiActivity
} from 'react-icons/fi';
import './coordinador.css';
import notifications from '../../utils/notifications';
import confirmations from '../../utils/confirmations';

const CoordinadorDashboard = () => {
  const [estadisticas, setEstadisticas] = useState({
    becariosActivos: 0,
    psicologosActivos: 0,
    pacientesActivos: 0,
    citasHoy: 0,
    citasCompletadasHoy: 0,
    altasMesActual: 0
  });
  const [actividadReciente, setActividadReciente] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchDashboardData();
  }, []);

  const fetchDashboardData = async () => {
    try {
      // Simulación de datos
      setTimeout(() => {
        setEstadisticas({
          becariosActivos: 4,
          psicologosActivos: 2,
          pacientesActivos: 25,
          citasHoy: 12,
          citasCompletadasHoy: 6,
          altasMesActual: 3
        });
        
        setActividadReciente([
          { id: 1, tipo: 'nueva_cita', descripcion: 'Nueva cita agendada para Carlos Gómez', fecha: '2024-01-10 09:30:00', usuario: 'Juan Pérez' },
          { id: 2, tipo: 'alta_paciente', descripcion: 'Ana Rodríguez dada de alta terapéutica', fecha: '2024-01-10 08:15:00', usuario: 'Lic. Luis Fernández' },
          { id: 3, tipo: 'nuevo_usuario', descripcion: 'Nuevo becario registrado: Pedro Hernández', fecha: '2024-01-09 16:45:00', usuario: 'Coordinador' },
          { id: 4, tipo: 'asignacion', descripcion: 'Paciente asignado a becario Sofía Ramírez', fecha: '2024-01-09 14:20:00', usuario: 'Coordinador' }
        ]);
        
        setLoading(false);
      }, 1000);
    } catch (error) {
      console.error('Error cargando dashboard:', error);
      setLoading(false);
    }
  };

  const statCards = [
    {
      title: 'Becarios Activos',
      value: estadisticas.becariosActivos,
      icon: <FiUserCheck />,
      color: 'var(--grnb)',
      change: 'En formación'
    },
    {
      title: 'Psicólogos Activos',
      value: estadisticas.psicologosActivos,
      icon: <FiUsers />,
      color: 'var(--blu)',
      change: 'En supervisión'
    },
    {
      title: 'Pacientes Activos',
      value: estadisticas.pacientesActivos,
      icon: <FiActivity />,
      color: 'var(--yy)',
      change: 'En tratamiento'
    },
    {
      title: 'Citas Hoy',
      value: estadisticas.citasHoy,
      icon: <FiCalendar />,
      color: 'var(--grnd)',
      change: `${estadisticas.citasCompletadasHoy} completadas`
    },
    {
      title: 'Altas Este Mes',
      value: estadisticas.altasMesActual,
      icon: <FiTrendingUp />,
      color: 'var(--grnl)',
      change: 'Pacientes finalizados'
    },
    {
      title: 'Sesiones Promedio',
      value: '8.5',
      icon: <FiBarChart2 />,
      color: 'var(--rr)',
      change: 'Por paciente/mes'
    },
    {
      title: 'Ingresos Estimados',
      value: '$24,500',
      icon: <FiDollarSign />,
      color: 'var(--grnb)',
      change: 'Este mes'
    },
    {
      title: 'Alertas Pendientes',
      value: '3',
      icon: <FiAlertCircle />,
      color: 'var(--rl)',
      change: 'Requieren atención'
    }
  ];

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading-spinner"></div>
        <div className="loading-text">Cargando panel de coordinación...</div>
      </div>
    );
  }

  return (
    <div className="dashboard-page">
      <div className="page-header">
        <div>
          <h1>Panel de Coordinación</h1>
          <p>Vista general del sistema y gestión administrativa</p>
        </div>
        <button className="btn-secondary" onClick={fetchDashboardData}>
          <FiRefreshCw /> Actualizar
        </button>
      </div>

      {/* Stats Grid */}
      <div className="stats-grid">
        {statCards.map((stat, index) => (
          <div key={index} className="stat-card">
            <div className="stat-header">
              <div className="stat-icon" style={{ color: stat.color }}>
                {stat.icon}
              </div>
              <h3>{stat.title}</h3>
            </div>
            <div className="stat-value">{stat.value}</div>
            <div className="stat-change">{stat.change}</div>
          </div>
        ))}
      </div>

      {/* Main Content Grid */}
      <div className="dashboard-content-grid">
        {/* Actividad Reciente */}
        <div className="dashboard-section">
          <div className="section-header">
            <h3>Actividad Reciente del Sistema</h3>
            <button className="btn-text">Ver todo</button>
          </div>
          
          <div className="timeline">
            {actividadReciente.map((actividad) => (
              <div key={actividad.id} className="timeline-item">
                <div className="timeline-content">
                  <div className="flex-row justify-between">
                    <strong>{actividad.descripcion}</strong>
                    <span className="text-small">
                      {new Date(actividad.fecha).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}
                    </span>
                  </div>
                  <div className="text-small mt-5">
                    Por: {actividad.usuario} • {new Date(actividad.fecha).toLocaleDateString()}
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>

        {/* Distribución de Citas */}
        <div className="dashboard-section">
          <div className="section-header">
            <h3>Distribución de Citas por Psicólogo</h3>
          </div>
          
          <div className="activity-chart">
            <div className="chart-placeholder">
              <div className="chart-bars">
                {[
                  { nombre: 'Luis Fernández', citas: 8, color: 'var(--grnb)' },
                  { nombre: 'Laura Gutiérrez', citas: 4, color: 'var(--blu)' }
                ].map((psicologo, index) => (
                  <div key={index} className="chart-bar" style={{ flex: psicologo.citas }}>
                    <div 
                      className="bar-fill"
                      style={{ 
                        height: `${(psicologo.citas / 12) * 100}%`,
                        background: psicologo.color
                      }}
                    ></div>
                    <div className="bar-label">{psicologo.nombre.split(' ')[1]}</div>
                    <div className="bar-value">{psicologo.citas} citas</div>
                  </div>
                ))}
              </div>
            </div>
          </div>
        </div>

        {/* Becarios por Carga */}
        <div className="dashboard-section">
          <div className="section-header">
            <h3>Carga de Pacientes por Becario</h3>
            <button className="btn-text">Reasignar</button>
          </div>
          
          <div className="pacientes-list">
            {[
              { id: 1, nombre: 'Juan Pérez', pacientes: 3, capacidad: 5, porcentaje: 60 },
              { id: 2, nombre: 'Sofía Ramírez', pacientes: 2, capacidad: 4, porcentaje: 50 },
              { id: 3, nombre: 'Pedro Hernández', pacientes: 1, capacidad: 3, porcentaje: 33 },
              { id: 4, nombre: 'Nuevo Becario', pacientes: 0, capacidad: 3, porcentaje: 0 }
            ].map((becario) => (
              <div key={becario.id} className="paciente-item">
                <div className="paciente-info">
                  <div className="paciente-nombre">{becario.nombre}</div>
                  <div className="paciente-fecha">
                    {becario.pacientes} / {becario.capacidad} pacientes
                  </div>
                </div>
                <div className="paciente-progreso">
                  <div className="progress-container">
                    <div 
                      className="progress-bar"
                      style={{ width: `${becario.porcentaje}%` }}
                    ></div>
                  </div>
                  <span className="progreso-text">{becario.porcentaje}%</span>
                </div>
              </div>
            ))}
          </div>
        </div>

        {/* Quick Actions */}
        <div className="dashboard-section">
          <div className="section-header">
            <h3>Acciones de Coordinación</h3>
          </div>
          
          <div className="quick-actions">
            <button className="btn-primary w-100 mb-10">
              Gestionar Usuarios
            </button>
            <button className="btn-secondary w-100 mb-10">
              Asignar Pacientes
            </button>
            <button className="btn-warning w-100 mb-10">
              Generar Reporte Mensual
            </button>
            <button className="btn-danger w-100">
              Revisar Altas
            </button>
            <button className="btn-text w-100 mt-10">
              Ver Agenda Global
            </button>
          </div>
        </div>
      </div>
    </div>
  );
};

export default CoordinadorDashboard;

/src\pages\coordinador\PacientesPage.js:
--------------------------------------------------------------------------------
import React, { useState, useEffect } from 'react';
import { FiSearch, FiUserPlus, FiEdit2, FiTrash2, FiFilter, FiUser, FiCalendar, FiPhone, FiMail, FiFileText, FiXCircle, FiCheckCircle } from 'react-icons/fi';
import './coordinador.css';
import notifications from '../../utils/notifications';
import confirmations from '../../utils/confirmations';

const CoordinadorPacientes = () => {
  const [pacientes, setPacientes] = useState([]);
  const [loading, setLoading] = useState(true);
  const [searchTerm, setSearchTerm] = useState('');
  const [filterEstado, setFilterEstado] = useState('');
  const [includeInactivos, setIncludeInactivos] = useState(true);
  const [showModal, setShowModal] = useState(false);
  const [modalType, setModalType] = useState('nuevo');
  const [formData, setFormData] = useState({
    nombre: '',
    apellido: '',
    fecha_nacimiento: '',
    genero: '',
    telefono: '',
    email: '',
    direccion: '',
    es_estudiante: false,
    matricula: '',
    institucion_educativa: '',
    contacto_emergencia_nombre: '',
    contacto_emergencia_telefono: '',
    motivo_consulta: '',
    antecedentes: '',
    activo: true,
    estado: 'activo'
  });

  useEffect(() => {
    fetchPacientes();
  }, []);

  const fetchPacientes = async () => {
    try {
      setLoading(true);
      const token = localStorage.getItem('token');
      const res = await fetch('http://localhost:3000/api/pacientes', {
        headers: {
          'Content-Type': 'application/json',
          'Authorization': token ? `Bearer ${token}` : ''
        }
      });

      if (!res.ok) {
        console.error('Error fetching pacientes:', res.status);
        setLoading(false);
        return;
      }

      const data = await res.json();
      setPacientes(data);
    } catch (error) {
      console.error('Error al obtener pacientes:', error);
    } finally {
      setLoading(false);
    }
  };

  const filteredPacientes = pacientes.filter(paciente => {
    const matchesSearch = 
      `${paciente.nombre} ${paciente.apellido}`.toLowerCase().includes(searchTerm.toLowerCase()) ||
      (paciente.email || '').toLowerCase().includes(searchTerm.toLowerCase()) ||
      (paciente.motivo_consulta || paciente.notas || '').toLowerCase().includes(searchTerm.toLowerCase());
    
    const matchesEstado = !filterEstado || paciente.estado === filterEstado;
    const matchesActivo = includeInactivos ? true : paciente.activo;
    
    return matchesSearch && matchesEstado && matchesActivo;
  });

  const handleInputChange = (e) => {
    const { name, value, type, checked } = e.target;
    setFormData({
      ...formData,
      [name]: type === 'checkbox' ? checked : value
    });
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    
    if (modalType === 'nuevo') {
      try {
        const token = localStorage.getItem('token');
        const res = await fetch('http://localhost:3000/api/pacientes', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': token ? `Bearer ${token}` : ''
          },
          body: JSON.stringify(formData)
        });

        if (!res.ok) {
          const err = await res.json().catch(() => ({}));
          notifications.error(err.message || 'Error creando paciente');
          return;
        }

        const created = await res.json();
        setPacientes(prev => [...prev, created]);
        notifications.success('Paciente creado exitosamente');
      } catch (error) {
        console.error('Error creando paciente:', error);
        notifications.error('Error creando paciente');
      }
    } else {
      // Editar paciente: enviar al backend
      try {
        const token = localStorage.getItem('token');
        const res = await fetch(`http://localhost:3000/api/pacientes/${formData.id}`, {
          method: 'PUT',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': token ? `Bearer ${token}` : ''
          },
          body: JSON.stringify(formData)
        });

        if (!res.ok) {
          const err = await res.json().catch(() => ({}));
          notifications.error(err.message || 'Error actualizando paciente');
          return;
        }

        const updated = await res.json();
        setPacientes(prev => prev.map(p => p.id === updated.id ? updated : p));
        notifications.success('Paciente actualizado exitosamente');
      } catch (error) {
        console.error('Error actualizando paciente:', error);
        notifications.error('Error actualizando paciente');
      }
    }
    
    setShowModal(false);
    resetForm();
  };

  const editarPaciente = (paciente) => {
    setFormData({ ...paciente });
    setModalType('editar');
    setShowModal(true);
  };

  const toggleActivoPaciente = async (id) => {
    try {
      const paciente = pacientes.find(p => p.id === id);
      if (!paciente) return;
      const token = localStorage.getItem('token');
      const res = await fetch(`http://localhost:3000/api/pacientes/${id}`, {
        method: 'PUT',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': token ? `Bearer ${token}` : ''
        },
        body: JSON.stringify({ activo: !paciente.activo })
      });

      if (!res.ok) {
        const err = await res.json().catch(() => ({}));
        notifications.error(err.message || 'Error cambiando estado');
        return;
      }

      const updated = await res.json();
      setPacientes(prev => prev.map(p => p.id === id ? updated : p));
    } catch (error) {
      console.error('Error toggling paciente activo:', error);
      notifications.error('Error cambiando estado del paciente');
    }
  };

  const deletePaciente = async (id) => {
    const confirmado = await confirmations.danger('¿Seguro que desea eliminar (inactivar) este paciente?');
    if (!confirmado) return;
    
    try {
      const token = localStorage.getItem('token');
      const res = await fetch(`http://localhost:3000/api/pacientes/${id}`, {
        method: 'DELETE',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': token ? `Bearer ${token}` : ''
        }
      });

      if (!res.ok) {
        const err = await res.json().catch(() => ({}));
        notifications.error(err.message || 'Error eliminando paciente');
        return;
      }

      setPacientes(prev => prev.filter(p => p.id !== id));
      notifications.success('Paciente eliminado (inactivado) correctamente');
    } catch (error) {
      console.error('Error eliminando paciente:', error);
      notifications.error('Error eliminando paciente');
    }
  };

  const getEstadoLabel = (estado) => {
    switch (estado) {
      case 'activo':
        return { text: 'Activo', color: 'success' };
      case 'alta_terapeutica':
        return { text: 'Alta Terapéutica', color: 'primary' };
      case 'abandono':
        return { text: 'Abandono', color: 'danger' };
      case 'traslado':
        return { text: 'Traslado', color: 'warning' };
      default:
        return { text: estado, color: 'info' };
    }
  };

  const calcularEdad = (fechaNacimiento) => {
    if (!fechaNacimiento) return 'N/A';
    const hoy = new Date();
    const nacimiento = new Date(fechaNacimiento);
    let edad = hoy.getFullYear() - nacimiento.getFullYear();
    const mes = hoy.getMonth() - nacimiento.getMonth();
    if (mes < 0 || (mes === 0 && hoy.getDate() < nacimiento.getDate())) {
      edad--;
    }
    return edad;
  };

  const resetForm = () => {
    setFormData({
      nombre: '',
      apellido: '',
      fecha_nacimiento: '',
      genero: '',
      telefono: '',
      email: '',
      direccion: '',
      es_estudiante: false,
      matricula: '',
      institucion_educativa: '',
      contacto_emergencia_nombre: '',
      contacto_emergencia_telefono: '',
      motivo_consulta: '',
      antecedentes: '',
      activo: true,
      estado: 'activo'
    });
  };

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading-spinner"></div>
        <div className="loading-text">Cargando pacientes...</div>
      </div>
    );
  }

  return (
    <div className="configuracion-page">
      <div className="page-header">
        <div>
          <h1>Gestión de Pacientes</h1>
          <p>Administración de pacientes del sistema</p>
        </div>
        <button 
          className="btn-primary"
          onClick={() => {
            resetForm();
            setModalType('nuevo');
            setShowModal(true);
          }}
        >
          <FiUserPlus /> Nuevo Paciente
        </button>
      </div>

      {/* Filtros y Búsqueda */}
      <div className="filters-container mb-20">
        <div className="search-box">
          <FiSearch />
          <input
            type="text"
            className="search-input"
            placeholder="Buscar paciente por nombre, email o motivo de consulta..."
            value={searchTerm}
            onChange={(e) => setSearchTerm(e.target.value)}
          />
        </div>
        
        <div className="filter-buttons">
          <select 
            value={filterEstado} 
            onChange={(e) => setFilterEstado(e.target.value)}
            className="select-field"
            style={{ width: '200px' }}
          >
            <option value="">Todos los estados</option>
            <option value="activo">Activos</option>
            <option value="alta_terapeutica">Altas Terapéuticas</option>
            <option value="abandono">Abandonos</option>
            <option value="traslado">Traslados</option>
          </select>

          <label className="ml-10 flex-row align-center">
            <input
              type="checkbox"
              checked={includeInactivos}
              onChange={(e) => setIncludeInactivos(e.target.checked)}
            />
            <span className="ml-5">Incluir inactivos</span>
          </label>

          <button
            className="btn-secondary ml-10"
            onClick={() => { setFilterEstado(''); setSearchTerm(''); setIncludeInactivos(true); fetchPacientes(); }}
            title="Mostrar todos"
          >
            Mostrar todos
          </button>

          <button
            className="btn-secondary ml-10"
            onClick={() => fetchPacientes()}
            title="Refrescar"
          >
            Actualizar
          </button>
        </div>
      </div>

      {/* Tabla de Pacientes */}
      <div className="table-container">
        <table className="data-table">
          <thead>
            <tr>
              <th>Paciente</th>
              <th>Contacto</th>
              <th>Edad</th>
              <th>Motivo</th>
              <th>Asignaciones</th>
              <th>Sesiones</th>
              <th>Estado</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            {filteredPacientes.map((paciente) => {
              const estadoInfo = getEstadoLabel(paciente.estado);
              const edad = calcularEdad(paciente.fecha_nacimiento);
              
              return (
                <tr key={paciente.id}>
                  <td>
                    <div className="flex-row align-center gap-10">
                      <div className="avatar">
                        {paciente.nombre[0]}{paciente.apellido[0]}
                      </div>
                      <div>
                        <div className="font-bold">{paciente.nombre} {paciente.apellido}</div>
                        <div className="text-small">
                          {paciente.es_estudiante ? 'Estudiante' : 'No estudiante'}
                        </div>
                      </div>
                    </div>
                  </td>
                  <td>
                    <div>{paciente.email}</div>
                    <div className="text-small">{paciente.telefono}</div>
                  </td>
                  <td>{edad} años</td>
                  <td>
                    <div className="diagnostico-tag">
                      {paciente.motivo_consulta}
                    </div>
                  </td>
                  <td>
                    <div className="text-small">{paciente.psicologo_asignado}</div>
                    <div className="text-small">
                      {paciente.becario_asignado || 'Sin becario'}
                    </div>
                  </td>
                  <td>
                    <div className="font-bold">{paciente.sesiones_completadas}</div>
                    <div className="text-small">sesiones</div>
                  </td>
                  <td>
                    <span className={`badge badge-${estadoInfo.color}`}>
                      {estadoInfo.text}
                    </span>
                  </td>
                  <td>
                    <div className="flex-row gap-5">
                      <button 
                        className="btn-text"
                        onClick={() => editarPaciente(paciente)}
                        title="Editar"
                      >
                        <FiEdit2 />
                      </button>

                      <button 
                        className={`btn-text ${paciente.activo ? 'text-danger' : 'text-success'}`}
                        onClick={() => toggleActivoPaciente(paciente.id)}
                        title={paciente.activo ? 'Desactivar' : 'Activar'}
                      >
                        {paciente.activo ? <FiXCircle /> : <FiCheckCircle />}
                      </button>

                      <button
                        className="btn-text text-danger"
                        onClick={() => deletePaciente(paciente.id)}
                        title="Eliminar"
                      >
                        <FiTrash2 />
                      </button>

                      <button 
                        className="btn-text"
                        title="Ver expediente"
                      >
                        <FiFileText />
                      </button>
                    </div>
                  </td>
                </tr>
              );
            })}
          </tbody>
        </table>
      </div>

      {/* Resumen */}
      <div className="grid-3 mt-20">
        <div className="card">
          <h4>Resumen de Pacientes</h4>
          <div className="mt-10">
            <p>Total: {pacientes.length}</p>
            <p>Activos: {pacientes.filter(p => p.activo).length}</p>
            <p>Estudiantes: {pacientes.filter(p => p.es_estudiante).length}</p>
            <p>Con becario: {pacientes.filter(p => p.becario_asignado).length}</p>
          </div>
        </div>
        
        <div className="card">
          <h4>Estadísticas</h4>
          <div className="mt-10">
            <p>Sesiones totales: {pacientes.reduce((sum, p) => sum + (p.sesiones_completadas || 0), 0)}</p>
            <p>Promedio por paciente: {
              Math.round(pacientes.reduce((sum, p) => sum + (p.sesiones_completadas || 0), 0) / Math.max(pacientes.length, 1))
            }</p>
            <p>Altas este mes: {pacientes.filter(p => p.estado === 'alta_terapeutica').length}</p>
          </div>
        </div>
        
        <div className="card">
          <h4>Acciones</h4>
          <div className="mt-10 flex-col gap-10">
            <button className="btn-primary w-100">
              Asignar Pacientes
            </button>
            <button className="btn-secondary w-100">
              Exportar Listado
            </button>
            <button className="btn-warning w-100">
              Revisar Altas
            </button>
          </div>
        </div>
      </div>

      {/* Modal de Paciente */}
      {showModal && (
        <div className="modal-overlay">
          <div className="modal-container modal-large">
            <div className="modal-header">
              <h3>{modalType === 'nuevo' ? 'Nuevo Paciente' : 'Editar Paciente'}</h3>
              <button className="modal-close" onClick={() => setShowModal(false)}>×</button>
            </div>
            
            <form onSubmit={handleSubmit}>
              <div className="form-grid">
                <div className="form-group">
                  <label>Nombre</label>
                  <input
                    type="text"
                    name="nombre"
                    value={formData.nombre}
                    onChange={handleInputChange}
                    className="input-field"
                    required
                  />
                </div>
                
                <div className="form-group">
                  <label>Apellido</label>
                  <input
                    type="text"
                    name="apellido"
                    value={formData.apellido}
                    onChange={handleInputChange}
                    className="input-field"
                    required
                  />
                </div>
                
                <div className="form-group">
                  <label>Fecha de nacimiento</label>
                  <input
                    type="date"
                    name="fecha_nacimiento"
                    value={formData.fecha_nacimiento}
                    onChange={handleInputChange}
                    className="input-field"
                  />
                </div>
                
                <div className="form-group">
                  <label>Género</label>
                  <select
                    name="genero"
                    value={formData.genero}
                    onChange={handleInputChange}
                    className="select-field"
                  >
                    <option value="">Seleccionar...</option>
                    <option value="masculino">Masculino</option>
                    <option value="femenino">Femenino</option>
                    <option value="otro">Otro</option>
                    <option value="prefiero_no_decir">Prefiero no decir</option>
                  </select>
                </div>
                
                <div className="form-group">
                  <label>Teléfono</label>
                  <input
                    type="tel"
                    name="telefono"
                    value={formData.telefono}
                    onChange={handleInputChange}
                    className="input-field"
                  />
                </div>
                
                <div className="form-group">
                  <label>Email</label>
                  <input
                    type="email"
                    name="email"
                    value={formData.email}
                    onChange={handleInputChange}
                    className="input-field"
                  />
                </div>
                
                <div className="form-group" style={{ gridColumn: 'span 2' }}>
                  <label>Dirección</label>
                  <input
                    type="text"
                    name="direccion"
                    value={formData.direccion}
                    onChange={handleInputChange}
                    className="input-field"
                  />
                </div>
                
                <div className="form-group">
                  <label className="flex-row align-center gap-10">
                    <input
                      type="checkbox"
                      name="es_estudiante"
                      checked={formData.es_estudiante}
                      onChange={handleInputChange}
                    />
                    <span>Es estudiante</span>
                  </label>
                </div>
                
                {formData.es_estudiante && (
                  <>
                    <div className="form-group">
                      <label>Matrícula</label>
                      <input
                        type="text"
                        name="matricula"
                        value={formData.matricula}
                        onChange={handleInputChange}
                        className="input-field"
                      />
                    </div>
                    
                    <div className="form-group">
                      <label>Institución educativa</label>
                      <input
                        type="text"
                        name="institucion_educativa"
                        value={formData.institucion_educativa}
                        onChange={handleInputChange}
                        className="input-field"
                      />
                    </div>
                  </>
                )}
                
                <div className="form-group">
                  <label>Contacto de emergencia</label>
                  <input
                    type="text"
                    name="contacto_emergencia_nombre"
                    value={formData.contacto_emergencia_nombre}
                    onChange={handleInputChange}
                    className="input-field"
                    placeholder="Nombre"
                  />
                </div>
                
                <div className="form-group">
                  <label>Teléfono emergencia</label>
                  <input
                    type="tel"
                    name="contacto_emergencia_telefono"
                    value={formData.contacto_emergencia_telefono}
                    onChange={handleInputChange}
                    className="input-field"
                    placeholder="Teléfono"
                  />
                </div>
                
                <div className="form-group" style={{ gridColumn: 'span 2' }}>
                  <label>Motivo de consulta</label>
                  <textarea
                    name="motivo_consulta"
                    value={formData.motivo_consulta}
                    onChange={handleInputChange}
                    className="textarea-field"
                    rows="3"
                    required
                  />
                </div>
                
                <div className="form-group" style={{ gridColumn: 'span 2' }}>
                  <label>Antecedentes</label>
                  <textarea
                    name="antecedentes"
                    value={formData.antecedentes}
                    onChange={handleInputChange}
                    className="textarea-field"
                    rows="3"
                  />
                </div>
                
                <div className="form-group">
                  <label>Estado</label>
                  <select
                    name="estado"
                    value={formData.estado}
                    onChange={handleInputChange}
                    className="select-field"
                  >
                    <option value="activo">Activo</option>
                    <option value="alta_terapeutica">Alta Terapéutica</option>
                    <option value="abandono">Abandono</option>
                    <option value="traslado">Traslado</option>
                  </select>
                </div>
                
                <div className="form-group">
                  <label className="flex-row align-center gap-10">
                    <input
                      type="checkbox"
                      name="activo"
                      checked={formData.activo}
                      onChange={handleInputChange}
                    />
                    <span>Paciente activo</span>
                  </label>
                </div>
              </div>
              
              <div className="modal-footer">
                <button type="submit" className="btn-primary">
                  {modalType === 'nuevo' ? 'Crear Paciente' : 'Guardar Cambios'}
                </button>
                <button 
                  type="button" 
                  className="btn-danger"
                  onClick={() => setShowModal(false)}
                >
                  Cancelar
                </button>
              </div>
            </form>
          </div>
        </div>
      )}
    </div>
  );
};

export default CoordinadorPacientes;

/src\pages\coordinador\ReportesPage.js:
--------------------------------------------------------------------------------
import React, { useState, useEffect } from 'react';
import { 
  FiBarChart2, FiDownload, FiCalendar, FiUsers, 
  FiTrendingUp, FiFilter, FiRefreshCw, FiPrinter
} from 'react-icons/fi';
import './coordinador.css';
import notifications from '../../utils/notifications';
import confirmations from '../../utils/confirmations';


const CoordinadorReportes = () => {
  const [reportes, setReportes] = useState([]);
  const [loading, setLoading] = useState(true);
  const [tipoReporte, setTipoReporte] = useState('mensual');
  const [fechaInicio, setFechaInicio] = useState('');
  const [fechaFin, setFechaFin] = useState('');
  const [estadisticas, setEstadisticas] = useState({});
  const [reporteGenerado, setReporteGenerado] = useState(null);

  useEffect(() => {
    fetchReportes();
    generarEstadisticas();
  }, []);

  const fetchReportes = async () => {
    try {
      setLoading(true);
      
      // Simulación de datos
      setTimeout(() => {
        setReportes([
          { id: 1, nombre: 'Reporte Mensual Enero 2024', tipo: 'mensual', fecha: '2024-01-31', generado_por: 'Sistema', descargas: 12 },
          { id: 2, nombre: 'Reporte de Altas Diciembre 2023', tipo: 'especial', fecha: '2023-12-31', generado_por: 'Coordinador', descargas: 8 },
          { id: 3, nombre: 'Reporte de Actividad Becarios', tipo: 'becarios', fecha: '2024-01-15', generado_por: 'Sistema', descargas: 15 },
          { id: 4, nombre: 'Reporte Financiero 2023', tipo: 'financiero', fecha: '2024-01-10', generado_por: 'Coordinador', descargas: 5 },
          { id: 5, nombre: 'Reporte de Eficiencia Terapéutica', tipo: 'clinico', fecha: '2024-01-20', generado_por: 'Sistema', descargas: 7 }
        ]);
        setLoading(false);
      }, 1000);
    } catch (error) {
      console.error('Error cargando reportes:', error);
      setLoading(false);
    }
  };

  const generarEstadisticas = () => {
    // Simulación de estadísticas
    setEstadisticas({
      pacientesActivos: 25,
      pacientesNuevosMes: 8,
      citasCompletadas: 120,
      promedioSesiones: 8.5,
      tasaRetencion: 85,
      satisfaccionPacientes: 4.2
    });
  };

  const generarReporte = () => {
    // Simulación de generación de reporte
    setLoading(true);
    setTimeout(() => {
      const nuevoReporte = {
        id: reportes.length + 1,
        nombre: `Reporte ${tipoReporte} ${new Date().toLocaleDateString()}`,
        tipo: tipoReporte,
        fecha: new Date().toISOString().split('T')[0],
        generado_por: 'Coordinador',
        descargas: 0,
        contenido: {
          resumen: `Reporte generado el ${new Date().toLocaleDateString()}`,
          estadisticas: estadisticas,
          datos: 'Aquí irían los datos del reporte generado...'
        }
      };
      
      setReportes([nuevoReporte, ...reportes]);
      setReporteGenerado(nuevoReporte);
      setLoading(false);
      notifications.success('Reporte generado exitosamente');
    }, 1500);
  };

  const descargarReporte = (reporteId) => {
    const reporte = reportes.find(r => r.id === reporteId);
    if (reporte) {
      notifications.success(`Descargando reporte: ${reporte.nombre}`);
      // En una implementación real, aquí se generaría y descargaría el archivo
    }
  };

  const imprimirReporte = (reporteId) => {
    const reporte = reportes.find(r => r.id === reporteId);
    if (reporte) {
      notifications.success(`Imprimiendo reporte: ${reporte.nombre}`);
      // En una implementación real, aquí se abriría el diálogo de impresión
    }
  };

  const getColorByTipo = (tipo) => {
    switch (tipo) {
      case 'mensual': return 'var(--grnb)';
      case 'especial': return 'var(--blu)';
      case 'becarios': return 'var(--yy)';
      case 'financiero': return 'var(--grnd)';
      case 'clinico': return 'var(--rr)';
      default: return 'var(--gray)';
    }
  };

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading-spinner"></div>
        <div className="loading-text">Cargando reportes...</div>
      </div>
    );
  }

  return (
    <div className="configuracion-page">
      <div className="page-header">
        <div>
          <h1>Reportes y Estadísticas</h1>
          <p>Generación y gestión de reportes del sistema</p>
        </div>
        <button className="btn-secondary" onClick={fetchReportes}>
          <FiRefreshCw /> Actualizar
        </button>
      </div>

      {/* Panel de Generación de Reportes */}
      <div className="card mb-30">
        <div className="section-header">
          <h3>
            <FiBarChart2 /> Generar Nuevo Reporte
          </h3>
          <button className="btn-primary" onClick={generarReporte}>
            <FiBarChart2 /> Generar Reporte
          </button>
        </div>
        
        <div className="form-grid">
          <div className="form-group">
            <label>Tipo de Reporte</label>
            <select 
              value={tipoReporte} 
              onChange={(e) => setTipoReporte(e.target.value)}
              className="select-field"
            >
              <option value="mensual">Reporte Mensual</option>
              <option value="trimestral">Reporte Trimestral</option>
              <option value="anual">Reporte Anual</option>
              <option value="becarios">Reporte de Becarios</option>
              <option value="clinico">Reporte Clínico</option>
              <option value="financiero">Reporte Financiero</option>
              <option value="especial">Reporte Especial</option>
            </select>
          </div>
          
          <div className="form-group">
            <label>Fecha Inicio</label>
            <input
              type="date"
              value={fechaInicio}
              onChange={(e) => setFechaInicio(e.target.value)}
              className="input-field"
            />
          </div>
          
          <div className="form-group">
            <label>Fecha Fin</label>
            <input
              type="date"
              value={fechaFin}
              onChange={(e) => setFechaFin(e.target.value)}
              className="input-field"
            />
          </div>
          
          <div className="form-group">
            <label>Formato</label>
            <select className="select-field">
              <option value="pdf">PDF</option>
              <option value="excel">Excel</option>
              <option value="html">HTML</option>
            </select>
          </div>
          
          <div className="form-group" style={{ gridColumn: 'span 2' }}>
            <label>Parámetros Adicionales</label>
            <div className="grid-2 gap-10">
              <label className="flex-row align-center gap-10">
                <input type="checkbox" defaultChecked />
                <span>Incluir gráficos</span>
              </label>
              <label className="flex-row align-center gap-10">
                <input type="checkbox" defaultChecked />
                <span>Incluir datos detallados</span>
              </label>
              <label className="flex-row align-center gap-10">
                <input type="checkbox" />
                <span>Incluir datos financieros</span>
              </label>
              <label className="flex-row align-center gap-10">
                <input type="checkbox" defaultChecked />
                <span>Incluir comparativas</span>
              </label>
            </div>
          </div>
        </div>
      </div>

      {/* Estadísticas Rápidas */}
      <div className="grid-3 mb-30">
        <div className="card">
          <div className="flex-row align-center gap-10 mb-10">
            <FiUsers size={24} style={{ color: 'var(--grnb)' }} />
            <div>
              <h4>Pacientes Activos</h4>
              <div className="stat-value">{estadisticas.pacientesActivos || 0}</div>
            </div>
          </div>
          <div className="text-small">+{estadisticas.pacientesNuevosMes || 0} este mes</div>
        </div>
        
        <div className="card">
          <div className="flex-row align-center gap-10 mb-10">
            <FiCalendar size={24} style={{ color: 'var(--blu)' }} />
            <div>
              <h4>Citas Completadas</h4>
              <div className="stat-value">{estadisticas.citasCompletadas || 0}</div>
            </div>
          </div>
          <div className="text-small">este mes</div>
        </div>
        
        <div className="card">
          <div className="flex-row align-center gap-10 mb-10">
            <FiTrendingUp size={24} style={{ color: 'var(--yy)' }} />
            <div>
              <h4>Tasa de Retención</h4>
              <div className="stat-value">{estadisticas.tasaRetencion || 0}%</div>
            </div>
          </div>
          <div className="text-small">de pacientes continúan tratamiento</div>
        </div>
      </div>

      {/* Reportes Generados */}
      <div className="dashboard-section">
        <div className="section-header">
          <h3>Reportes Generados</h3>
          <div className="flex-row gap-10">
            <select className="select-field" style={{ width: '150px' }}>
              <option value="">Todos los tipos</option>
              <option value="mensual">Mensuales</option>
              <option value="especial">Especiales</option>
              <option value="becarios">Becarios</option>
              <option value="financiero">Financieros</option>
            </select>
            <input 
              type="text" 
              className="input-field" 
              placeholder="Buscar reporte..."
              style={{ width: '200px' }}
            />
          </div>
        </div>
        
        <div className="table-container">
          <table className="data-table">
            <thead>
              <tr>
                <th>Nombre del Reporte</th>
                <th>Tipo</th>
                <th>Fecha</th>
                <th>Generado por</th>
                <th>Descargas</th>
                <th>Acciones</th>
              </tr>
            </thead>
            <tbody>
              {reportes.map((reporte) => (
                <tr key={reporte.id}>
                  <td>
                    <div className="flex-row align-center gap-10">
                      <FiBarChart2 style={{ color: getColorByTipo(reporte.tipo) }} />
                      <span>{reporte.nombre}</span>
                    </div>
                  </td>
                  <td>
                    <span className="badge" style={{ 
                      background: getColorByTipo(reporte.tipo) + '20',
                      color: getColorByTipo(reporte.tipo),
                      borderColor: getColorByTipo(reporte.tipo)
                    }}>
                      {reporte.tipo}
                    </span>
                  </td>
                  <td>{new Date(reporte.fecha).toLocaleDateString()}</td>
                  <td>{reporte.generado_por}</td>
                  <td>{reporte.descargas}</td>
                  <td>
                    <div className="flex-row gap-5">
                      <button 
                        className="btn-text"
                        onClick={() => descargarReporte(reporte.id)}
                        title="Descargar"
                      >
                        <FiDownload />
                      </button>
                      <button 
                        className="btn-text"
                        onClick={() => imprimirReporte(reporte.id)}
                        title="Imprimir"
                      >
                        <FiPrinter />
                      </button>
                      <button className="btn-text">
                        Ver Vista Previa
                      </button>
                    </div>
                  </td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      </div>

      {/* Reporte Recién Generado */}
      {reporteGenerado && (
        <div className="card mt-20" style={{ borderLeft: `4px solid ${getColorByTipo(reporteGenerado.tipo)}` }}>
          <div className="section-header">
            <h3>📋 Reporte Generado Recientemente</h3>
            <button className="btn-text" onClick={() => setReporteGenerado(null)}>×</button>
          </div>
          
          <div className="grid-2 gap-20">
            <div>
              <strong>Nombre:</strong> {reporteGenerado.nombre}
            </div>
            <div>
              <strong>Tipo:</strong> {reporteGenerado.tipo}
            </div>
            <div>
              <strong>Fecha generación:</strong> {new Date(reporteGenerado.fecha).toLocaleString()}
            </div>
            <div>
              <strong>Generado por:</strong> {reporteGenerado.generado_por}
            </div>
          </div>
          
          <div className="flex-row gap-10 mt-15">
            <button 
              className="btn-primary"
              onClick={() => descargarReporte(reporteGenerado.id)}
            >
              <FiDownload /> Descargar Reporte
            </button>
            <button 
              className="btn-secondary"
              onClick={() => imprimirReporte(reporteGenerado.id)}
            >
              <FiPrinter /> Imprimir
            </button>
          </div>
        </div>
      )}

      {/* Tipos de Reportes Disponibles */}
      <div className="grid-4 mt-30">
        <div className="card">
          <h4>📊 Reportes Mensuales</h4>
          <p className="text-small mt-10">Resumen completo de actividad mensual del consultorio</p>
          <ul className="text-small mt-10">
            <li>Estadísticas de pacientes</li>
            <li>Citas realizadas</li>
            <li>Ingresos generados</li>
            <li>Indicadores clave</li>
          </ul>
        </div>
        
        <div className="card">
          <h4>👨‍⚕️ Reportes Clínicos</h4>
          <p className="text-small mt-10">Análisis de efectividad terapéutica y progreso</p>
          <ul className="text-small mt-10">
            <li>Evolución de pacientes</li>
            <li>Tasas de éxito</li>
            <li>Tiempos promedio de tratamiento</li>
            <li>Satisfacción del paciente</li>
          </ul>
        </div>
        
        <div className="card">
          <h4>👨‍🎓 Reportes de Becarios</h4>
          <p className="text-small mt-10">Seguimiento y evaluación de becarios</p>
          <ul className="text-small mt-10">
            <li>Carga de trabajo</li>
            <li>Evaluación de supervisiones</li>
            <li>Desempeño clínico</li>
            <li>Áreas de mejora</li>
          </ul>
        </div>
        
        <div className="card">
          <h4>💰 Reportes Financieros</h4>
          <p className="text-small mt-10">Análisis económico y de rentabilidad</p>
          <ul className="text-small mt-10">
            <li>Ingresos vs gastos</li>
            <li>Proyecciones financieras</li>
            <li>Análisis de rentabilidad</li>
            <li>Reportes fiscales</li>
          </ul>
        </div>
      </div>
    </div>
  );
};

export default CoordinadorReportes;

/src\pages\coordinador\UsuariosPage.js:
--------------------------------------------------------------------------------
import React, { useState, useEffect } from 'react';
import { FiSearch, FiUserPlus, FiEdit2, FiTrash2, FiFilter, FiUser, FiMail, FiPhone, FiCheckCircle, FiXCircle } from 'react-icons/fi';
import './coordinador.css';
import notifications from '../../utils/notifications';
import confirmations from '../../utils/confirmations';

const CoordinadorUsuarios = () => {
  const [usuarios, setUsuarios] = useState([]);
  const [loading, setLoading] = useState(true);
  const [searchTerm, setSearchTerm] = useState('');
  const [filterRol, setFilterRol] = useState('');
  const [includeInactivos, setIncludeInactivos] = useState(true); // mostrar inactivos por defecto
  const [showModal, setShowModal] = useState(false);
  const [modalType, setModalType] = useState('nuevo');
  const [formData, setFormData] = useState({
    nombre: '',
    apellido: '',
    email: '',
    telefono: '',
    rol: 'becario',
    especialidad: '',
    fundacion_id: '',
    activo: true,
    password: 'P@ssw0rd123' // contraseña temporal por defecto
  });

  useEffect(() => {
    fetchUsuarios();
  }, []);

  const fetchUsuarios = async () => {
    try {
      setLoading(true);
      const token = localStorage.getItem('token');
      const res = await fetch('http://localhost:3000/api/users', {
        headers: {
          'Content-Type': 'application/json',
          'Authorization': token ? `Bearer ${token}` : ''
        }
      });

      if (!res.ok) {
        // Si no es coordinador o token inválido, podemos mostrar un mensaje y seguir
        console.error('Error fetching users:', res.status);
        setLoading(false);
        return;
      }

      const data = await res.json();
      setUsuarios(data);
    } catch (error) {
      console.error('Error al obtener usuarios:', error);
    } finally {
      setLoading(false);
    }
  };

  const filteredUsuarios = usuarios.filter(usuario => {
    const matchesSearch = 
      `${usuario.nombre} ${usuario.apellido}`.toLowerCase().includes(searchTerm.toLowerCase()) ||
      usuario.email.toLowerCase().includes(searchTerm.toLowerCase());
    
    const matchesRol = !filterRol || usuario.rol === filterRol;
    const matchesActivo = includeInactivos ? true : usuario.activo;
    
    return matchesSearch && matchesRol && matchesActivo;
  });

  const handleInputChange = (e) => {
    const { name, value, type, checked } = e.target;
    // Si cambia el rol y estamos creando un nuevo usuario, establecer contraseña temporal por defecto
    setFormData(prev => {
      const next = {
        ...prev,
        [name]: type === 'checkbox' ? checked : value
      };

      if (name === 'rol' && modalType === 'nuevo') {
        // Mantener la contraseña temporal por defecto
        next.password = 'P@ssw0rd123';
      }

      return next;
    });
  };

  const handleSubmit = async (e) => {
    e.preventDefault();
    
    if (modalType === 'nuevo') {
      try {
        const token = localStorage.getItem('token');
        const res = await fetch('http://localhost:3000/api/users', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': token ? `Bearer ${token}` : ''
          },
          body: JSON.stringify(formData)
        });

        if (!res.ok) {
          const err = await res.json().catch(() => ({}));
          notifications.error(err.message || 'Error creando usuario');
          return;
        }

        const created = await res.json();
        // Añadir a la lista local (asegura compatibilidad de campos)
        setUsuarios(prev => [...prev, created]);
        notifications.success('Usuario creado exitosamente');
      } catch (error) {
        console.error('Error creando usuario:', error);
        notifications.error('Error creando usuario');
      }
    } else {
      // Editar usuario: enviar al backend
      try {
        const token = localStorage.getItem('token');
        const res = await fetch(`http://localhost:3000/api/users/${formData.id}`, {
          method: 'PUT',
          headers: {
            'Content-Type': 'application/json',
            'Authorization': token ? `Bearer ${token}` : ''
          },
          body: JSON.stringify(formData)
        });

        if (!res.ok) {
          const err = await res.json().catch(() => ({}));
          notifications.error(err.message || 'Error actualizando usuario');
          return;
        }

        const updated = await res.json();
        setUsuarios(prev => prev.map(u => u.id === updated.id ? updated : u));
        notifications.success('Usuario actualizado exitosamente');
      } catch (error) {
        console.error('Error actualizando usuario:', error);
        notifications.error('Error actualizando usuario');
      }
    }
    
    setShowModal(false);
    resetForm();
  };

  const deleteUsuario = async (id) => {
    const confirmado = await confirmations.danger('¿Seguro que desea eliminar este usuario?');
    if (!confirmado) return;
    
    try {
      const token = localStorage.getItem('token');
      const res = await fetch(`http://localhost:3000/api/users/${id}`, {
        method: 'DELETE',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': token ? `Bearer ${token}` : ''
        }
      });

      if (!res.ok) {
        const err = await res.json().catch(() => ({}));
        notifications.error(err.message || 'Error eliminando usuario');
        return;
      }

      setUsuarios(prev => prev.filter(u => u.id !== id));
      notifications.success('Usuario eliminado correctamente');
    } catch (error) {
      console.error('Error eliminando usuario:', error);
      notifications.error('Error eliminando usuario');
    }
  };

  const editarUsuario = (usuario) => {
    // Mapear fecha si es string
    const mapped = {
      ...usuario,
      password: 'P@ssw0rd123'
    };
    setFormData(mapped);
    setModalType('editar');
    setShowModal(true);
  };

  const toggleEstadoUsuario = async (id) => {
    try {
      const token = localStorage.getItem('token');
      // Encontrar usuario actual
      const usuario = usuarios.find(u => u.id === id);
      if (!usuario) return;

      const res = await fetch(`http://localhost:3000/api/users/${id}`, {
        method: 'PUT',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': token ? `Bearer ${token}` : ''
        },
        body: JSON.stringify({ activo: !usuario.activo })
      });

      if (!res.ok) {
        const err = await res.json().catch(() => ({}));
        notifications.error(err.message || 'Error al cambiar estado');
        return;
      }

      const updated = await res.json();
      setUsuarios(prev => prev.map(u => u.id === id ? updated : u));
    } catch (error) {
      console.error('Error toggling activo:', error);
      notifications.error('Error cambiando estado de usuario');
    }
  };

  const resetForm = () => {
    setFormData({
      nombre: '',
      apellido: '',
      email: '',
      telefono: '',
      rol: 'becario',
      especialidad: '',
      fundacion_id: '',
      activo: true,
      password: 'P@ssw0rd123'
    });
  };

  const getRolLabel = (rol) => {
    switch (rol) {
      case 'coordinador':
        return { text: 'Coordinador', color: 'danger' };
      case 'psicologo':
        return { text: 'Psicólogo', color: 'primary' };
      case 'becario':
        return { text: 'Becario', color: 'warning' };
      default:
        return { text: rol, color: 'info' };
    }
  };

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading-spinner"></div>
        <div className="loading-text">Cargando usuarios...</div>
      </div>
    );
  }

  return (
    <div className="configuracion-page">
      <div className="page-header">
        <div>
          <h1>Gestión de Usuarios</h1>
          <p>Administración de coordinadores, psicólogos y becarios</p>
        </div>
        <button 
          className="btn-primary"
          onClick={() => {
            resetForm();
            setModalType('nuevo');
            setShowModal(true);
          }}
        >
          <FiUserPlus /> Nuevo Usuario
        </button>
      </div>

      {/* Filtros y Búsqueda */}
      <div className="filters-container mb-20">
        <div className="search-box">
          <FiSearch />
          <input
            type="text"
            className="search-input"
            placeholder="Buscar usuario por nombre o email..."
            value={searchTerm}
            onChange={(e) => setSearchTerm(e.target.value)}
          />
        </div>
        
        <div className="filter-buttons">
          <select 
            value={filterRol} 
            onChange={(e) => setFilterRol(e.target.value)}
            className="select-field"
            style={{ width: '200px' }}
          >
            <option value="">Todos los roles</option>
            <option value="coordinador">Coordinadores</option>
            <option value="psicologo">Psicólogos</option>
            <option value="becario">Becarios</option>
          </select>

          <label className="ml-10 flex-row align-center">
            <input
              type="checkbox"
              checked={includeInactivos}
              onChange={(e) => setIncludeInactivos(e.target.checked)}
            />
            <span className="ml-5">Incluir inactivos</span>
          </label>

          <button
            className="btn-secondary ml-10"
            onClick={() => { setFilterRol(''); setSearchTerm(''); setIncludeInactivos(true); fetchUsuarios(); }}
            title="Mostrar todos"
          >
            Mostrar todos
          </button>

          <button
            className="btn-secondary ml-10"
            onClick={() => fetchUsuarios()}
            title="Refrescar"
          >
            Actualizar
          </button>
        </div>
      </div>

      {/* Tabla de Usuarios */}
      <div className="table-container">
        <table className="data-table">
          <thead>
            <tr>
              <th>Usuario</th>
              <th>Contacto</th>
              <th>Rol</th>
              <th>Especialidad</th>
              <th>Fecha Registro</th>
              <th>Estado</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            {filteredUsuarios.map((usuario) => {
              const rolInfo = getRolLabel(usuario.rol);
              
              return (
                <tr key={usuario.id}>
                  <td>
                    <div className="flex-row align-center gap-10">
                      <div className="avatar">
                        {usuario.nombre[0]}{usuario.apellido[0]}
                      </div>
                      <div>
                        <div className="font-bold">{usuario.nombre} {usuario.apellido}</div>
                        <div className="text-small">ID: {usuario.id}</div>
                      </div>
                    </div>
                  </td>
                  <td>
                    <div>{usuario.email}</div>
                    <div className="text-small">{usuario.telefono}</div>
                  </td>
                  <td>
                    <span className={`badge badge-${rolInfo.color}`}>
                      {rolInfo.text}
                    </span>
                  </td>
                  <td>{usuario.especialidad}</td>
                  <td>
                    {new Date(usuario.fecha_registro).toLocaleDateString()}
                  </td>
                  <td>
                    {usuario.activo ? (
                      <span className="badge badge-success">Activo</span>
                    ) : (
                      <span className="badge badge-danger">Inactivo</span>
                    )}
                  </td>
                  <td>
                    <div className="flex-row gap-5">
                      <button 
                        className="btn-text"
                        onClick={() => editarUsuario(usuario)}
                        title="Editar"
                      >
                        <FiEdit2 />
                      </button>
                      <button 
                        className={`btn-text ${usuario.activo ? 'text-danger' : 'text-success'}`}
                        onClick={() => toggleEstadoUsuario(usuario.id)}
                        title={usuario.activo ? 'Desactivar' : 'Activar'}
                      >
                        {usuario.activo ? <FiXCircle /> : <FiCheckCircle />}
                      </button>
                      <button
                        className="btn-text text-danger"
                        onClick={() => deleteUsuario(usuario.id)}
                        title="Eliminar"
                      >
                        <FiTrash2 />
                      </button>
                    </div>
                  </td>
                </tr>
              );
            })}
          </tbody>
        </table>
      </div>

      {/* Resumen */}
      <div className="grid-3 mt-20">
        <div className="card">
          <h4>Resumen de Usuarios</h4>
          <div className="mt-10">
            <p>Total: {usuarios.length}</p>
            <p>Activos: {usuarios.filter(u => u.activo).length}</p>
            <p>Becarios: {usuarios.filter(u => u.rol === 'becario').length}</p>
            <p>Psicólogos: {usuarios.filter(u => u.rol === 'psicologo').length}</p>
          </div>
        </div>
        
        <div className="card">
          <h4>Distribución por Rol</h4>
          <div className="mt-10">
            {Object.entries(
              usuarios.reduce((acc, user) => {
                acc[user.rol] = (acc[user.rol] || 0) + 1;
                return acc;
              }, {})
            ).map(([rol, count]) => (
              <div key={rol} className="flex-row justify-between mb-5">
                <span>{getRolLabel(rol).text}:</span>
                <span className="font-bold">{count}</span>
              </div>
            ))}
          </div>
        </div>
        
        <div className="card">
          <h4>Acciones</h4>
          <div className="mt-10 flex-col gap-10">
            <button className="btn-primary w-100">
              Exportar Listado
            </button>
            <button className="btn-secondary w-100">
              Enviar Recordatorios
            </button>
          </div>
        </div>
      </div>

      {/* Modal de Usuario */}
      {showModal && (
        <div className="modal-overlay">
          <div className="modal-container">
            <div className="modal-header">
              <h3>{modalType === 'nuevo' ? 'Nuevo Usuario' : 'Editar Usuario'}</h3>
              <button className="modal-close" onClick={() => setShowModal(false)}>×</button>
            </div>
            
            <form onSubmit={handleSubmit}>
              <div className="form-grid">
                <div className="form-group">
                  <label>Nombre</label>
                  <input
                    type="text"
                    name="nombre"
                    value={formData.nombre}
                    onChange={handleInputChange}
                    className="input-field"
                    required
                  />
                </div>
                
                <div className="form-group">
                  <label>Apellido</label>
                  <input
                    type="text"
                    name="apellido"
                    value={formData.apellido}
                    onChange={handleInputChange}
                    className="input-field"
                    required
                  />
                </div>
                
                <div className="form-group">
                  <label>Email</label>
                  <input
                    type="email"
                    name="email"
                    value={formData.email}
                    onChange={handleInputChange}
                    className="input-field"
                    required
                  />
                </div>
                
                <div className="form-group">
                  <label>Teléfono</label>
                  <input
                    type="tel"
                    name="telefono"
                    value={formData.telefono}
                    onChange={handleInputChange}
                    className="input-field"
                  />
                </div>
                
                <div className="form-group">
                  <label>Rol</label>
                  <select
                    name="rol"
                    value={formData.rol}
                    onChange={handleInputChange}
                    className="select-field"
                    required
                  >
                    <option value="becario">Becario</option>
                    <option value="psicologo">Psicólogo</option>
                    <option value="coordinador">Coordinador</option>
                  </select>
                </div>
                
                <div className="form-group">
                  <label>Especialidad</label>
                  <input
                    type="text"
                    name="especialidad"
                    value={formData.especialidad}
                    onChange={handleInputChange}
                    className="input-field"
                    placeholder="Ej: Terapia Cognitivo-Conductual"
                  />
                </div>
                
                {formData.rol === 'psicologo' && (
                  <div className="form-group" style={{ gridColumn: 'span 2' }}>
                    <label>Contraseña Temporal</label>
                    <input
                      type="text"
                      name="password"
                      value={formData.password}
                      className="input-field"
                      readOnly
                    />
                    <p className="text-small mt-5">El usuario deberá cambiar la contraseña en su primer inicio</p>
                  </div>
                )}
                
                <div className="form-group">
                  <label className="flex-row align-center gap-10">
                    <input
                      type="checkbox"
                      name="activo"
                      checked={formData.activo}
                      onChange={handleInputChange}
                    />
                    <span>Usuario activo</span>
                  </label>
                </div>
              </div>
              
              <div className="modal-footer">
                <button type="submit" className="btn-primary">
                  {modalType === 'nuevo' ? 'Crear Usuario' : 'Guardar Cambios'}
                </button>
                <button 
                  type="button" 
                  className="btn-danger"
                  onClick={() => setShowModal(false)}
                >
                  Cancelar
                </button>
              </div>
            </form>
          </div>
        </div>
      )}
    </div>
  );
};

export default CoordinadorUsuarios;

/src\pages\psicologo\CitasPage.js:
--------------------------------------------------------------------------------
import React, { useState, useEffect } from 'react';
import { 
  FiCalendar, FiClock, FiUser, FiFilter, 
  FiChevronLeft, FiChevronRight, FiRefreshCw,
  FiCheckCircle, FiXCircle, FiEdit2
} from 'react-icons/fi';
import { format, addDays, subDays } from 'date-fns';
import { es } from 'date-fns/locale';
import notifications from '../../utils/notifications';
import confirmations from '../../utils/confirmations';

const PsicologoCitas = () => {
  const [citas, setCitas] = useState([]);
  const [selectedDate, setSelectedDate] = useState(new Date());
  const [loading, setLoading] = useState(true);
  const [filterBecario, setFilterBecario] = useState('');
  const [filterEstado, setFilterEstado] = useState('');
  const [becarios, setBecarios] = useState([]);

  useEffect(() => {
    fetchData();
  }, [selectedDate]);

  const fetchData = async () => {
    try {
      setLoading(true);
      
      // Simulación de datos
      setTimeout(() => {
        setCitas([
          {
            id: 1,
            paciente_nombre: 'Carlos Gómez',
            fecha: format(new Date(), 'yyyy-MM-dd'),
            hora: '10:00',
            tipo_consulta: 'presencial',
            estado: 'confirmada',
            duracion: 50,
            becario_nombre: 'Juan Pérez',
            notas: 'Segunda sesión de exposición gradual'
          },
          {
            id: 2,
            paciente_nombre: 'Mariana López',
            fecha: format(new Date(), 'yyyy-MM-dd'),
            hora: '11:30',
            tipo_consulta: 'virtual',
            estado: 'programada',
            duracion: 45,
            becario_nombre: 'Sofía Ramírez',
            notas: 'Seguimiento de tareas asignadas'
          },
          {
            id: 3,
            paciente_nombre: 'Roberto Sánchez',
            fecha: format(new Date(), 'yyyy-MM-dd'),
            hora: '14:00',
            tipo_consulta: 'presencial',
            estado: 'completada',
            duracion: 60,
            becario_nombre: null,
            notas: 'Evaluación de progreso'
          }
        ]);
        
        setBecarios([
          { id: 1, nombre: 'Juan Pérez', apellido: 'Pérez' },
          { id: 2, nombre: 'Sofía', apellido: 'Ramírez' }
        ]);
        
        setLoading(false);
      }, 1000);
    } catch (error) {
      console.error('Error al cargar citas:', error);
      setLoading(false);
    }
  };

  const filteredCitas = citas.filter(cita => {
    const matchesBecario = !filterBecario || cita.becario_nombre?.includes(filterBecario);
    const matchesEstado = !filterEstado || cita.estado === filterEstado;
    return matchesBecario && matchesEstado;
  });

  const goToPreviousDay = () => {
    setSelectedDate(prev => subDays(prev, 1));
  };

  const goToNextDay = () => {
    setSelectedDate(prev => addDays(prev, 1));
  };

  const goToToday = () => {
    setSelectedDate(new Date());
  };

  const formatDateSpanish = (date) => {
    return format(date, "EEEE d 'de' MMMM, yyyy", { locale: es });
  };

  const handleEstadoCita = (citaId, nuevoEstado) => {
    setCitas(prev => 
      prev.map(cita => 
        cita.id === citaId ? { ...cita, estado: nuevoEstado } : cita
      )
    );
    notifications.success(`Cita ${nuevoEstado === 'completada' ? 'marcada como completada' : 'cancelada'}`);
  };

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading-spinner"></div>
        <div className="loading-text">Cargando citas...</div>
      </div>
    );
  }

  return (
    <div className="citas-page">
      <div className="page-header">
        <div>
          <h1>Mis Citas</h1>
          <p>Agenda de sesiones y supervisiones</p>
        </div>
        <button className="btn-secondary" onClick={fetchData}>
          <FiRefreshCw /> Actualizar
        </button>
      </div>

      <div className="calendar-controls">
        <div className="date-navigation">
          <button className="btn-text" onClick={goToPreviousDay}>
            <FiChevronLeft /> Ayer
          </button>
          
          <div className="current-date">
            <h3>{formatDateSpanish(selectedDate)}</h3>
          </div>
          
          <button className="btn-text" onClick={goToNextDay}>
            Mañana <FiChevronRight />
          </button>
        </div>

        <div className="quick-actions">
          <button className="btn-secondary" onClick={goToToday}>
            Hoy
          </button>
        </div>
      </div>

      {/* Filtros */}
      <div className="filters-container mb-20">
        <div className="grid-2 gap-20">
          <div className="form-group">
            <label>Filtrar por becario</label>
            <select 
              value={filterBecario} 
              onChange={(e) => setFilterBecario(e.target.value)}
              className="select-field"
            >
              <option value="">Todos los becarios</option>
              {becarios.map(becario => (
                <option key={becario.id} value={becario.nombre}>
                  {becario.nombre} {becario.apellido}
                </option>
              ))}
              <option value="sin_becario">Sin becario</option>
            </select>
          </div>
          
          <div className="form-group">
            <label>Filtrar por estado</label>
            <select 
              value={filterEstado} 
              onChange={(e) => setFilterEstado(e.target.value)}
              className="select-field"
            >
              <option value="">Todos los estados</option>
              <option value="programada">Programadas</option>
              <option value="confirmada">Confirmadas</option>
              <option value="completada">Completadas</option>
              <option value="cancelada">Canceladas</option>
            </select>
          </div>
        </div>
      </div>

      {/* Vista de Calendario */}
      <div className="calendar-day-view mb-20">
        <div className="time-column">
          {[9, 10, 11, 12, 13, 14, 15, 16, 17, 18].map(hour => (
            <div key={hour} className="time-slot">
              <span className="time-label">{hour}:00</span>
            </div>
          ))}
        </div>

        <div className="events-column">
          {[9, 10, 11, 12, 13, 14, 15, 16, 17, 18].map(hour => {
            const hourCitas = filteredCitas.filter(cita => 
              parseInt(cita.hora.split(':')[0]) === hour
            );

            return (
              <div key={hour} className="hour-slot">
                {hourCitas.map((cita) => (
                  <div 
                    key={cita.id}
                    className={`event-item ${
                      cita.estado === 'confirmada' ? 'event-confirmed' :
                      cita.estado === 'completada' ? 'event-completed' :
                      cita.estado === 'programada' ? 'event-pending' :
                      'event-cancelled'
                    }`}
                  >
                    <div className="event-header">
                      <div className="event-time">
                        <FiClock /> {cita.hora}
                      </div>
                      <div className="event-type">{cita.tipo_consulta}</div>
                    </div>
                    <div className="event-content">
                      <div className="event-patient">
                        <FiUser /> {cita.paciente_nombre}
                      </div>
                      {cita.becario_nombre && (
                        <div className="event-becario">👨‍🎓 {cita.becario_nombre}</div>
                      )}
                      {cita.notas && (
                        <div className="event-notes">{cita.notas}</div>
                      )}
                    </div>
                    <div className="event-footer">
                      <span className={`badge ${
                        cita.estado === 'confirmada' ? 'badge-success' :
                        cita.estado === 'completada' ? 'badge-primary' :
                        cita.estado === 'programada' ? 'badge-warning' :
                        'badge-danger'
                      }`}>
                        {cita.estado}
                      </span>
                    </div>
                  </div>
                ))}
              </div>
            );
          })}
        </div>
      </div>

      {/* Lista de Citas */}
      <div className="day-citas-list">
        <h3>Citas para {formatDateSpanish(selectedDate)} ({filteredCitas.length})</h3>
        
        {filteredCitas.length > 0 ? (
          <div className="citas-cards">
            {filteredCitas.map((cita) => (
              <div key={cita.id} className="cita-card">
                <div className="cita-card-header">
                  <div className="cita-time">
                    <FiClock /> {cita.hora} ({cita.duracion} min)
                  </div>
                  <div className={`cita-status badge ${
                    cita.estado === 'confirmada' ? 'badge-success' :
                    cita.estado === 'completada' ? 'badge-primary' :
                    cita.estado === 'programada' ? 'badge-warning' :
                    'badge-danger'
                  }`}>
                    {cita.estado}
                  </div>
                </div>
                
                <div className="cita-card-body">
                  <div className="cita-paciente">
                    <FiUser /> {cita.paciente_nombre}
                  </div>
                  
                  <div className="cita-info">
                    <div className="cita-tipo">
                      {cita.tipo_consulta === 'presencial' ? '📋 Presencial' : '💻 Virtual'}
                    </div>
                    
                    {cita.becario_nombre && (
                      <div className="cita-becario">
                        👨‍🎓 {cita.becario_nombre}
                      </div>
                    )}
                    
                    {cita.notas && (
                      <div className="cita-notas">
                        <strong>Notas:</strong> {cita.notas}
                      </div>
                    )}
                  </div>
                </div>
                
                <div className="cita-card-footer">
                  <button className="btn-text">
                    <FiEdit2 /> Editar
                  </button>
                  
                  {cita.estado === 'confirmada' && (
                    <button 
                      className="btn-text text-success"
                      onClick={() => handleEstadoCita(cita.id, 'completada')}
                    >
                      <FiCheckCircle /> Completar
                    </button>
                  )}
                  
                  {(cita.estado === 'programada' || cita.estado === 'confirmada') && (
                    <button 
                      className="btn-text text-danger"
                      onClick={() => handleEstadoCita(cita.id, 'cancelada')}
                    >
                      <FiXCircle /> Cancelar
                    </button>
                  )}
                </div>
              </div>
            ))}
          </div>
        ) : (
          <div className="no-citas">
            <div className="no-citas-icon">📅</div>
            <div>No hay citas programadas para este día</div>
            <p className="text-small mt-10">Prueba con otros filtros o selecciona otra fecha</p>
          </div>
        )}
      </div>

      {/* Estadísticas del Día */}
      <div className="grid-3 mt-20">
        <div className="card">
          <h4>Resumen del Día</h4>
          <div className="mt-10">
            <p>Total: {citas.length}</p>
            <p>Confirmadas: {citas.filter(c => c.estado === 'confirmada').length}</p>
            <p>Con becario: {citas.filter(c => c.becario_nombre).length}</p>
          </div>
        </div>
        
        <div className="card">
          <h4>Tipos de Consulta</h4>
          <div className="mt-10">
            <p>Presencial: {citas.filter(c => c.tipo_consulta === 'presencial').length}</p>
            <p>Virtual: {citas.filter(c => c.tipo_consulta === 'virtual').length}</p>
          </div>
        </div>
        
        <div className="card">
          <h4>Acciones</h4>
          <div className="mt-10 flex-col gap-10">
            <button className="btn-primary w-100">
              Agendar Cita
            </button>
            <button className="btn-secondary w-100">
              Ver Agenda Semanal
            </button>
          </div>
        </div>
      </div>
    </div>
  );
};

export default PsicologoCitas;

/src\pages\psicologo\DashboardPage.js:
--------------------------------------------------------------------------------
import React, { useState, useEffect } from 'react';
import { 
  FiUsers, FiCalendar, FiTrendingUp, FiBarChart2,
  FiUserCheck, FiClock, FiRefreshCw
} from 'react-icons/fi';
import notifications from '../../utils/notifications';
import confirmations from '../../utils/confirmations';

const PsicologoDashboard = () => {
  const [estadisticas, setEstadisticas] = useState({
    pacientesActivos: 0,
    citasHoy: 0,
    citasSemana: 0,
    becariosAsignados: 0,
    sesionesMes: 0,
    altasMes: 0
  });
  const [citasHoy, setCitasHoy] = useState([]);
  const [becarios, setBecarios] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchDashboardData();
  }, []);

  const fetchDashboardData = async () => {
    try {
      // Simulación de datos
      setTimeout(() => {
        setEstadisticas({
          pacientesActivos: 12,
          citasHoy: 4,
          citasSemana: 15,
          becariosAsignados: 2,
          sesionesMes: 48,
          altasMes: 2
        });
        
        setCitasHoy([
          { id: 1, paciente: 'Carlos Gómez', hora: '10:00 AM', tipo: 'presencial' },
          { id: 2, paciente: 'Mariana López', hora: '11:30 AM', tipo: 'virtual' },
          { id: 3, paciente: 'Roberto Sánchez', hora: '02:00 PM', tipo: 'presencial' },
          { id: 4, paciente: 'Ana Rodríguez', hora: '04:30 PM', tipo: 'virtual' }
        ]);
        
        setBecarios([
          { id: 1, nombre: 'Juan Pérez', pacientes: 3, observaciones: 5 },
          { id: 2, nombre: 'Sofía Ramírez', pacientes: 2, observaciones: 3 }
        ]);
        
        setLoading(false);
      }, 1000);
    } catch (error) {
      console.error('Error cargando dashboard:', error);
      setLoading(false);
    }
  };

  const statCards = [
    {
      title: 'Pacientes Activos',
      value: estadisticas.pacientesActivos,
      icon: <FiUsers />,
      color: 'var(--grnb)',
      change: 'En tratamiento'
    },
    {
      title: 'Citas Hoy',
      value: estadisticas.citasHoy,
      icon: <FiCalendar />,
      color: 'var(--blu)',
      change: 'Programadas'
    },
    {
      title: 'Citas Esta Semana',
      value: estadisticas.citasSemana,
      icon: <FiClock />,
      color: 'var(--yy)',
      change: 'Próximos 7 días'
    },
    {
      title: 'Becarios Asignados',
      value: estadisticas.becariosAsignados,
      icon: <FiUserCheck />,
      color: 'var(--grnd)',
      change: 'En supervisión'
    },
    {
      title: 'Sesiones Mes',
      value: estadisticas.sesionesMes,
      icon: <FiTrendingUp />,
      color: 'var(--grnl)',
      change: 'Realizadas'
    },
    {
      title: 'Altas Este Mes',
      value: estadisticas.altasMes,
      icon: <FiBarChart2 />,
      color: 'var(--rr)',
      change: 'Pacientes dados de alta'
    }
  ];

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading-spinner"></div>
        <div className="loading-text">Cargando panel del psicólogo...</div>
      </div>
    );
  }

  return (
    <div className="dashboard-page">
      <div className="page-header">
        <div>
          <h1>Panel del Psicólogo</h1>
          <p>Supervisión y gestión de pacientes</p>
        </div>
        <button className="btn-secondary" onClick={fetchDashboardData}>
          <FiRefreshCw /> Actualizar
        </button>
      </div>

      {/* Stats Grid */}
      <div className="stats-grid">
        {statCards.map((stat, index) => (
          <div key={index} className="stat-card">
            <div className="stat-header">
              <div className="stat-icon" style={{ color: stat.color }}>
                {stat.icon}
              </div>
              <h3>{stat.title}</h3>
            </div>
            <div className="stat-value">{stat.value}</div>
            <div className="stat-change">{stat.change}</div>
          </div>
        ))}
      </div>

      {/* Main Content Grid */}
      <div className="dashboard-content-grid">
        {/* Citas de Hoy */}
        <div className="dashboard-section">
          <div className="section-header">
            <h3>Citas de Hoy</h3>
            <button className="btn-text">Ver Agenda</button>
          </div>
          
          <div className="citas-list">
            {citasHoy.map((cita) => (
              <div key={cita.id} className="cita-item">
                <div className="cita-info">
                  <div className="cita-paciente">{cita.paciente}</div>
                  <div className="cita-hora">{cita.hora} • {cita.tipo === 'presencial' ? 'Presencial' : 'Virtual'}</div>
                </div>
                <button className="btn-text">Ver</button>
              </div>
            ))}
          </div>
        </div>

        {/* Becarios Asignados */}
        <div className="dashboard-section">
          <div className="section-header">
            <h3>Becarios en Supervisión</h3>
            <button className="btn-text">Ver todos</button>
          </div>
          
          <div className="pacientes-list">
            {becarios.map((becario) => (
              <div key={becario.id} className="paciente-item">
                <div className="paciente-info">
                  <div className="paciente-nombre">{becario.nombre}</div>
                  <div className="paciente-fecha">
                    {becario.pacientes} pacientes • {becario.observaciones} observaciones
                  </div>
                </div>
                <div className="paciente-progreso">
                  <div className="progress-container">
                    <div 
                      className="progress-bar"
                      style={{ width: `${(becario.observaciones / 10) * 100}%` }}
                    ></div>
                  </div>
                  <span className="progreso-text">
                    {Math.round((becario.observaciones / 10) * 100)}%
                  </span>
                </div>
              </div>
            ))}
          </div>
        </div>

        {/* Estadísticas Mensuales */}
        <div className="dashboard-section">
          <div className="section-header">
            <h3>Estadísticas del Mes</h3>
          </div>
          
          <div className="activity-chart">
            <div className="chart-placeholder">
              <div className="chart-bars">
                {[65, 80, 45, 90, 75, 60, 85, 70, 95, 50, 65, 80].map((height, index) => (
                  <div key={index} className="chart-bar">
                    <div 
                      className="bar-fill"
                      style={{ height: `${height}%` }}
                    ></div>
                    <div className="bar-label">
                      {['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'][index]}
                    </div>
                  </div>
                ))}
              </div>
            </div>
          </div>
        </div>

        {/* Quick Actions */}
        <div className="dashboard-section">
          <div className="section-header">
            <h3>Acciones Rápidas</h3>
          </div>
          
          <div className="quick-actions">
            <button className="btn-primary w-100 mb-10">
              Ver Mis Pacientes
            </button>
            <button className="btn-secondary w-100 mb-10">
              Registrar Sesión
            </button>
            <button className="btn-warning w-100 mb-10">
              Revisar Observaciones
            </button>
            <button className="btn-text w-100">
              Generar Reporte Mensual
            </button>
          </div>
        </div>
      </div>
    </div>
  );
};

export default PsicologoDashboard;

/src\pages\psicologo\ExpedientesPage.js:
--------------------------------------------------------------------------------
import React, { useState, useEffect } from 'react';
import { FiSearch, FiFileText, FiCalendar, FiUser, FiPhone, FiMail, FiDownload } from 'react-icons/fi';
import notifications from '../../utils/notifications';
import confirmations from '../../utils/confirmations';

const PsicologoExpedientes = () => {
  const [expedientes, setExpedientes] = useState([]);
  const [loading, setLoading] = useState(true);
  const [searchTerm, setSearchTerm] = useState('');
  const [selectedExpediente, setSelectedExpediente] = useState(null);
  const [showDetalles, setShowDetalles] = useState(false);

  useEffect(() => {
    fetchExpedientes();
  }, []);

  const fetchExpedientes = async () => {
    try {
      // Simulación de datos
      setTimeout(() => {
        setExpedientes([
          {
            id: 1,
            paciente_nombre: 'Carlos Gómez',
            edad: 25,
            fecha_ingreso: '2023-10-15',
            diagnostico: 'Trastorno de ansiedad generalizada',
            motivo_consulta: 'Ansiedad académica',
            antecedentes: 'No significativos',
            tratamiento_actual: 'Terapia cognitivo-conductual',
            medicacion: 'No',
            ultima_evaluacion: '2024-01-10',
            proxima_cita: '2024-01-17',
            sesiones_totales: 8,
            evolucion: 'Mejoría progresiva en manejo de ansiedad'
          },
          {
            id: 2,
            paciente_nombre: 'Mariana López',
            edad: 28,
            fecha_ingreso: '2023-09-20',
            diagnostico: 'Síndrome de burnout',
            motivo_consulta: 'Estrés laboral',
            antecedentes: 'Antecedentes familiares de ansiedad',
            tratamiento_actual: 'Terapia de aceptación y compromiso',
            medicacion: 'No',
            ultima_evaluacion: '2024-01-09',
            proxima_cita: '2024-01-16',
            sesiones_totales: 12,
            evolucion: 'Mejor manejo de límites laborales'
          }
        ]);
        setLoading(false);
      }, 1000);
    } catch (error) {
      console.error('Error al obtener expedientes:', error);
      setLoading(false);
    }
  };

  const filteredExpedientes = expedientes.filter(expediente =>
    expediente.paciente_nombre.toLowerCase().includes(searchTerm.toLowerCase()) ||
    expediente.diagnostico.toLowerCase().includes(searchTerm.toLowerCase())
  );

  const showExpedienteDetalles = (expediente) => {
    setSelectedExpediente(expediente);
    setShowDetalles(true);
  };

  const exportarExpediente = (expediente) => {
    // Simulación de exportación
    notifications.success(`Exportando expediente de ${expediente.paciente_nombre}...`);
  };

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading-spinner"></div>
        <div className="loading-text">Cargando expedientes...</div>
      </div>
    );
  }

  return (
    <div className="configuracion-page">
      <div className="page-header">
        <div>
          <h1>Expedientes Clínicos</h1>
          <p>Historial clínico completo de pacientes</p>
        </div>
      </div>

      {/* Búsqueda */}
      <div className="search-box mb-20">
        <FiSearch />
        <input
          type="text"
          className="search-input"
          placeholder="Buscar expediente por nombre o diagnóstico..."
          value={searchTerm}
          onChange={(e) => setSearchTerm(e.target.value)}
        />
      </div>

      {/* Lista de Expedientes */}
      <div className="grid-2 gap-20">
        {filteredExpedientes.map((expediente) => (
          <div key={expediente.id} className="card">
            <div className="flex-row align-center justify-between mb-10">
              <div className="flex-row align-center gap-10">
                <div className="avatar">
                  {expediente.paciente_nombre.split(' ').map(n => n[0]).join('')}
                </div>
                <div>
                  <h3>{expediente.paciente_nombre}</h3>
                  <p className="text-small">{expediente.edad} años</p>
                </div>
              </div>
              <button 
                className="btn-text"
                onClick={() => exportarExpediente(expediente)}
                title="Exportar expediente"
              >
                <FiDownload />
              </button>
            </div>

            <div className="mb-10">
              <p><strong>Diagnóstico:</strong> {expediente.diagnostico}</p>
              <p><strong>Tratamiento:</strong> {expediente.tratamiento_actual}</p>
              <p><strong>Sesiones totales:</strong> {expediente.sesiones_totales}</p>
            </div>

            <div className="flex-row gap-10">
              <button 
                className="btn-primary flex-1"
                onClick={() => showExpedienteDetalles(expediente)}
              >
                <FiFileText /> Ver Expediente
              </button>
            </div>
          </div>
        ))}
      </div>

      {/* Modal de Detalles del Expediente */}
      {showDetalles && selectedExpediente && (
        <div className="modal-overlay">
          <div className="modal-container modal-large">
            <div className="modal-header">
              <h3>Expediente Clínico de {selectedExpediente.paciente_nombre}</h3>
              <button className="modal-close" onClick={() => setShowDetalles(false)}>×</button>
            </div>
            
            <div className="modal-content">
              <div className="grid-2 gap-20">
                <div>
                  <h4>Datos Generales</h4>
                  <div className="detail-row">
                    <strong>Paciente:</strong> {selectedExpediente.paciente_nombre}
                  </div>
                  <div className="detail-row">
                    <strong>Edad:</strong> {selectedExpediente.edad} años
                  </div>
                  <div className="detail-row">
                    <strong>Fecha de ingreso:</strong> {new Date(selectedExpediente.fecha_ingreso).toLocaleDateString()}
                  </div>
                  <div className="detail-row">
                    <strong>Motivo de consulta:</strong> {selectedExpediente.motivo_consulta}
                  </div>
                </div>
                
                <div>
                  <h4>Información Clínica</h4>
                  <div className="detail-row">
                    <strong>Diagnóstico:</strong> {selectedExpediente.diagnostico}
                  </div>
                  <div className="detail-row">
                    <strong>Antecedentes:</strong> {selectedExpediente.antecedentes}
                  </div>
                  <div className="detail-row">
                    <strong>Tratamiento actual:</strong> {selectedExpediente.tratamiento_actual}
                  </div>
                  <div className="detail-row">
                    <strong>Medicación:</strong> {selectedExpediente.medicacion}
                  </div>
                </div>
              </div>
              
              <div className="mt-20">
                <h4>Evolución y Seguimiento</h4>
                <div className="detail-row">
                  <strong>Evolución clínica:</strong> {selectedExpediente.evolucion}
                </div>
                <div className="detail-row">
                  <strong>Sesiones totales:</strong> {selectedExpediente.sesiones_totales}
                </div>
                <div className="detail-row">
                  <strong>Última evaluación:</strong> {new Date(selectedExpediente.ultima_evaluacion).toLocaleDateString()}
                </div>
                <div className="detail-row">
                  <strong>Próxima cita:</strong> {selectedExpediente.proxima_cita ? new Date(selectedExpediente.proxima_cita).toLocaleDateString() : 'No programada'}
                </div>
              </div>
              
              <div className="mt-20">
                <h4>Historial de Sesiones</h4>
                <div className="timeline mt-10">
                  <div className="timeline-item">
                    <div className="timeline-content">
                      <strong>2024-01-10 - Sesión 8</strong>
                      <p>Continuación trabajo en exposición gradual. Paciente reporta menor ansiedad anticipatoria.</p>
                    </div>
                  </div>
                  <div className="timeline-item">
                    <div className="timeline-content">
                      <strong>2024-01-03 - Sesión 7</strong>
                      <p>Introducción de técnicas de exposición. Paciente colaborador y motivado.</p>
                    </div>
                  </div>
                  <div className="timeline-item">
                    <div className="timeline-content">
                      <strong>2023-12-27 - Sesión 6</strong>
                      <p>Revisión de tareas. Buen progreso en identificación de pensamientos automáticos.</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <div className="modal-footer">
              <button className="btn-secondary" onClick={() => setShowDetalles(false)}>
                Cerrar
              </button>
              <button className="btn-primary" onClick={() => exportarExpediente(selectedExpediente)}>
                <FiDownload /> Exportar Expediente
              </button>
            </div>
          </div>
        </div>
      )}
    </div>
  );
};

export default PsicologoExpedientes;

/src\pages\psicologo\PacientesPage.js:
--------------------------------------------------------------------------------
import React, { useState, useEffect } from 'react';
import { FiSearch, FiUser, FiCalendar, FiPhone, FiMail, FiFileText, FiFilter } from 'react-icons/fi';
import notifications from '../../utils/notifications';
import confirmations from '../../utils/confirmations';

const PsicologoPacientes = () => {
  const [pacientes, setPacientes] = useState([]);
  const [loading, setLoading] = useState(true);
  const [searchTerm, setSearchTerm] = useState('');
  const [selectedPaciente, setSelectedPaciente] = useState(null);
  const [showDetalles, setShowDetalles] = useState(false);
  const [filterEstado, setFilterEstado] = useState('');

  useEffect(() => {
    fetchPacientes();
  }, []);

  const fetchPacientes = async () => {
    try {
      // Simulación de datos
      setTimeout(() => {
        setPacientes([
          {
            id: 1,
            nombre: 'Carlos Gómez',
            edad: 25,
            telefono: '555-1234',
            email: 'carlos@email.com',
            motivo_consulta: 'Ansiedad académica',
            diagnostico: 'Trastorno de ansiedad generalizada',
            ultima_sesion: '2024-01-10',
            proxima_cita: '2024-01-17',
            sesiones_completadas: 8,
            estado: 'activo',
            becario: 'Juan Pérez'
          },
          {
            id: 2,
            nombre: 'Mariana López',
            edad: 28,
            telefono: '555-5678',
            email: 'mariana@email.com',
            motivo_consulta: 'Estrés laboral',
            diagnostico: 'Síndrome de burnout',
            ultima_sesion: '2024-01-09',
            proxima_cita: '2024-01-16',
            sesiones_completadas: 12,
            estado: 'activo',
            becario: 'Sofía Ramírez'
          },
          {
            id: 3,
            nombre: 'Roberto Sánchez',
            edad: 22,
            telefono: '555-9012',
            email: 'roberto@email.com',
            motivo_consulta: 'Problemas de adaptación',
            diagnostico: 'Trastorno adaptativo',
            ultima_sesion: '2024-01-08',
            proxima_cita: '2024-01-15',
            sesiones_completadas: 5,
            estado: 'activo',
            becario: null
          },
          {
            id: 4,
            nombre: 'Ana Rodríguez',
            edad: 35,
            telefono: '555-3456',
            email: 'ana@email.com',
            motivo_consulta: 'Depresión',
            diagnostico: 'Episodio depresivo moderado',
            ultima_sesion: '2024-01-05',
            proxima_cita: null,
            sesiones_completadas: 20,
            estado: 'alta_terapeutica',
            becario: 'Juan Pérez'
          }
        ]);
        setLoading(false);
      }, 1000);
    } catch (error) {
      console.error('Error al obtener pacientes:', error);
      setLoading(false);
    }
  };

  const filteredPacientes = pacientes.filter(paciente => {
    const matchesSearch = 
      paciente.nombre.toLowerCase().includes(searchTerm.toLowerCase()) ||
      paciente.email.toLowerCase().includes(searchTerm.toLowerCase()) ||
      paciente.diagnostico.toLowerCase().includes(searchTerm.toLowerCase());
    
    const matchesEstado = !filterEstado || paciente.estado === filterEstado;
    
    return matchesSearch && matchesEstado;
  });

  const showPacienteDetalles = (paciente) => {
    setSelectedPaciente(paciente);
    setShowDetalles(true);
  };

  const getEstadoLabel = (estado) => {
    switch (estado) {
      case 'activo':
        return { text: 'Activo', color: 'success' };
      case 'alta_terapeutica':
        return { text: 'Alta Terapéutica', color: 'primary' };
      case 'abandono':
        return { text: 'Abandono', color: 'danger' };
      default:
        return { text: estado, color: 'warning' };
    }
  };

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading-spinner"></div>
        <div className="loading-text">Cargando pacientes...</div>
      </div>
    );
  }

  return (
    <div className="pacientes-page">
      <div className="page-header">
        <div>
          <h1>Mis Pacientes</h1>
          <p>Gestión de pacientes en tratamiento</p>
        </div>
      </div>

      {/* Filtros y Búsqueda */}
      <div className="filters-container mb-20">
        <div className="search-box">
          <FiSearch />
          <input
            type="text"
            className="search-input"
            placeholder="Buscar paciente por nombre, email o diagnóstico..."
            value={searchTerm}
            onChange={(e) => setSearchTerm(e.target.value)}
          />
        </div>
        
        <div className="filter-buttons">
          <select 
            value={filterEstado} 
            onChange={(e) => setFilterEstado(e.target.value)}
            className="select-field"
            style={{ width: '200px' }}
          >
            <option value="">Todos los estados</option>
            <option value="activo">Activos</option>
            <option value="alta_terapeutica">Altas Terapéuticas</option>
            <option value="abandono">Abandonos</option>
          </select>
        </div>
      </div>

      {/* Tabla de Pacientes */}
      <div className="table-container">
        <table className="data-table">
          <thead>
            <tr>
              <th>Paciente</th>
              <th>Contacto</th>
              <th>Diagnóstico</th>
              <th>Sesiones</th>
              <th>Última Sesión</th>
              <th>Becario</th>
              <th>Estado</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            {filteredPacientes.map((paciente) => {
              const estadoInfo = getEstadoLabel(paciente.estado);
              
              return (
                <tr key={paciente.id}>
                  <td>
                    <div className="flex-row align-center gap-10">
                      <div className="avatar">
                        {paciente.nombre.split(' ').map(n => n[0]).join('')}
                      </div>
                      <div>
                        <div className="font-bold">{paciente.nombre}</div>
                        <div className="text-small">{paciente.edad} años</div>
                      </div>
                    </div>
                  </td>
                  <td>
                    <div>{paciente.email}</div>
                    <div className="text-small">{paciente.telefono}</div>
                  </td>
                  <td>
                    <div className="diagnostico-tag">{paciente.diagnostico}</div>
                  </td>
                  <td>
                    <div className="font-bold">{paciente.sesiones_completadas}</div>
                    <div className="text-small">sesiones</div>
                  </td>
                  <td>
                    {paciente.ultima_sesion ? new Date(paciente.ultima_sesion).toLocaleDateString() : 'N/A'}
                  </td>
                  <td>
                    {paciente.becario || 'Sin asignar'}
                  </td>
                  <td>
                    <span className={`badge badge-${estadoInfo.color}`}>
                      {estadoInfo.text}
                    </span>
                  </td>
                  <td>
                    <div className="flex-row gap-5">
                      <button 
                        className="btn-text"
                        onClick={() => showPacienteDetalles(paciente)}
                        title="Ver detalles"
                      >
                        <FiFileText />
                      </button>
                      <button 
                        className="btn-text"
                        title="Agendar cita"
                      >
                        <FiCalendar />
                      </button>
                    </div>
                  </td>
                </tr>
              );
            })}
          </tbody>
        </table>
      </div>

      {/* Resumen */}
      <div className="grid-3 mt-20">
        <div className="card">
          <h4>Resumen de Pacientes</h4>
          <div className="mt-10">
            <p>Total: {pacientes.length}</p>
            <p>Activos: {pacientes.filter(p => p.estado === 'activo').length}</p>
            <p>Con becario: {pacientes.filter(p => p.becario).length}</p>
          </div>
        </div>
        
        <div className="card">
          <h4>Sesiones Totales</h4>
          <div className="mt-10">
            <p className="stat-value">{pacientes.reduce((sum, p) => sum + p.sesiones_completadas, 0)}</p>
            <p className="text-small">sesiones realizadas</p>
          </div>
        </div>
        
        <div className="card">
          <h4>Acciones</h4>
          <div className="mt-10 flex-col gap-10">
            <button className="btn-primary w-100">
              Agendar Cita Grupal
            </button>
            <button className="btn-secondary w-100">
              Generar Reporte
            </button>
          </div>
        </div>
      </div>

      {/* Modal de Detalles */}
      {showDetalles && selectedPaciente && (
        <div className="modal-overlay">
          <div className="modal-container modal-large">
            <div className="modal-header">
              <h3>Expediente de {selectedPaciente.nombre}</h3>
              <button className="modal-close" onClick={() => setShowDetalles(false)}>×</button>
            </div>
            
            <div className="modal-content">
              <div className="grid-2 gap-20">
                <div>
                  <h4>Datos Personales</h4>
                  <div className="detail-row">
                    <strong>Nombre:</strong> {selectedPaciente.nombre}
                  </div>
                  <div className="detail-row">
                    <strong>Edad:</strong> {selectedPaciente.edad} años
                  </div>
                  <div className="detail-row">
                    <strong>Contacto:</strong> {selectedPaciente.telefono} • {selectedPaciente.email}
                  </div>
                  <div className="detail-row">
                    <strong>Motivo de consulta:</strong> {selectedPaciente.motivo_consulta}
                  </div>
                </div>
                
                <div>
                  <h4>Información Clínica</h4>
                  <div className="detail-row">
                    <strong>Diagnóstico:</strong> {selectedPaciente.diagnostico}
                  </div>
                  <div className="detail-row">
                    <strong>Estado:</strong> 
                    <span className={`badge badge-${getEstadoLabel(selectedPaciente.estado).color} ml-10`}>
                      {getEstadoLabel(selectedPaciente.estado).text}
                    </span>
                  </div>
                  <div className="detail-row">
                    <strong>Sesiones completadas:</strong> {selectedPaciente.sesiones_completadas}
                  </div>
                  <div className="detail-row">
                    <strong>Becario asignado:</strong> {selectedPaciente.becario || 'No asignado'}
                  </div>
                </div>
              </div>
              
              <div className="mt-20">
                <h4>Historial de Sesiones</h4>
                <div className="table-container mt-10">
                  <table className="data-table">
                    <thead>
                      <tr>
                        <th>Fecha</th>
                        <th>Tipo</th>
                        <th>Duración</th>
                        <th>Observaciones</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>{new Date(selectedPaciente.ultima_sesion).toLocaleDateString()}</td>
                        <td>Presencial</td>
                        <td>50 min</td>
                        <td>Avance en técnicas de relajación</td>
                      </tr>
                      <tr>
                        <td>2024-01-03</td>
                        <td>Virtual</td>
                        <td>45 min</td>
                        <td>Trabajo en identificación de pensamientos automáticos</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
            
            <div className="modal-footer">
              <button className="btn-secondary" onClick={() => setShowDetalles(false)}>
                Cerrar
              </button>
              <button className="btn-primary">
                Agendar Nueva Sesión
              </button>
              <button className="btn-warning">
                Registrar Sesión
              </button>
            </div>
          </div>
        </div>
      )}
    </div>
  );
};

export default PsicologoPacientes;

/src\pages\psicologo\SesionesPage.js:
--------------------------------------------------------------------------------
import React, { useState, useEffect } from 'react';
import { FiCalendar, FiUser, FiFileText, FiPlus, FiEdit2, FiSave } from 'react-icons/fi';
import notifications from '../../utils/notifications';
import confirmations from '../../utils/confirmations';

const PsicologoSesiones = () => {
  const [sesiones, setSesiones] = useState([]);
  const [loading, setLoading] = useState(true);
  const [showForm, setShowForm] = useState(false);
  const [formData, setFormData] = useState({
    paciente_id: '',
    fecha: new Date().toISOString().split('T')[0],
    hora_inicio: '10:00',
    hora_fin: '11:00',
    motivo_consulta: '',
    contenido_sesion: '',
    observaciones: '',
    tareas_asignadas: '',
    proxima_sesion: ''
  });
  const [pacientes, setPacientes] = useState([]);

  useEffect(() => {
    fetchData();
  }, []);

  const fetchData = async () => {
    try {
      // Simulación de datos
      setTimeout(() => {
        setPacientes([
          { id: 1, nombre: 'Carlos Gómez' },
          { id: 2, nombre: 'Mariana López' },
          { id: 3, nombre: 'Roberto Sánchez' }
        ]);
        
        setSesiones([
          {
            id: 1,
            paciente_nombre: 'Carlos Gómez',
            fecha: '2024-01-10',
            hora_inicio: '10:00',
            hora_fin: '11:00',
            motivo_consulta: 'Ansiedad académica',
            contenido_sesion: 'Exposición gradual a situaciones académicas estresantes',
            observaciones: 'Paciente mostró buena disposición y colaboración',
            tareas_asignadas: 'Practicar técnicas de relajación 10 min/día',
            proxima_sesion: '2024-01-17'
          },
          {
            id: 2,
            paciente_nombre: 'Mariana López',
            fecha: '2024-01-09',
            hora_inicio: '11:30',
            hora_fin: '12:15',
            motivo_consulta: 'Estrés laboral',
            contenido_sesion: 'Trabajo en establecimiento de límites laborales',
            observaciones: 'Paciente reporta mejor manejo de situaciones laborales',
            tareas_asignadas: 'Registrar situaciones estresantes en el trabajo',
            proxima_sesion: '2024-01-16'
          }
        ]);
        
        setLoading(false);
      }, 1000);
    } catch (error) {
      console.error('Error al cargar datos:', error);
      setLoading(false);
    }
  };

  const handleInputChange = (e) => {
    const { name, value } = e.target;
    setFormData({
      ...formData,
      [name]: value
    });
  };

  const handleSubmit = (e) => {
    e.preventDefault();
    
    const nuevaSesion = {
      id: sesiones.length + 1,
      paciente_nombre: pacientes.find(p => p.id == formData.paciente_id)?.nombre || 'Paciente',
      ...formData
    };
    
    setSesiones([nuevaSesion, ...sesiones]);
    setShowForm(false);
    resetForm();
    
    notifications.success('Sesión registrada exitosamente');
  };

  const resetForm = () => {
    setFormData({
      paciente_id: '',
      fecha: new Date().toISOString().split('T')[0],
      hora_inicio: '10:00',
      hora_fin: '11:00',
      motivo_consulta: '',
      contenido_sesion: '',
      observaciones: '',
      tareas_asignadas: '',
      proxima_sesion: ''
    });
  };

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading-spinner"></div>
        <div className="loading-text">Cargando sesiones...</div>
      </div>
    );
  }

  return (
    <div className="configuracion-page">
      <div className="page-header">
        <div>
          <h1>Registro de Sesiones</h1>
          <p>Registro detallado de sesiones terapéuticas</p>
        </div>
        <button 
          className="btn-primary"
          onClick={() => setShowForm(true)}
        >
          <FiPlus /> Nueva Sesión
        </button>
      </div>

      {/* Formulario de Nueva Sesión */}
      {showForm && (
        <div className="card mb-20">
          <div className="modal-header">
            <h3>Registrar Nueva Sesión</h3>
            <button className="modal-close" onClick={() => setShowForm(false)}>×</button>
          </div>
          
          <form onSubmit={handleSubmit}>
            <div className="form-grid">
              <div className="form-group">
                <label>Paciente</label>
                <select
                  name="paciente_id"
                  value={formData.paciente_id}
                  onChange={handleInputChange}
                  className="select-field"
                  required
                >
                  <option value="">Seleccionar paciente</option>
                  {pacientes.map(paciente => (
                    <option key={paciente.id} value={paciente.id}>
                      {paciente.nombre}
                    </option>
                  ))}
                </select>
              </div>
              
              <div className="form-group">
                <label>Fecha de sesión</label>
                <input
                  type="date"
                  name="fecha"
                  value={formData.fecha}
                  onChange={handleInputChange}
                  className="input-field"
                  required
                />
              </div>
              
              <div className="form-group">
                <label>Hora inicio</label>
                <input
                  type="time"
                  name="hora_inicio"
                  value={formData.hora_inicio}
                  onChange={handleInputChange}
                  className="input-field"
                  required
                />
              </div>
              
              <div className="form-group">
                <label>Hora fin</label>
                <input
                  type="time"
                  name="hora_fin"
                  value={formData.hora_fin}
                  onChange={handleInputChange}
                  className="input-field"
                  required
                />
              </div>
              
              <div className="form-group" style={{ gridColumn: 'span 2' }}>
                <label>Motivo de consulta</label>
                <input
                  type="text"
                  name="motivo_consulta"
                  value={formData.motivo_consulta}
                  onChange={handleInputChange}
                  className="input-field"
                  required
                  placeholder="Motivo principal de la sesión"
                />
              </div>
              
              <div className="form-group" style={{ gridColumn: 'span 2' }}>
                <label>Contenido de la sesión</label>
                <textarea
                  name="contenido_sesion"
                  value={formData.contenido_sesion}
                  onChange={handleInputChange}
                  className="textarea-field"
                  rows="4"
                  required
                  placeholder="Descripción detallada de lo trabajado en la sesión..."
                />
              </div>
              
              <div className="form-group">
                <label>Observaciones</label>
                <textarea
                  name="observaciones"
                  value={formData.observaciones}
                  onChange={handleInputChange}
                  className="textarea-field"
                  rows="3"
                  placeholder="Observaciones relevantes del paciente..."
                />
              </div>
              
              <div className="form-group">
                <label>Tareas asignadas</label>
                <textarea
                  name="tareas_asignadas"
                  value={formData.tareas_asignadas}
                  onChange={handleInputChange}
                  className="textarea-field"
                  rows="3"
                  placeholder="Tareas o ejercicios para el paciente..."
                />
              </div>
              
              <div className="form-group">
                <label>Próxima sesión</label>
                <input
                  type="date"
                  name="proxima_sesion"
                  value={formData.proxima_sesion}
                  onChange={handleInputChange}
                  className="input-field"
                  placeholder="Fecha de próxima sesión"
                />
              </div>
            </div>
            
            <div className="form-actions">
              <button type="submit" className="btn-primary">
                <FiSave /> Guardar Sesión
              </button>
              <button 
                type="button" 
                className="btn-danger"
                onClick={() => {
                  setShowForm(false);
                  resetForm();
                }}
              >
                Cancelar
              </button>
            </div>
          </form>
        </div>
      )}

      {/* Lista de Sesiones Registradas */}
      <div className="config-content">
        <h3>Sesiones Registradas</h3>
        
        {sesiones.length > 0 ? (
          <div className="sesiones-list">
            {sesiones.map((sesion) => (
              <div key={sesion.id} className="accordion">
                <div className="accordion-header">
                  <div className="flex-row align-center gap-10">
                    <FiCalendar />
                    <span>{new Date(sesion.fecha).toLocaleDateString()}</span>
                  </div>
                  <div className="flex-row align-center gap-10">
                    <FiUser />
                    <span>{sesion.paciente_nombre}</span>
                  </div>
                  <div className="flex-row align-center gap-10">
                    <span>{sesion.hora_inicio} - {sesion.hora_fin}</span>
                  </div>
                </div>
                
                <div className="accordion-content">
                  <div className="grid-2 gap-20">
                    <div>
                      <h4>Motivo de consulta</h4>
                      <p>{sesion.motivo_consulta}</p>
                      
                      <h4 className="mt-10">Contenido de la sesión</h4>
                      <p>{sesion.contenido_sesion}</p>
                    </div>
                    
                    <div>
                      <h4>Observaciones</h4>
                      <p>{sesion.observaciones}</p>
                      
                      <h4 className="mt-10">Tareas asignadas</h4>
                      <p>{sesion.tareas_asignadas}</p>
                      
                      {sesion.proxima_sesion && (
                        <>
                          <h4 className="mt-10">Próxima sesión</h4>
                          <p>{new Date(sesion.proxima_sesion).toLocaleDateString()}</p>
                        </>
                      )}
                    </div>
                  </div>
                </div>
              </div>
            ))}
          </div>
        ) : (
          <div className="no-citas">
            <div className="no-citas-icon">📋</div>
            <div>No hay sesiones registradas</div>
            <p className="text-small mt-10">
              Registra las sesiones terapéuticas para mantener un historial completo.
            </p>
            <button 
              className="btn-text mt-10"
              onClick={() => setShowForm(true)}
            >
              <FiPlus /> Registrar tu primera sesión
            </button>
          </div>
        )}
      </div>
    </div>
  );
};

export default PsicologoSesiones;

/src\pages\psicologo\SupervisionPage.js:
--------------------------------------------------------------------------------
import React, { useState, useEffect } from 'react';
import { FiUser, FiFileText, FiCalendar, FiMessageSquare, FiCheckCircle, FiAlertCircle } from 'react-icons/fi';
import notifications from '../../utils/notifications';
import confirmations from '../../utils/confirmations';

const PsicologoSupervision = () => {
  const [becarios, setBecarios] = useState([]);
  const [observaciones, setObservaciones] = useState([]);
  const [loading, setLoading] = useState(true);
  const [selectedBecario, setSelectedBecario] = useState(null);
  const [showFeedback, setShowFeedback] = useState(false);
  const [feedback, setFeedback] = useState('');

  useEffect(() => {
    fetchData();
  }, []);

  const fetchData = async () => {
    try {
      // Simulación de datos
      setTimeout(() => {
        setBecarios([
          {
            id: 1,
            nombre: 'Juan Pérez',
            email: 'becario1@psicogestion.com',
            fecha_inicio: '2023-09-01',
            pacientes_asignados: 3,
            sesiones_supervisadas: 15,
            observaciones_pendientes: 2,
            ultima_supervision: '2024-01-08'
          },
          {
            id: 2,
            nombre: 'Sofía Ramírez',
            email: 'becario2@psicogestion.com',
            fecha_inicio: '2023-10-15',
            pacientes_asignados: 2,
            sesiones_supervisadas: 8,
            observaciones_pendientes: 1,
            ultima_supervision: '2024-01-05'
          }
        ]);
        
        setObservaciones([
          {
            id: 1,
            becario_nombre: 'Juan Pérez',
            paciente_nombre: 'Carlos Gómez',
            fecha: '2024-01-10',
            contenido: 'El becario mostró buena empatía y habilidades de escucha activa.',
            areas_mejora: 'Necesita trabajar en el manejo de silencios incómodos.',
            feedback: 'Excelente manejo de la exposición gradual.',
            estado: 'revisada'
          },
          {
            id: 2,
            becario_nombre: 'Sofía Ramírez',
            paciente_nombre: 'Mariana López',
            fecha: '2024-01-09',
            contenido: 'Buen trabajo en el establecimiento de límites laborales.',
            areas_mejora: 'Podría profundizar más en el análisis de pensamientos automáticos.',
            feedback: '',
            estado: 'pendiente'
          }
        ]);
        
        setLoading(false);
      }, 1000);
    } catch (error) {
      console.error('Error al cargar datos:', error);
      setLoading(false);
    }
  };

  const enviarFeedback = (becarioId) => {
    if (!feedback.trim()) {
      notifications.success('Por favor, escribe algún feedback');
      return;
    }
    
    // Aquí se enviaría al backend
    notifications.success(`Feedback enviado a ${becarios.find(b => b.id === becarioId)?.nombre}`);
    setFeedback('');
    setShowFeedback(false);
  };

  const getBecarioObservaciones = (becarioId) => {
    return observaciones.filter(obs => 
      obs.becario_nombre === becarios.find(b => b.id === becarioId)?.nombre
    );
  };

  if (loading) {
    return (
      <div className="loading-container">
        <div className="loading-spinner"></div>
        <div className="loading-text">Cargando supervisión...</div>
      </div>
    );
  }

  return (
    <div className="configuracion-page">
      <div className="page-header">
        <div>
          <h1>Supervisión de Becarios</h1>
          <p>Gestión y seguimiento de becarios en formación</p>
        </div>
      </div>

      {/* Lista de Becarios */}
      <div className="config-content">
        <h3>Becarios en Supervisión</h3>
        
        <div className="grid-2 gap-20 mt-20">
          {becarios.map((becario) => {
            const becarioObservaciones = getBecarioObservaciones(becario.id);
            const observacionesPendientes = becarioObservaciones.filter(o => o.estado === 'pendiente').length;
            
            return (
              <div key={becario.id} className="card">
                <div className="flex-row align-center justify-between mb-10">
                  <div className="flex-row align-center gap-10">
                    <div className="avatar">
                      {becario.nombre.split(' ').map(n => n[0]).join('')}
                    </div>
                    <div>
                      <h3>{becario.nombre}</h3>
                      <p className="text-small">{becario.email}</p>
                    </div>
                  </div>
                  {observacionesPendientes > 0 && (
                    <span className="badge badge-warning">
                      {observacionesPendientes} pendientes
                    </span>
                  )}
                </div>

                <div className="mb-10">
                  <div className="grid-2 gap-10">
                    <div>
                      <p><strong>Pacientes:</strong> {becario.pacientes_asignados}</p>
                      <p><strong>Sesiones:</strong> {becario.sesiones_supervisadas}</p>
                    </div>
                    <div>
                      <p><strong>Inicio:</strong> {new Date(becario.fecha_inicio).toLocaleDateString()}</p>
                      <p><strong>Última supervisión:</strong> {new Date(becario.ultima_supervision).toLocaleDateString()}</p>
                    </div>
                  </div>
                </div>

                <div className="flex-row gap-10">
                  <button 
                    className="btn-primary flex-1"
                    onClick={() => {
                      setSelectedBecario(becario);
                      setShowFeedback(true);
                    }}
                  >
                    <FiMessageSquare /> Dar Feedback
                  </button>
                  <button className="btn-text">
                    <FiFileText /> Ver Observaciones
                  </button>
                </div>
              </div>
            );
          })}
        </div>

        {/* Observaciones de Becarios */}
        <div className="mt-30">
          <h3>Observaciones Recientes</h3>
          
          <div className="observaciones-list mt-10">
            {observaciones.map((obs) => (
              <div key={obs.id} className="accordion">
                <div className="accordion-header">
                  <div className="flex-row align-center gap-10">
                    <FiCalendar />
                    <span>{new Date(obs.fecha).toLocaleDateString()}</span>
                  </div>
                  <div className="flex-row align-center gap-10">
                    <FiUser />
                    <span>{obs.becario_nombre} → {obs.paciente_nombre}</span>
                  </div>
                  <div className={`badge ${
                    obs.estado === 'revisada' ? 'badge-success' : 'badge-warning'
                  }`}>
                    {obs.estado === 'revisada' ? 'Revisada' : 'Pendiente'}
                  </div>
                </div>
                
                <div className="accordion-content">
                  <div className="grid-2 gap-20">
                    <div>
                      <h4>Observaciones</h4>
                      <p>{obs.contenido}</p>
                      
                      <h4 className="mt-10">Áreas de mejora</h4>
                      <p>{obs.areas_mejora}</p>
                    </div>
                    
                    <div>
                      <h4>Feedback del supervisor</h4>
                      {obs.feedback ? (
                        <p>{obs.feedback}</p>
                      ) : (
                        <p className="text-danger">Sin feedback aún</p>
                      )}
                      
                      <button 
                        className="btn-text mt-10"
                        onClick={() => {
                          setSelectedBecario(becarios.find(b => b.nombre === obs.becario_nombre));
                          setShowFeedback(true);
                        }}
                      >
                        <FiMessageSquare /> {obs.feedback ? 'Editar Feedback' : 'Agregar Feedback'}
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>

        {/* Estadísticas */}
        <div className="grid-3 mt-30 gap-20">
          <div className="card">
            <h4>Resumen de Supervisión</h4>
            <div className="mt-10">
              <p>Total becarios: {becarios.length}</p>
              <p>Observaciones pendientes: {observaciones.filter(o => o.estado === 'pendiente').length}</p>
              <p>Sesiones supervisadas: {becarios.reduce((sum, b) => sum + b.sesiones_supervisadas, 0)}</p>
            </div>
          </div>
          
          <div className="card">
            <h4>Próximas Supervisiones</h4>
            <div className="mt-10">
              <p>Juan Pérez: 2024-01-15</p>
              <p>Sofía Ramírez: 2024-01-12</p>
              <p className="text-small mt-10">Agenda programada</p>
            </div>
          </div>
          
          <div className="card">
            <h4>Acciones</h4>
            <div className="mt-10 flex-col gap-10">
              <button className="btn-primary w-100">
                Programar Supervisión
              </button>
              <button className="btn-secondary w-100">
                Generar Informe
              </button>
            </div>
          </div>
        </div>
      </div>

      {/* Modal para Feedback */}
      {showFeedback && selectedBecario && (
        <div className="modal-overlay">
          <div className="modal-container">
            <div className="modal-header">
              <h3>Feedback para {selectedBecario.nombre}</h3>
              <button className="modal-close" onClick={() => setShowFeedback(false)}>×</button>
            </div>
            
            <div className="modal-content">
              <div className="form-group">
                <label>Escribe tu feedback</label>
                <textarea
                  value={feedback}
                  onChange={(e) => setFeedback(e.target.value)}
                  className="textarea-field"
                  rows="6"
                  placeholder="Comparte tus observaciones, sugerencias y áreas de mejora..."
                />
              </div>
              
              <div className="mt-10">
                <p className="text-small">
                  <FiAlertCircle /> El feedback debe ser constructivo y específico.
                </p>
              </div>
            </div>
            
            <div className="modal-footer">
              <button 
                className="btn-secondary"
                onClick={() => setShowFeedback(false)}
              >
                Cancelar
              </button>
              <button 
                className="btn-primary"
                onClick={() => enviarFeedback(selectedBecario.id)}
              >
                <FiCheckCircle /> Enviar Feedback
              </button>
            </div>
          </div>
        </div>
      )}
    </div>
  );
};

export default PsicologoSupervision;

/src\utils\confirmations.js:
--------------------------------------------------------------------------------
import { showConfirm } from '../components/Common/ConfirmModal'

// Función para confirmaciones de peligro (rojo - para eliminar)
export const confirmDanger = (message) => {
  return showConfirm(message, 'danger')
}

// Función para confirmaciones de advertencia (amarillo - estándar)
export const confirmWarning = (message) => {
  return showConfirm(message, 'warning')
}

// Función para confirmaciones de información (azul - neutral)
export const confirmInfo = (message) => {
  return showConfirm(message, 'info')
}

// Alias para la función principal
export const confirm = showConfirm

// Exporta como objeto global
export default {
  danger: confirmDanger,
  warning: confirmWarning,
  info: confirmInfo,
  show: confirm
}

/src\utils\notifications.js:
--------------------------------------------------------------------------------
import { showNotification } from '../components/Common/NotificationModal'

// Función para notificaciones de éxito (verde)
export const notifySuccess = (message) => {
  showNotification(message, 'success')
}

// Función para notificaciones de error (rojo)
export const notifyError = (message) => {
  showNotification(message, 'error')
}

// Función para notificaciones de advertencia (amarillo)
export const notifyWarning = (message) => {
  showNotification(message, 'warning')
}

// Función para notificaciones de información (azul)
export const notifyInfo = (message) => {
  showNotification(message, 'info')
}

// Alias para la función principal
export const notify = showNotification

// Exporta como objeto global
export default {
  success: notifySuccess,
  error: notifyError,
  warning: notifyWarning,
  info: notifyInfo,
  show: notify
}